{"remainingRequest":"/home/dc/Documents/BP/vue-bp-web/node_modules/babel-loader/lib/index.js!/home/dc/Documents/BP/vue-bp-web/node_modules/eslint-loader/index.js??ref--14-0!/home/dc/Documents/BP/vue-bp-web/src/myfiles/taskHandler.js","dependencies":[{"path":"/home/dc/Documents/BP/vue-bp-web/src/myfiles/taskHandler.js","mtime":1647291874968},{"path":"/home/dc/Documents/BP/vue-bp-web/babel.config.js","mtime":1646999302412},{"path":"/home/dc/Documents/BP/vue-bp-web/node_modules/cache-loader/dist/cjs.js","mtime":1642114936856},{"path":"/home/dc/Documents/BP/vue-bp-web/node_modules/babel-loader/lib/index.js","mtime":1642114938312},{"path":"/home/dc/Documents/BP/vue-bp-web/node_modules/eslint-loader/index.js","mtime":1642114937120}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICIvaG9tZS9kYy9Eb2N1bWVudHMvQlAvdnVlLWJwLXdlYi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MuanMiOwppbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gIi9ob21lL2RjL0RvY3VtZW50cy9CUC92dWUtYnAtd2ViL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjay5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy50cmltLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLWluZGV4LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuYXQtYWx0ZXJuYXRpdmUuanMiOwppbXBvcnQgeyB0b2tlbml6ZSwgVG9rZW4gfSBmcm9tICIuL3Rva2VuaXplciI7Cgp2YXIgbWF0aCA9IHJlcXVpcmUoIm1hdGhqcyIpOyAvLyBUYXNrIHdpdGggY29uY3JldGUgdmFsdWVzCgoKZXhwb3J0IHZhciBDb25jcmV0ZVRhc2sgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZUNsYXNzKGZ1bmN0aW9uIENvbmNyZXRlVGFzaygpIHsKICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ29uY3JldGVUYXNrKTsKCiAgdGhpcy50ZXh0ID0gIiI7CiAgdGhpcy5xdWVzdGlvbnMgPSBbXTsKICB0aGlzLmFuc3dlcnMgPSBuZXcgTWFwKCk7CiAgdGhpcy52YXJpYWJsZXMgPSBuZXcgTWFwKCk7Cn0pOyAvLyBDbGFzcyB0aGF0IHJlcHJlc2VudHMgdGhlIHF1ZXN0aW9ucwovLyBvZiB0aGUgZ2l2ZW4gdGFzawoKZXhwb3J0IHZhciBRdWVzdGlvbiA9IC8qI19fUFVSRV9fKi9fY3JlYXRlQ2xhc3MoZnVuY3Rpb24gUXVlc3Rpb24oKSB7CiAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFF1ZXN0aW9uKTsKCiAgdGhpcy50ZXh0ID0gIiI7Cn0pOwpleHBvcnQgdmFyIEFuc3dlciA9IC8qI19fUFVSRV9fKi9fY3JlYXRlQ2xhc3MoZnVuY3Rpb24gQW5zd2VyKF9uYW1lKSB7CiAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEFuc3dlcik7CgogIHRoaXMubmFtZSA9IF9uYW1lOwogIHRoaXMuY29ycmVjdCA9IFtdOwogIHRoaXMuaW5jb3JyZWN0ID0gW107CiAgdGhpcy5yYW5nZSA9IG5ldyBSYW5nZSgpOwogIHRoaXMudmlzaWJsZSA9IHRydWU7Cn0pOwpleHBvcnQgdmFyIFZhcmlhYmxlID0gLyojX19QVVJFX18qL19jcmVhdGVDbGFzcyhmdW5jdGlvbiBWYXJpYWJsZShfbmFtZSkgewogIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBWYXJpYWJsZSk7CgogIHRoaXMubmFtZSA9IF9uYW1lOwogIHRoaXMuZGVmaW5pdGlvbiA9ICIiOwogIHRoaXMucmFuZ2UgPSBuZXcgUmFuZ2UoKTsKICB0aGlzLnZpc2libGUgPSB0cnVlOwogIHRoaXMuYWRkZWQgPSBmYWxzZTsKfSk7CmV4cG9ydCB2YXIgUmFuZ2UgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZUNsYXNzKGZ1bmN0aW9uIFJhbmdlKCkgewogIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSYW5nZSk7CgogIHRoaXMuc3RhcnQgPSAiIjsKICB0aGlzLmVuZCA9ICIiOwogIHRoaXMuc3RlcCA9ICIiOwoKICB0aGlzLmZ1bGxSYW5nZSA9IGZ1bmN0aW9uICgpIHsKICAgIGlmICh0aGlzLnN0YXJ0LnRyaW0oKSA9PSAiIiB8fCB0aGlzLmVuZC50cmltKCkgPT0gIiIgfHwgdGhpcy5zdGVwLnRyaW0oKSA9PSAiIikgewogICAgICByZXR1cm4gIiI7CiAgICB9CgogICAgcmV0dXJuICIoIiArIHRoaXMuc3RhcnQgKyAiLCIgKyB0aGlzLmVuZCArICIsIiArIHRoaXMuc3RlcCArICIpIjsKICB9Owp9KTsgLy8gQ2xhc3MgdGhhdCByZXByZXNlbnRzIHRoZSB0YXNrCi8vIHRoaXMgd2lsbCBiZSBzYXZlZCBpbiB0aGUgZGF0YWJhc2UKCmV4cG9ydCB2YXIgVGFzayA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgZnVuY3Rpb24gVGFzaygpIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUYXNrKTsKCiAgICAvLyBDb250ZW50CiAgICB0aGlzLnRleHQgPSAiIjsKICAgIHRoaXMucUluZGV4ID0gLTE7CiAgICB0aGlzLnF1ZXN0aW9ucyA9IFtdOwogICAgdGhpcy52SW5kZXggPSAtMTsKICAgIHRoaXMudmFyaWFibGVzID0gW107CiAgICB0aGlzLmFuc3dlcnMgPSBbXTsKICB9IC8vIEFkZGluZyB0ZXh0IHRvIHRhc2sKCgogIF9jcmVhdGVDbGFzcyhUYXNrLCBbewogICAga2V5OiAiYWRkVGFza1RleHQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGFkZFRhc2tUZXh0KF90ZXh0KSB7CiAgICAgIHRoaXMudGV4dCArPSAiICIgKyBfdGV4dC50b1N0cmluZygpOwogICAgfSAvLyBRdWVzdGlvbiBtZXRob2RzCgogIH0sIHsKICAgIGtleTogImFkZE5ld1F1ZXN0aW9uIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBhZGROZXdRdWVzdGlvbigpIHsKICAgICAgdGhpcy5xdWVzdGlvbnMucHVzaChuZXcgUXVlc3Rpb24oKSk7CiAgICAgIHRoaXMucUluZGV4Kys7CiAgICB9CiAgfSwgewogICAga2V5OiAiYWRkUXVlc3Rpb25UZXh0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRRdWVzdGlvblRleHQoX3RleHQpIHsKICAgICAgdGhpcy5xdWVzdGlvbnNbdGhpcy5xSW5kZXhdLnRleHQgKz0gIiAiICsgX3RleHQ7CiAgICB9CiAgfSwgewogICAga2V5OiAiZmluZEFuc3dlciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZmluZEFuc3dlcihfbmFtZSkgewogICAgICByZXR1cm4gdGhpcy5hbnN3ZXJzLmZpbmQoZnVuY3Rpb24gKGEpIHsKICAgICAgICByZXR1cm4gYS5uYW1lID09IF9uYW1lOwogICAgICB9KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJhZGROZXdBbnN3ZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGFkZE5ld0Fuc3dlcihfbmFtZSkgewogICAgICB0aGlzLmFuc3dlcnMucHVzaChuZXcgQW5zd2VyKF9uYW1lKSk7CiAgICB9IC8vIEFkZCBuZXcgdmFyaWFibGUgdG8gdGFzayBpZiBub3QgYWxyZWFkeSBpbiBhcnJheQoKICB9LCB7CiAgICBrZXk6ICJhZGROZXdWYXJpYWJsZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkTmV3VmFyaWFibGUoX25hbWUpIHsKICAgICAgaWYgKCF0aGlzLnZhcmlhYmxlcy5maW5kKGZ1bmN0aW9uICh2KSB7CiAgICAgICAgcmV0dXJuIHYubmFtZSA9PSBfbmFtZTsKICAgICAgfSkpIHsKICAgICAgICB0aGlzLnZhcmlhYmxlcy5wdXNoKG5ldyBWYXJpYWJsZShfbmFtZSkpOwogICAgICAgIHRoaXMudkluZGV4Kys7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJzZXRWYXJpYWJsZUluZGV4IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRWYXJpYWJsZUluZGV4KF9uYW1lKSB7CiAgICAgIHRoaXMudkluZGV4ID0gdGhpcy52YXJpYWJsZXMuZmluZEluZGV4KGZ1bmN0aW9uICh2KSB7CiAgICAgICAgcmV0dXJuIHYubmFtZSA9PSBfbmFtZTsKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiYWRkVmFyaWFibGVEZWZpbml0aW9uIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRWYXJpYWJsZURlZmluaXRpb24oX2RlZmluaXRpb24pIHsKICAgICAgdGhpcy52YXJpYWJsZXNbdGhpcy52SW5kZXhdLmRlZmluaXRpb24gPSBfZGVmaW5pdGlvbjsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJmaW5kVmFyaWFibGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGZpbmRWYXJpYWJsZShfbmFtZSkgewogICAgICByZXR1cm4gdGhpcy52YXJpYWJsZXMuZmluZChmdW5jdGlvbiAodikgewogICAgICAgIHJldHVybiB2Lm5hbWUgPT0gX25hbWU7CiAgICAgIH0pOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIFRhc2s7Cn0oKTsgLy8gUGFyc2VzIHRoZSBtYXJrdXAgbGFuZ3VhZ2UKCmV4cG9ydCBmdW5jdGlvbiBwYXJzZU1hdGhMYW5nKHRleHQpIHsKICBjb25zb2xlLmxvZyh0ZXh0KTsgLy8gTG9nZ2luZwogIC8vIEZpcnN0LCB0b2tlbml6ZSB0aGUgaW5wdXQgZmlsZQoKICB2YXIgdG9rZW5zID0gdG9rZW5pemUodGV4dCk7CiAgdmFyIGxpbmVOdW1iZXIgPSAwOwogIHZhciBpID0gMDsKICBjb25zb2xlLmxvZyh0b2tlbnMpOyAvLyBMb2dnaW5nCiAgLy8gQ3JlYXRlIHRhc2sgb2JqZWN0IHdoZXJlIHRoZSBuZXcgdGFzayB3aWxsIGJlIHNhdmVkCgogIHZhciB0YXNrID0gbmV3IFRhc2soKTsgLy8gRXJyb3IgY2hlY2tpbmcKCiAgaWYgKGNoZWNrRW5kT2ZJbnB1dCgpKSByZXR1cm4gdGFzazsKICBwYXJzZVRleHQoKTsKICBpZiAodGFzay5lcnJvcikgcmV0dXJuIHRhc2s7CiAgcGFyc2VRdWVzdGlvbnMoKTsKICBpZiAodGFzay5lcnJvcikgcmV0dXJuIHRhc2s7CiAgcGFyc2VEZWZpbml0aW9ucygpOwogIGlmICh0YXNrLmVycm9yKSByZXR1cm4gdGFzazsKICBwYXJzZVJhbmdlcygpOwogIGNvbnNvbGUubG9nKHRhc2spOwogIHJldHVybiB0YXNrOwogIC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqLwogIC8vIENoZWNrIGVuZCBvZiBpbnB1dCBlcnJvcgoKICBmdW5jdGlvbiBjaGVja0VuZE9mSW5wdXQoKSB7CiAgICBpZiAoaSA9PSB0b2tlbnMubGVuZ3RoKSB7CiAgICAgIHRhc2suZXJyb3IgPSB0cnVlOwogICAgICB0YXNrLmVyck1zZyA9ICJQYXJzZXIgZXJyb3I6IFVuZXhwZWN0ZWQgZW5kIG9mIGlucHV0LiI7CiAgICB9CgogICAgcmV0dXJuIHRhc2suZXJyb3I7CiAgfSAvLyBQYXJzZSB0aGUgI3RleHQgcGFydCBvZiB0aGUgZ2l2ZW4gdGV4dAoKCiAgZnVuY3Rpb24gcGFyc2VUZXh0KCkgewogICAgLy8gVGV4dCBzZWN0aW9uIHN0YXJ0cyB3aXRoICcjdGV4dCcKICAgIGlmICghY2hlY2tUb2tlblR5cGUoVG9rZW4udHlwZXMua2V5d29yZCkpIHRva2VuVHlwZUVycm9yKCJFeHBlY3RlZCBrZXl3b3JkLCBzdGFydGluZyB3aXRoICMiKTsKICAgIGlmICghY2hlY2tUb2tlblZhbHVlKCIjdGV4dCIpKSB0b2tlblZhbHVlRXJyb3IoIkV4cGVjdGVkICN0ZXh0IGtleXdvcmQiKTsKICAgIGkrKzsgLy8gTW92ZSB0byBuZXh0IHRva2VuCiAgICAvLyBBcHBlbmQgdGV4dCB1bnRpbCB0aGUgbmV4dCBrZXl3b3JkCgogICAgd2hpbGUgKCFjaGVja0VuZE9mSW5wdXQoKSAmJiAhY2hlY2tUb2tlblR5cGUoVG9rZW4udHlwZXMua2V5d29yZCkpIHsKICAgICAgLy8gU2F2ZSB2YXJpYWJsZSB3aGVuIGVuY291bnRlcmVkCiAgICAgIGlmIChjaGVja1Rva2VuVHlwZShUb2tlbi50eXBlcy52YXJpYWJsZSkpIHsKICAgICAgICB0YXNrLmFkZE5ld1ZhcmlhYmxlKHRva2Vuc1tpXS52YWx1ZSk7CiAgICAgIH0KCiAgICAgIHRhc2suYWRkVGFza1RleHQodG9rZW5zW2ldLnZhbHVlKTsKICAgICAgaSsrOyAvLyBNb3ZlIHRvIG5leHQgdG9rZW4KICAgIH0KICB9IC8vIFBhcnNlIHRoZSAjcXVlc3Rpb24gcGFydHMgb2YgdGhlIHRleHQKCgogIGZ1bmN0aW9uIHBhcnNlUXVlc3Rpb25zKCkgewogICAgLy8gRm9yIGVhY2ggcXVlc3Rpb24gaW4gdGhlIHRleHQKICAgIGRvIHsKICAgICAgLy8gQ2hlY2sga2V5d29yZCB2YWxpZGl0eQogICAgICBpZiAoIWNoZWNrVG9rZW5UeXBlKFRva2VuLnR5cGVzLmtleXdvcmQpKSB0b2tlblR5cGVFcnJvcigiRXhwZWN0ZWQga2V5d29yZCwgc3RhcnRpbmcgd2l0aCAjIik7CiAgICAgIGlmICghY2hlY2tUb2tlblZhbHVlKCIjcXVlc3Rpb24iKSkgdG9rZW5WYWx1ZUVycm9yKCJFeHBlY3RlZCAnI3F1ZXN0aW9uJyBrZXl3b3JkIik7CiAgICAgIHRhc2suYWRkTmV3UXVlc3Rpb24oKTsKICAgICAgaSsrOyAvLyBNb3ZlIHRvIG5leHQgdG9rZW4KICAgICAgLy8gQWRkIHF1ZXN0aW9uIGNvbnRlbnQKCiAgICAgIHdoaWxlICghY2hlY2tUb2tlblR5cGUoVG9rZW4udHlwZXMua2V5d29yZCkpIHsKICAgICAgICBpZiAoY2hlY2tUb2tlblR5cGUoVG9rZW4udHlwZXMuYW5zd2VyKSkgewogICAgICAgICAgdGFzay5hZGROZXdBbnN3ZXIodG9rZW5zW2ldLnZhbHVlKTsKICAgICAgICB9IC8vIFNhdmUgdmFyaWFibGUgd2hlbiBlbmNvdW50ZXJlZAoKCiAgICAgICAgaWYgKGNoZWNrVG9rZW5UeXBlKFRva2VuLnR5cGVzLnZhcmlhYmxlKSkgewogICAgICAgICAgdGFzay5hZGROZXdWYXJpYWJsZSh0b2tlbnNbaV0udmFsdWUpOwogICAgICAgIH0KCiAgICAgICAgdGFzay5hZGRRdWVzdGlvblRleHQodG9rZW5zW2ldLnZhbHVlKTsKICAgICAgICBpKys7IC8vIE1vdmUgdG8gbmV4dCB0b2tlbgogICAgICB9CiAgICB9IHdoaWxlIChjaGVja1Rva2VuVHlwZShUb2tlbi50eXBlcy5rZXl3b3JkKSAmJiBjaGVja1Rva2VuVmFsdWUoIiNxdWVzdGlvbiIpKTsKICB9IC8vIFBhcnNlIHRoZSAjZGVmaW50aW9uIHBhcnQgb2YgdGhlIHRleHQKCgogIGZ1bmN0aW9uIHBhcnNlRGVmaW5pdGlvbnMoKSB7CiAgICBpZiAoIWNoZWNrVG9rZW5UeXBlKFRva2VuLnR5cGVzLmtleXdvcmQpKSB0b2tlblR5cGVFcnJvcigiRXhwZWN0ZWQga2V5d29yZCwgc3RhcnRpbmcgd2l0aCAjIik7CiAgICBpZiAoIWNoZWNrVG9rZW5WYWx1ZSgiI2RlZmluaXRpb25zIikpIHRva2VuVmFsdWVFcnJvcigiRXhwZWN0ZWQgJyNkZWZpbml0aW9ucycga2V5d29yZCIpOwogICAgaSsrOyAvLyBNb3ZlIHRvIG5leHQgdG9rZW4KICAgIC8vIFVudGlsIHRoZSBuZXh0IGtleXdvcmQKCiAgICB3aGlsZSAoIWNoZWNrVG9rZW5UeXBlKFRva2VuLnR5cGVzLmtleXdvcmQpKSB7CiAgICAgIC8vIEhhbmRsZSB2YXJpYWJsZSBkZWZpbml0aW9uIG9yIGRlY2xhcmF0aW9uCiAgICAgIGlmIChjaGVja1Rva2VuVHlwZShUb2tlbi50eXBlcy52YXJpYWJsZSkpIHsKICAgICAgICAvLyBJZiB2YXJpYWJsZSB3YXMgbm90IGFkZGVkIHlldAogICAgICAgIGlmICh0YXNrLnZhcmlhYmxlcy5maW5kKGZ1bmN0aW9uICh2KSB7CiAgICAgICAgICByZXR1cm4gdi5uYW1lID09IHRva2Vuc1tpXS52YWx1ZTsKICAgICAgICB9KSA9PSB1bmRlZmluZWQpIHsKICAgICAgICAgIHRhc2suYWRkTmV3VmFyaWFibGUodG9rZW5zW2ldLnZhbHVlKTsKICAgICAgICAgIHRhc2sudmFyaWFibGVzLmF0KHRhc2sudmFyaWFibGVzLmxlbmd0aCAtIDEpLmFkZGVkID0gdHJ1ZTsKICAgICAgICB9IC8vIEZpbmQgaW5kZXggb2YgY3VycmVudCB2YXJpYWJsZSB0byBwcm9jZXNzCgoKICAgICAgICB0YXNrLnNldFZhcmlhYmxlSW5kZXgodG9rZW5zW2ldLnZhbHVlKTsKICAgICAgICBpKys7IC8vIE1vdmUgdG8gbmV4dCB0b2tlbgogICAgICAgIC8vIFZhcmlhYmxlIGRlZmluaXRpb24KCiAgICAgICAgaWYgKGNoZWNrVG9rZW5UeXBlKFRva2VuLnR5cGVzLm9wZXJhdG9yLmVxKSkgewogICAgICAgICAgaSsrOyAvLyBNb3ZlIHRvIG5leHQgdG9rZW4KCiAgICAgICAgICB2YXIgdGVtcF9kZWYgPSAiIjsKCiAgICAgICAgICB3aGlsZSAoIWNoZWNrVG9rZW5UeXBlKFRva2VuLnR5cGVzLndoaXRlc3BhY2UubmV3bGluZSkpIHsKICAgICAgICAgICAgLy8gQ29sbGVjdCB2YXJpYWJsZSBkZWZpbml0aW9uCiAgICAgICAgICAgIHRlbXBfZGVmICs9ICIgIiArIHRva2Vuc1tpXS52YWx1ZTsKICAgICAgICAgICAgaSsrOyAvLyBNb3ZlIHRvIG5leHQgdG9rZW4KICAgICAgICAgIH0KCiAgICAgICAgICB0YXNrLmFkZFZhcmlhYmxlRGVmaW5pdGlvbih0ZW1wX2RlZi50cmltKCkpOwogICAgICAgICAgaSsrOyAvLyBNb3ZlIHRvIG5leHQgdG9rZW4KICAgICAgICB9IC8vIFZhcmlhYmxlIGRlY2xhcmF0aW9uCiAgICAgICAgZWxzZSBpZiAoIWNoZWNrVG9rZW5UeXBlKFRva2VuLnR5cGVzLndoaXRlc3BhY2UubmV3bGluZSkpIHsKICAgICAgICAgIHRva2VuVHlwZUVycm9yKCJFeHBlY3RlZCBhIG5ld2xpbmUgY2hhcmFjdGVyICdcXG4nIik7CiAgICAgICAgfQogICAgICB9IC8vIEFuc3dlciBhc3NpZ25tZW50CgoKICAgICAgaWYgKGNoZWNrVG9rZW5UeXBlKFRva2VuLnR5cGVzLmFuc3dlcikpIHsKICAgICAgICAvLyBGaW5kIGFuc3dlciBpbiBxdWVzdGlvbnMgYW5zd2VyCiAgICAgICAgdmFyIGFuc3dlciA9IHRhc2suZmluZEFuc3dlcih0b2tlbnNbaV0udmFsdWUpOwogICAgICAgIGlmIChhbnN3ZXIgPT0gdW5kZWZpbmVkKSBzZW1hbnRpY0Vycm9yKCJBbnN3ZXIgIiArIHRva2Vuc1tpXS52YWx1ZSArICIgaXMgdW5kZWZpbmVkLiIpOwogICAgICAgIGNvbnNvbGUubG9nKCJBTlNXIiwgYW5zd2VyLm5hbWUpOwogICAgICAgIGkrKzsgLy8gTW92ZSB0byBuZXh0IHRva2VuCiAgICAgICAgLy8gTG9vayBmb3IgJy5jb3JyZWN0JyBvciAnLmluY29ycmVjdCcKCiAgICAgICAgaWYgKCFjaGVja1Rva2VuVHlwZShUb2tlbi50eXBlcy5zcGVjaWFsLmFjY2Vzc29yKSkgdG9rZW5UeXBlRXJyb3IoIkV4cGVjdGVkIGFjY2Vzc29yIC5jb3JyZWN0IG9yIC5pbmNvcnJlY3QiKTsgLy8gU2F2ZSBhbnN3ZXIgYWNjZXNzb3IgdHlwZQoKICAgICAgICB2YXIgYW5zd2VyVHlwZSA9IHRva2Vuc1tpXS52YWx1ZTsKICAgICAgICBpKys7IC8vIE1vdmUgdG8gbmV4dCB0b2tlbgogICAgICAgIC8vIExvb2sgZm9yID0KCiAgICAgICAgaWYgKCFjaGVja1Rva2VuVHlwZShUb2tlbi50eXBlcy5vcGVyYXRvci5lcSkpIHRva2VuVHlwZUVycm9yKCJFeHBlY3RlZCBhbiBlcXVhbCBzaWduID0iKTsKICAgICAgICBpKys7IC8vIE1vdmUgdG8gbmV4dCB0b2tlbgogICAgICAgIC8vIExvb2sgZm9yIFsKCiAgICAgICAgaWYgKCFjaGVja1Rva2VuVHlwZShUb2tlbi50eXBlcy5zcGVjaWFsLmxCcmFja2V0KSkgdG9rZW5UeXBlRXJyb3IoIkV4cGVjdGVkIGFuIG9wZW5pbmcgYnJhY2tldCBbIik7CiAgICAgICAgaSsrOyAvLyBNb3ZlIHRvIG5leHQgdG9rZW4KICAgICAgICAvLyBMb29rIGZvciBuZXdsaW5lCgogICAgICAgIGlmICghY2hlY2tUb2tlblR5cGUoVG9rZW4udHlwZXMud2hpdGVzcGFjZS5uZXdsaW5lKSkgdG9rZW5UeXBlRXJyb3IoIkV4cGVjdGVkIGEgbmV3bGluZSBjaGFyYWN0ZXIgJ1xcbiciKTsKICAgICAgICBpKys7IC8vIE1vdmUgdG8gbmV4dCB0b2tlbgogICAgICAgIC8vIEV4Y2x1ZGUgXQoKICAgICAgICBpZiAoY2hlY2tUb2tlblR5cGUoVG9rZW4udHlwZXMuc3BlY2lhbC5yQnJhY2tldCkpIHRva2VuVHlwZUVycm9yKCJFeHBlY3RlZCBhIHZhbHVlIGJldHdlZW4gWyBdIGJyYWNrZXRzIik7CiAgICAgICAgY29uc29sZS5sb2coYW5zd2VyVHlwZSk7IC8vIEZvciBlYWNoIGFuc3dlciBkZWZpbml0aW9uCgogICAgICAgIHdoaWxlICghY2hlY2tUb2tlblR5cGUoVG9rZW4udHlwZXMuc3BlY2lhbC5yQnJhY2tldCkpIHsKICAgICAgICAgIC8vIENvbGxlY3QgZGVmaW5pdGlvbgogICAgICAgICAgdmFyIGFuc3dlckRlZmluaXRpb24gPSAiIjsKCiAgICAgICAgICB3aGlsZSAoIWNoZWNrVG9rZW5UeXBlKFRva2VuLnR5cGVzLnNwZWNpYWwuY29tbWEpICYmICFjaGVja1Rva2VuVHlwZShUb2tlbi50eXBlcy53aGl0ZXNwYWNlLm5ld2xpbmUpKSB7CiAgICAgICAgICAgIGFuc3dlckRlZmluaXRpb24gKz0gdG9rZW5zW2ldLnZhbHVlOwogICAgICAgICAgICBpKys7IC8vIE1vdmUgdG8gbmV4dCB0b2tlbgogICAgICAgICAgfQoKICAgICAgICAgIGlmIChjaGVja1Rva2VuVHlwZShUb2tlbi50eXBlcy5zcGVjaWFsLmNvbW1hKSkgaSsrOyAvLyBNb3ZlIHRvIG5leHQgdG9rZW4KICAgICAgICAgIC8vIFNhdmUgZGVmaW5pdGlvbiBiYXNlZCBvbiBhY2Nlc3NvciB0eXBlCgogICAgICAgICAgaWYgKGFuc3dlclR5cGUgPT0gIi5jb3JyZWN0IikgewogICAgICAgICAgICBhbnN3ZXIuY29ycmVjdC5wdXNoKGFuc3dlckRlZmluaXRpb24pOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChhbnN3ZXJUeXBlID09ICIuaW5jb3JyZWN0IikgewogICAgICAgICAgICBhbnN3ZXIuaW5jb3JyZWN0LnB1c2goYW5zd2VyRGVmaW5pdGlvbik7CiAgICAgICAgICB9CgogICAgICAgICAgaSsrOyAvLyBNb3ZlIHRvIG5leHQgdG9rZW4KICAgICAgICB9CiAgICAgIH0KCiAgICAgIGkrKzsgLy8gTW92ZSB0byBuZXh0IHRva2VuCgogICAgICBjb25zb2xlLmxvZyghY2hlY2tUb2tlblR5cGUoVG9rZW4udHlwZXMua2V5d29yZCkpOwogICAgfQogIH0gLy8gUGFyc2VzIHRoZSAjcmFuZXMgcGFydCBvZiB0aGUgdGV4dAoKCiAgZnVuY3Rpb24gcGFyc2VSYW5nZXMoKSB7CiAgICBpZiAoIWNoZWNrVG9rZW5UeXBlKFRva2VuLnR5cGVzLmtleXdvcmQpKSB0b2tlblR5cGVFcnJvcigiRXhwZWN0ZWQga2V5d29yZCwgc3RhcnRpbmcgd2l0aCAjIik7CiAgICBpZiAoIWNoZWNrVG9rZW5WYWx1ZSgiI3JhbmdlcyIpKSB0b2tlblZhbHVlRXJyb3IoIkV4cGVjdGVkICcjcmFuZ2VzJyBrZXl3b3JkIik7CiAgICBpKys7IC8vIE1vdmUgdG8gbmV4dCB0b2tlbgoKICAgIHNraXBOZXdMaW5lcygpOwoKICAgIHdoaWxlIChpIDwgdG9rZW5zLmxlbmd0aCkgewogICAgICBpZiAoIWNoZWNrVG9rZW5UeXBlKFRva2VuLnR5cGVzLnZhcmlhYmxlKSAmJiAhY2hlY2tUb2tlblR5cGUoVG9rZW4udHlwZXMuYW5zd2VyKSkgdG9rZW5UeXBlRXJyb3IoIkV4cHRlY3RlZCB2YXJpYWJsZSBvciBhbnN3ZXIiKTsgLy8gTG9hZCB2YXJpYWJsZSAob3IgYW5zd2VyKQoKICAgICAgdmFyIHZhcmlhYmxlID0gdm9pZCAwOwoKICAgICAgaWYgKGNoZWNrVG9rZW5UeXBlKFRva2VuLnR5cGVzLnZhcmlhYmxlKSkgewogICAgICAgIHZhcmlhYmxlID0gdGFzay5maW5kVmFyaWFibGUodG9rZW5zW2ldLnZhbHVlKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB2YXJpYWJsZSA9IHRhc2suZmluZEFuc3dlcih0b2tlbnNbaV0udmFsdWUpOwogICAgICB9CgogICAgICBpZiAodmFyaWFibGUgPT0gdW5kZWZpbmVkKSBzZW1hbnRpY0Vycm9yKCJWYXJpYWJsZSAiICsgdG9rZW5zW2ldLnZhbHVlICsgIiBpcyB1bmRlZmluZWQuIik7CiAgICAgIGkrKzsgLy8gTW92ZSB0byBuZXh0IHRva2VuCgogICAgICBpZiAoIWNoZWNrVG9rZW5UeXBlKFRva2VuLnR5cGVzLm9wZXJhdG9yLmVxKSkgdG9rZW5UeXBlRXJyb3IoIkV4cGVjdGVkIG9wZWF0b3IgPSIpOwogICAgICBpKys7IC8vIE1vdmUgdG8gbmV4dCB0b2tlbgoKICAgICAgaWYgKCFjaGVja1Rva2VuVHlwZShUb2tlbi50eXBlcy50ZXh0KSkgewogICAgICAgIHRva2VuVHlwZUVycm9yKCJFeHBlY3RlZCB0ZXh0IHR5cGUiKTsKICAgICAgfQoKICAgICAgaWYgKCFjaGVja1Rva2VuVmFsdWUoInJhbmdlIikpIHsKICAgICAgICB0b2tlblZhbHVlRXJyb3IoIkV4cGVjdGVkICdyYW5nZScgdGV4dCIpOwogICAgICB9CgogICAgICBpKys7IC8vIE1vdmUgdG8gbmV4dCB0b2tlbgogICAgICAvLyAoCgogICAgICBpZiAoIWNoZWNrVG9rZW5UeXBlKFRva2VuLnR5cGVzLnNwZWNpYWwubFBhcmVudGgpKSB0b2tlblR5cGVFcnJvcigiRXhwZWN0ZWQgbGVmdCBwYXJlbnRoZXNpcyAoIik7CiAgICAgIGkrKzsgLy8gTW92ZSB0byBuZXh0IHRva2VuCiAgICAgIC8vIHN0YXJ0CgogICAgICBpZiAoIWNoZWNrVG9rZW5UeXBlKFRva2VuLnR5cGVzLm51bWJlcikpIHRva2VuVHlwZUVycm9yKCJFeHBlY3RlZCBhIG51bWJlciIpOwogICAgICB2YXJpYWJsZS5yYW5nZS5zdGFydCA9IHRva2Vuc1tpXS52YWx1ZTsKICAgICAgaSsrOyAvLyBNb3ZlIHRvIG5leHQgdG9rZW4KCiAgICAgIGlmICghY2hlY2tUb2tlblR5cGUoVG9rZW4udHlwZXMuc3BlY2lhbC5jb21tYSkpIHRva2VuVHlwZUVycm9yKCJFeHBlY3RlZCBjb21tYSBzZXBhcmF0b3IgLCIpOwogICAgICBpKys7IC8vIE1vdmUgdG8gbmV4dCB0b2tlbgogICAgICAvLyBlbmQKCiAgICAgIGlmICghY2hlY2tUb2tlblR5cGUoVG9rZW4udHlwZXMubnVtYmVyKSkgdG9rZW5UeXBlRXJyb3IoIkV4cGVjdGVkIGEgbnVtYmVyIik7CiAgICAgIHZhcmlhYmxlLnJhbmdlLmVuZCA9IHRva2Vuc1tpXS52YWx1ZTsKICAgICAgaSsrOyAvLyBNb3ZlIHRvIG5leHQgdG9rZW4KCiAgICAgIGlmICghY2hlY2tUb2tlblR5cGUoVG9rZW4udHlwZXMuc3BlY2lhbC5jb21tYSkpIHRva2VuVHlwZUVycm9yKCJFeHBlY3RlZCBjb21tYSBzZXBhcmF0b3IgLCIpOwogICAgICBpKys7IC8vIE1vdmUgdG8gbmV4dCB0b2tlbgogICAgICAvLyBzdGVwCgogICAgICBpZiAoIWNoZWNrVG9rZW5UeXBlKFRva2VuLnR5cGVzLm51bWJlcikpIHRva2VuVHlwZUVycm9yKCJFeHBlY3RlZCBhIG51bWJlciIpOwogICAgICB2YXJpYWJsZS5yYW5nZS5zdGVwID0gdG9rZW5zW2ldLnZhbHVlOwogICAgICBpKys7IC8vIE1vdmUgdG8gbmV4dCB0b2tlbgogICAgICAvLyApCgogICAgICBpZiAoIWNoZWNrVG9rZW5UeXBlKFRva2VuLnR5cGVzLnNwZWNpYWwuclBhcmVudGgpKSB0b2tlblR5cGVFcnJvcigiRXhwZWN0ZWQgY2xvc2luZyByaWdodCBwYXJlbnRoZXNpcyApIik7CiAgICAgIGkrKzsgLy8gTW92ZSB0byBuZXh0IHRva2VuCgogICAgICBza2lwTmV3TGluZXMoKTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIHNraXBOZXdMaW5lcygpIHsKICAgIHdoaWxlIChpIDwgdG9rZW5zLmxlbmd0aCAmJiBjaGVja1Rva2VuVHlwZShUb2tlbi50eXBlcy53aGl0ZXNwYWNlLm5ld2xpbmUpKSB7CiAgICAgIGkrKzsKICAgIH0KICB9CiAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqLwogIC8vIENoZWNrZXJzCgoKICBmdW5jdGlvbiBjaGVja1Rva2VuVHlwZSh0eXBlKSB7CiAgICBpZiAoaSA+PSB0b2tlbnMubGVuZ3RoKSByZXR1cm4gZmFsc2U7CiAgICByZXR1cm4gdG9rZW5zW2ldLnR5cGUgPT0gdHlwZSA/IHRydWUgOiBmYWxzZTsKICB9CgogIGZ1bmN0aW9uIGNoZWNrVG9rZW5WYWx1ZSh2YWx1ZSkgewogICAgaWYgKGkgPj0gdG9rZW5zLmxlbmd0aCkgcmV0dXJuIGZhbHNlOwogICAgcmV0dXJuIHRva2Vuc1tpXS52YWx1ZSA9PSB2YWx1ZSA/IHRydWUgOiBmYWxzZTsKICB9IC8vIEVycm9ycwoKCiAgZnVuY3Rpb24gdG9rZW5UeXBlRXJyb3IoKSB7CiAgICB2YXIgX2Vyck1zZyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogIlR5cGUgZXJyb3IgbWVzc2FnZS4uLiI7CgogICAgdGhyb3cgewogICAgICB0eXBlOiAiVG9rZW4gVHlwZSBFcnJvciIsCiAgICAgIG1lc3NhZ2U6IF9lcnJNc2cKICAgIH07CiAgfQoKICBmdW5jdGlvbiB0b2tlblZhbHVlRXJyb3IoKSB7CiAgICB2YXIgX2Vyck1zZyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogIlZhbHVlIGVycm9yIG1lc3NhZ2UuLi4iOwoKICAgIHRocm93IHsKICAgICAgdHlwZTogIlRva2VuIFZhbHVlIEVycm9yIiwKICAgICAgbWVzc2FnZTogX2Vyck1zZwogICAgfTsKICB9CgogIGZ1bmN0aW9uIHNlbWFudGljRXJyb3IoX2Vyck1zZykgewogICAgdGhyb3cgewogICAgICB0eXBlOiAiU2VtYW50aWMgRXJyb3IiLAogICAgICBtZXNzYWdlOiBfZXJyTXNnCiAgICB9OwogIH0KfQovKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi8="},{"version":3,"sources":["/home/dc/Documents/BP/vue-bp-web/src/myfiles/taskHandler.js"],"names":["tokenize","Token","math","require","ConcreteTask","text","questions","answers","Map","variables","Question","Answer","_name","name","correct","incorrect","range","Range","visible","Variable","definition","added","start","end","step","fullRange","trim","Task","qIndex","vIndex","_text","toString","push","find","a","v","findIndex","_definition","parseMathLang","console","log","tokens","lineNumber","i","task","checkEndOfInput","parseText","error","parseQuestions","parseDefinitions","parseRanges","length","errMsg","checkTokenType","types","keyword","tokenTypeError","checkTokenValue","tokenValueError","variable","addNewVariable","value","addTaskText","addNewQuestion","answer","addNewAnswer","addQuestionText","undefined","at","setVariableIndex","operator","eq","temp_def","whitespace","newline","addVariableDefinition","findAnswer","semanticError","special","accessor","answerType","lBracket","rBracket","answerDefinition","comma","skipNewLines","findVariable","lParenth","number","rParenth","type","_errMsg","message"],"mappings":"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","sourcesContent":["import { tokenize, Token } from \"./tokenizer\";\n\nconst math = require(\"mathjs\");\n\n// Task with concrete values\nexport class ConcreteTask {\n  constructor() {\n    this.text = \"\";\n    this.questions = [];\n    this.answers = new Map();\n    this.variables = new Map();\n  }\n}\n\n// Class that represents the questions\n// of the given task\nexport class Question {\n  constructor() {\n    this.text = \"\";\n  }\n}\n\nexport class Answer {\n  constructor(_name) {\n    this.name = _name;\n    this.correct = [];\n    this.incorrect = [];\n\n    this.range = new Range();\n\n    this.visible = true;\n  }\n}\n\nexport class Variable {\n  constructor(_name) {\n    this.name = _name;\n    this.definition = \"\";\n    this.range = new Range();\n\n    this.visible = true;\n    this.added = false;\n  }\n}\n\nexport class Range {\n  constructor() {\n    this.start = \"\";\n    this.end = \"\";\n    this.step = \"\";\n\n    this.fullRange = function () {\n      if (\n        this.start.trim() == \"\" ||\n        this.end.trim() == \"\" ||\n        this.step.trim() == \"\"\n      ) {\n        return \"\";\n      }\n\n      return \"(\" + this.start + \",\" + this.end + \",\" + this.step + \")\";\n    };\n  }\n}\n\n// Class that represents the task\n// this will be saved in the database\nexport class Task {\n  constructor() {\n    // Content\n    this.text = \"\";\n\n    this.qIndex = -1;\n    this.questions = [];\n\n    this.vIndex = -1;\n    this.variables = [];\n\n    this.answers = [];\n  }\n\n  // Adding text to task\n  addTaskText(_text) {\n    this.text += \" \" + _text.toString();\n  }\n\n  // Question methods\n  addNewQuestion() {\n    this.questions.push(new Question());\n    this.qIndex++;\n  }\n\n  addQuestionText(_text) {\n    this.questions[this.qIndex].text += \" \" + _text;\n  }\n\n  findAnswer(_name) {\n    return this.answers.find((a) => a.name == _name);\n  }\n\n  addNewAnswer(_name) {\n    this.answers.push(new Answer(_name));\n  }\n\n  // Add new variable to task if not already in array\n  addNewVariable(_name) {\n    if (!this.variables.find((v) => v.name == _name)) {\n      this.variables.push(new Variable(_name));\n      this.vIndex++;\n    }\n  }\n\n  setVariableIndex(_name) {\n    this.vIndex = this.variables.findIndex((v) => v.name == _name);\n  }\n\n  addVariableDefinition(_definition) {\n    this.variables[this.vIndex].definition = _definition;\n  }\n\n  findVariable(_name) {\n    return this.variables.find((v) => v.name == _name);\n  }\n}\n\n// Parses the markup language\nexport function parseMathLang(text) {\n  console.log(text); // Logging\n\n  // First, tokenize the input file\n  let tokens = tokenize(text);\n  let lineNumber = 0;\n  let i = 0;\n\n  console.log(tokens); // Logging\n\n  // Create task object where the new task will be saved\n  let task = new Task();\n\n  // Error checking\n  if (checkEndOfInput()) return task;\n\n  parseText();\n  if (task.error) return task;\n  parseQuestions();\n  if (task.error) return task;\n  parseDefinitions();\n  if (task.error) return task;\n  parseRanges();\n\n  console.log(task);\n\n  return task;\n\n  /* ------------------------------ */\n\n  // Check end of input error\n  function checkEndOfInput() {\n    if (i == tokens.length) {\n      task.error = true;\n      task.errMsg = \"Parser error: Unexpected end of input.\";\n    }\n\n    return task.error;\n  }\n\n  // Parse the #text part of the given text\n  function parseText() {\n    // Text section starts with '#text'\n    if (!checkTokenType(Token.types.keyword))\n      tokenTypeError(\"Expected keyword, starting with #\");\n    if (!checkTokenValue(\"#text\")) tokenValueError(\"Expected #text keyword\");\n\n    i++; // Move to next token\n\n    // Append text until the next keyword\n    while (!checkEndOfInput() && !checkTokenType(Token.types.keyword)) {\n      // Save variable when encountered\n      if (checkTokenType(Token.types.variable)) {\n        task.addNewVariable(tokens[i].value);\n      }\n\n      task.addTaskText(tokens[i].value);\n\n      i++; // Move to next token\n    }\n  }\n\n  // Parse the #question parts of the text\n  function parseQuestions() {\n    // For each question in the text\n    do {\n      // Check keyword validity\n      if (!checkTokenType(Token.types.keyword))\n        tokenTypeError(\"Expected keyword, starting with #\");\n      if (!checkTokenValue(\"#question\"))\n        tokenValueError(\"Expected '#question' keyword\");\n\n      task.addNewQuestion();\n\n      i++; // Move to next token\n\n      // Add question content\n      while (!checkTokenType(Token.types.keyword)) {\n        if (checkTokenType(Token.types.answer)) {\n          task.addNewAnswer(tokens[i].value);\n        }\n\n        // Save variable when encountered\n        if (checkTokenType(Token.types.variable)) {\n          task.addNewVariable(tokens[i].value);\n        }\n\n        task.addQuestionText(tokens[i].value);\n\n        i++; // Move to next token\n      }\n    } while (\n      checkTokenType(Token.types.keyword) &&\n      checkTokenValue(\"#question\")\n    );\n  }\n\n  // Parse the #defintion part of the text\n  function parseDefinitions() {\n    if (!checkTokenType(Token.types.keyword))\n      tokenTypeError(\"Expected keyword, starting with #\");\n    if (!checkTokenValue(\"#definitions\"))\n      tokenValueError(\"Expected '#definitions' keyword\");\n\n    i++; // Move to next token\n\n    // Until the next keyword\n    while (!checkTokenType(Token.types.keyword)) {\n      // Handle variable definition or declaration\n      if (checkTokenType(Token.types.variable)) {\n        // If variable was not added yet\n        if (\n          task.variables.find((v) => v.name == tokens[i].value) == undefined\n        ) {\n          task.addNewVariable(tokens[i].value);\n          task.variables.at(task.variables.length - 1).added = true;\n        }\n\n        // Find index of current variable to process\n        task.setVariableIndex(tokens[i].value);\n\n        i++; // Move to next token\n\n        // Variable definition\n        if (checkTokenType(Token.types.operator.eq)) {\n          i++; // Move to next token\n\n          let temp_def = \"\";\n          while (!checkTokenType(Token.types.whitespace.newline)) {\n            // Collect variable definition\n            temp_def += \" \" + tokens[i].value;\n            i++; // Move to next token\n          }\n\n          task.addVariableDefinition(temp_def.trim());\n          i++; // Move to next token\n        }\n        // Variable declaration\n        else if (!checkTokenType(Token.types.whitespace.newline)) {\n          tokenTypeError(\"Expected a newline character '\\\\n'\");\n        }\n      }\n\n      // Answer assignment\n      if (checkTokenType(Token.types.answer)) {\n        // Find answer in questions answer\n        let answer = task.findAnswer(tokens[i].value);\n        if (answer == undefined)\n          semanticError(\"Answer \" + tokens[i].value + \" is undefined.\");\n\n        console.log(\"ANSW\", answer.name);\n        i++; // Move to next token\n\n        // Look for '.correct' or '.incorrect'\n        if (!checkTokenType(Token.types.special.accessor))\n          tokenTypeError(\"Expected accessor .correct or .incorrect\");\n\n        // Save answer accessor type\n        let answerType = tokens[i].value;\n        i++; // Move to next token\n\n        // Look for =\n        if (!checkTokenType(Token.types.operator.eq))\n          tokenTypeError(\"Expected an equal sign =\");\n\n        i++; // Move to next token\n\n        // Look for [\n        if (!checkTokenType(Token.types.special.lBracket))\n          tokenTypeError(\"Expected an opening bracket [\");\n\n        i++; // Move to next token\n\n        // Look for newline\n        if (!checkTokenType(Token.types.whitespace.newline))\n          tokenTypeError(\"Expected a newline character '\\\\n'\");\n\n        i++; // Move to next token\n\n        // Exclude ]\n        if (checkTokenType(Token.types.special.rBracket))\n          tokenTypeError(\"Expected a value between [ ] brackets\");\n\n        console.log(answerType);\n\n        // For each answer definition\n        while (!checkTokenType(Token.types.special.rBracket)) {\n          // Collect definition\n          let answerDefinition = \"\";\n\n          while (\n            !checkTokenType(Token.types.special.comma) &&\n            !checkTokenType(Token.types.whitespace.newline)\n          ) {\n            answerDefinition += tokens[i].value;\n            i++; // Move to next token\n          }\n\n          if (checkTokenType(Token.types.special.comma)) i++; // Move to next token\n\n          // Save definition based on accessor type\n          if (answerType == \".correct\") {\n            answer.correct.push(answerDefinition);\n          }\n          if (answerType == \".incorrect\") {\n            answer.incorrect.push(answerDefinition);\n          }\n\n          i++; // Move to next token\n        }\n      }\n\n      i++; // Move to next token\n\n      console.log(!checkTokenType(Token.types.keyword));\n    }\n  }\n\n  // Parses the #ranes part of the text\n  function parseRanges() {\n    if (!checkTokenType(Token.types.keyword))\n      tokenTypeError(\"Expected keyword, starting with #\");\n    if (!checkTokenValue(\"#ranges\"))\n      tokenValueError(\"Expected '#ranges' keyword\");\n\n    i++; // Move to next token\n    skipNewLines();\n\n    while (i < tokens.length) {\n      if (\n        !checkTokenType(Token.types.variable) &&\n        !checkTokenType(Token.types.answer)\n      )\n        tokenTypeError(\"Exptected variable or answer\");\n\n      // Load variable (or answer)\n      let variable;\n      if (checkTokenType(Token.types.variable)) {\n        variable = task.findVariable(tokens[i].value);\n      } else {\n        variable = task.findAnswer(tokens[i].value);\n      }\n      if (variable == undefined)\n        semanticError(\"Variable \" + tokens[i].value + \" is undefined.\");\n\n      i++; // Move to next token\n\n      if (!checkTokenType(Token.types.operator.eq))\n        tokenTypeError(\"Expected opeator =\");\n      i++; // Move to next token\n\n      if (!checkTokenType(Token.types.text)) {\n        tokenTypeError(\"Expected text type\");\n      }\n      if (!checkTokenValue(\"range\")) {\n        tokenValueError(\"Expected 'range' text\");\n      }\n      i++; // Move to next token\n\n      // (\n      if (!checkTokenType(Token.types.special.lParenth))\n        tokenTypeError(\"Expected left parenthesis (\");\n      i++; // Move to next token\n\n      // start\n      if (!checkTokenType(Token.types.number))\n        tokenTypeError(\"Expected a number\");\n      variable.range.start = tokens[i].value;\n      i++; // Move to next token\n\n      if (!checkTokenType(Token.types.special.comma))\n        tokenTypeError(\"Expected comma separator ,\");\n      i++; // Move to next token\n\n      // end\n      if (!checkTokenType(Token.types.number))\n        tokenTypeError(\"Expected a number\");\n      variable.range.end = tokens[i].value;\n      i++; // Move to next token\n\n      if (!checkTokenType(Token.types.special.comma))\n        tokenTypeError(\"Expected comma separator ,\");\n      i++; // Move to next token\n\n      // step\n      if (!checkTokenType(Token.types.number))\n        tokenTypeError(\"Expected a number\");\n      variable.range.step = tokens[i].value;\n      i++; // Move to next token\n\n      // )\n      if (!checkTokenType(Token.types.special.rParenth))\n        tokenTypeError(\"Expected closing right parenthesis )\");\n      i++; // Move to next token\n\n      skipNewLines();\n    }\n  }\n\n  function skipNewLines() {\n    while (\n      i < tokens.length &&\n      checkTokenType(Token.types.whitespace.newline)\n    ) {\n      i++;\n    }\n  }\n\n  /* ------------------------------------------------- */\n  // Checkers\n  function checkTokenType(type) {\n    if (i >= tokens.length) return false;\n    return tokens[i].type == type ? true : false;\n  }\n\n  function checkTokenValue(value) {\n    if (i >= tokens.length) return false;\n    return tokens[i].value == value ? true : false;\n  }\n\n  // Errors\n  function tokenTypeError(_errMsg = \"Type error message...\") {\n    throw { type: \"Token Type Error\", message: _errMsg };\n  }\n  function tokenValueError(_errMsg = \"Value error message...\") {\n    throw { type: \"Token Value Error\", message: _errMsg };\n  }\n\n  function semanticError(_errMsg) {\n    throw { type: \"Semantic Error\", message: _errMsg };\n  }\n}\n\n/* --------------------------------- */\n"]}]}
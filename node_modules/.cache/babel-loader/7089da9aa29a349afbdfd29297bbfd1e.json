{"remainingRequest":"/home/dc/Documents/BP/vue-bp-web/node_modules/babel-loader/lib/index.js!/home/dc/Documents/BP/vue-bp-web/node_modules/eslint-loader/index.js??ref--14-0!/home/dc/Documents/BP/vue-bp-web/src/myfiles/taskHandler.js","dependencies":[{"path":"/home/dc/Documents/BP/vue-bp-web/src/myfiles/taskHandler.js","mtime":1649976061353},{"path":"/home/dc/Documents/BP/vue-bp-web/babel.config.js","mtime":1646999302412},{"path":"/home/dc/Documents/BP/vue-bp-web/node_modules/cache-loader/dist/cjs.js","mtime":1642114936856},{"path":"/home/dc/Documents/BP/vue-bp-web/node_modules/babel-loader/lib/index.js","mtime":1642114938312},{"path":"/home/dc/Documents/BP/vue-bp-web/node_modules/eslint-loader/index.js","mtime":1642114937120}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICIvaG9tZS9kYy9Eb2N1bWVudHMvQlAvdnVlLWJwLXdlYi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MuanMiOwppbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gIi9ob21lL2RjL0RvY3VtZW50cy9CUC92dWUtYnAtd2ViL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjay5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy50cmltLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLWluZGV4LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmF0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmF0LWFsdGVybmF0aXZlLmpzIjsKaW1wb3J0IHsgdG9rZW5pemUsIFRva2VuIH0gZnJvbSAiLi90b2tlbml6ZXIiOwoKdmFyIG1hdGggPSByZXF1aXJlKCJtYXRoanMiKTsgLy8gVGFzayB3aXRoIGNvbmNyZXRlIHZhbHVlcwoKCmV4cG9ydCB2YXIgQ29uY3JldGVUYXNrID0gLyojX19QVVJFX18qL19jcmVhdGVDbGFzcyhmdW5jdGlvbiBDb25jcmV0ZVRhc2soKSB7CiAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENvbmNyZXRlVGFzayk7CgogIHRoaXMudGV4dCA9ICIiOwogIHRoaXMucXVlc3Rpb25zID0gW107CiAgdGhpcy5hbnN3ZXJzID0gbmV3IE1hcCgpOwogIHRoaXMudmFyaWFibGVzID0gbmV3IE1hcCgpOwp9KTsgLy8gQ2xhc3MgdGhhdCByZXByZXNlbnRzIHRoZSBxdWVzdGlvbnMKLy8gb2YgdGhlIGdpdmVuIHRhc2sKCmV4cG9ydCB2YXIgUXVlc3Rpb24gPSAvKiNfX1BVUkVfXyovX2NyZWF0ZUNsYXNzKGZ1bmN0aW9uIFF1ZXN0aW9uKCkgewogIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBRdWVzdGlvbik7CgogIHRoaXMudGV4dCA9ICIiOwp9KTsgLy8gQW5zd2VyIHN0cnVjdHVyZQoKZXhwb3J0IHZhciBBbnN3ZXIgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZUNsYXNzKGZ1bmN0aW9uIEFuc3dlcihfbmFtZSkgewogIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBBbnN3ZXIpOwoKICB0aGlzLm5hbWUgPSBfbmFtZTsKICB0aGlzLmNvcnJlY3QgPSBbXTsKICB0aGlzLmluY29ycmVjdCA9IFtdOwogIHRoaXMucmFuZ2UgPSBuZXcgUmFuZ2UoKTsKICB0aGlzLnZpc2libGUgPSB0cnVlOwp9KTsgLy8gVmFyaWFibGUgc3RydWN0dXJlCgpleHBvcnQgdmFyIFZhcmlhYmxlID0gLyojX19QVVJFX18qL19jcmVhdGVDbGFzcyhmdW5jdGlvbiBWYXJpYWJsZShfbmFtZSkgewogIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBWYXJpYWJsZSk7CgogIHRoaXMubmFtZSA9IF9uYW1lOwogIHRoaXMuZGVmaW5pdGlvbiA9ICIiOwogIHRoaXMucmFuZ2UgPSBuZXcgUmFuZ2UoKTsKICB0aGlzLnZpc2libGUgPSB0cnVlOwogIHRoaXMuYWRkZWQgPSBmYWxzZTsKfSk7IC8vIFJlcHJlc2VudHMgdGhlIHJhbmdlIG9mIHRoZQovLyB2YXJpYWJsZQoKZXhwb3J0IHZhciBSYW5nZSA9IC8qI19fUFVSRV9fKi9fY3JlYXRlQ2xhc3MoZnVuY3Rpb24gUmFuZ2UoKSB7CiAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJhbmdlKTsKCiAgdGhpcy5zdGFydCA9ICIiOwogIHRoaXMuZW5kID0gIiI7CiAgdGhpcy5zdGVwID0gIiI7CgogIHRoaXMuZnVsbFJhbmdlID0gZnVuY3Rpb24gKCkgewogICAgaWYgKHRoaXMuc3RhcnQudHJpbSgpID09ICIiIHx8IHRoaXMuZW5kLnRyaW0oKSA9PSAiIiB8fCB0aGlzLnN0ZXAudHJpbSgpID09ICIiKSB7CiAgICAgIHJldHVybiAiIjsKICAgIH0KCiAgICByZXR1cm4gIigiICsgdGhpcy5zdGFydCArICIsIiArIHRoaXMuZW5kICsgIiwiICsgdGhpcy5zdGVwICsgIikiOwogIH07Cn0pOyAvLyBDbGFzcyB0aGF0IHJlcHJlc2VudHMgdGhlIHRhc2sKLy8gdGhpcyB3aWxsIGJlIHNhdmVkIGluIHRoZSBkYXRhYmFzZQoKZXhwb3J0IHZhciBUYXNrID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBUYXNrKCkgewogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRhc2spOwoKICAgIC8vIENvbnRlbnQKICAgIHRoaXMudGV4dCA9ICIiOwogICAgdGhpcy5xSW5kZXggPSAtMTsKICAgIHRoaXMucXVlc3Rpb25zID0gW107CiAgICB0aGlzLnZJbmRleCA9IC0xOwogICAgdGhpcy52YXJpYWJsZXMgPSBbXTsKICAgIHRoaXMuYW5zd2VycyA9IFtdOwogIH0gLy8gQWRkaW5nIHRleHQgdG8gdGFzawoKCiAgX2NyZWF0ZUNsYXNzKFRhc2ssIFt7CiAgICBrZXk6ICJhZGRUYXNrVGV4dCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkVGFza1RleHQoX3RleHQpIHsKICAgICAgdGhpcy50ZXh0ICs9ICIgIiArIF90ZXh0LnRvU3RyaW5nKCk7CiAgICB9IC8vIEFkZCBuZXcgcXVlc3Rpb24KCiAgfSwgewogICAga2V5OiAiYWRkTmV3UXVlc3Rpb24iLAogICAgdmFsdWU6IGZ1bmN0aW9uIGFkZE5ld1F1ZXN0aW9uKCkgewogICAgICB0aGlzLnF1ZXN0aW9ucy5wdXNoKG5ldyBRdWVzdGlvbigpKTsKICAgICAgdGhpcy5xSW5kZXgrKzsKICAgIH0gLy8gQWRkIHF1ZXN0aW9uIHRleHQKCiAgfSwgewogICAga2V5OiAiYWRkUXVlc3Rpb25UZXh0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRRdWVzdGlvblRleHQoX3RleHQpIHsKICAgICAgdGhpcy5xdWVzdGlvbnNbdGhpcy5xSW5kZXhdLnRleHQgKz0gIiAiICsgX3RleHQudHJpbSgiXG4iKTsKICAgIH0gLy8gRmluZCBhbnN3ZXIgYnkgbmFtZQoKICB9LCB7CiAgICBrZXk6ICJmaW5kQW5zd2VyIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBmaW5kQW5zd2VyKF9uYW1lKSB7CiAgICAgIHJldHVybiB0aGlzLmFuc3dlcnMuZmluZChmdW5jdGlvbiAoYSkgewogICAgICAgIHJldHVybiBhLm5hbWUgPT0gX25hbWU7CiAgICAgIH0pOwogICAgfSAvLyBBZGQgbmV3IGFuc3dlcgoKICB9LCB7CiAgICBrZXk6ICJhZGROZXdBbnN3ZXIiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGFkZE5ld0Fuc3dlcihfbmFtZSkgewogICAgICB0aGlzLmFuc3dlcnMucHVzaChuZXcgQW5zd2VyKF9uYW1lKSk7CiAgICB9IC8vIEFkZCBuZXcgdmFyaWFibGUgdG8gdGFzayBpZiBub3QgYWxyZWFkeSBpbiBhcnJheQoKICB9LCB7CiAgICBrZXk6ICJhZGROZXdWYXJpYWJsZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gYWRkTmV3VmFyaWFibGUoX25hbWUpIHsKICAgICAgaWYgKCF0aGlzLnZhcmlhYmxlcy5maW5kKGZ1bmN0aW9uICh2KSB7CiAgICAgICAgcmV0dXJuIHYubmFtZSA9PSBfbmFtZTsKICAgICAgfSkpIHsKICAgICAgICB0aGlzLnZhcmlhYmxlcy5wdXNoKG5ldyBWYXJpYWJsZShfbmFtZSkpOwogICAgICAgIHRoaXMudkluZGV4Kys7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJzZXRWYXJpYWJsZUluZGV4IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRWYXJpYWJsZUluZGV4KF9uYW1lKSB7CiAgICAgIHRoaXMudkluZGV4ID0gdGhpcy52YXJpYWJsZXMuZmluZEluZGV4KGZ1bmN0aW9uICh2KSB7CiAgICAgICAgcmV0dXJuIHYubmFtZSA9PSBfbmFtZTsKICAgICAgfSk7CiAgICB9CiAgfSwgewogICAga2V5OiAiYWRkVmFyaWFibGVEZWZpbml0aW9uIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRWYXJpYWJsZURlZmluaXRpb24oX2RlZmluaXRpb24pIHsKICAgICAgdGhpcy52YXJpYWJsZXNbdGhpcy52SW5kZXhdLmRlZmluaXRpb24gPSBfZGVmaW5pdGlvbjsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJmaW5kVmFyaWFibGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGZpbmRWYXJpYWJsZShfbmFtZSkgewogICAgICByZXR1cm4gdGhpcy52YXJpYWJsZXMuZmluZChmdW5jdGlvbiAodikgewogICAgICAgIHJldHVybiB2Lm5hbWUgPT0gX25hbWU7CiAgICAgIH0pOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIFRhc2s7Cn0oKTsgLy8gUGFyc2VzIHRoZSBtYXJrdXAgbGFuZ3VhZ2UKCmV4cG9ydCBmdW5jdGlvbiBwYXJzZU1hdGhMYW5nKHRleHQpIHsKICBjb25zb2xlLmxvZyh0ZXh0KTsgLy8gTG9nZ2luZwogIC8vIEZpcnN0LCB0b2tlbml6ZSB0aGUgaW5wdXQgZmlsZQoKICB2YXIgdG9rZW5zID0gdG9rZW5pemUodGV4dCk7CiAgdmFyIGxpbmVOdW1iZXIgPSAwOwogIHZhciBpID0gMDsKICBjb25zb2xlLmxvZyh0b2tlbnMpOyAvLyBMb2dnaW5nCiAgLy8gQ3JlYXRlIHRhc2sgb2JqZWN0IHdoZXJlIHRoZSBuZXcgdGFzayB3aWxsIGJlIHNhdmVkCgogIHZhciB0YXNrID0gbmV3IFRhc2soKTsgLy8gRXJyb3IgY2hlY2tpbmcKCiAgaWYgKGNoZWNrRW5kT2ZJbnB1dCgpKSByZXR1cm4gdGFzazsKICBwYXJzZVRleHQoKTsKICBpZiAodGFzay5lcnJvcikgcmV0dXJuIHRhc2s7CiAgcGFyc2VRdWVzdGlvbnMoKTsKICBpZiAodGFzay5lcnJvcikgcmV0dXJuIHRhc2s7CiAgcGFyc2VEZWZpbml0aW9ucygpOwogIGlmICh0YXNrLmVycm9yKSByZXR1cm4gdGFzazsKICBwYXJzZVJhbmdlcygpOyAvLyBUcmltIHdoaXRlc3BhY2VzIGluIHF1ZXN0aW9uIHRleHQKCiAgdGFzay5xdWVzdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAocSkgewogICAgcmV0dXJuIHEudGV4dCA9IHEudGV4dC50cmltKCk7CiAgfSk7CiAgY29uc29sZS5sb2codGFzayk7CiAgcmV0dXJuIHRhc2s7CiAgLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovCiAgLy8gQ2hlY2sgZW5kIG9mIGlucHV0IGVycm9yCgogIGZ1bmN0aW9uIGNoZWNrRW5kT2ZJbnB1dCgpIHsKICAgIGlmIChpID09IHRva2Vucy5sZW5ndGgpIHsKICAgICAgdGFzay5lcnJvciA9IHRydWU7CiAgICAgIHRhc2suZXJyTXNnID0gIlBhcnNlciBlcnJvcjogVW5leHBlY3RlZCBlbmQgb2YgaW5wdXQuIjsKICAgIH0KCiAgICByZXR1cm4gdGFzay5lcnJvcjsKICB9IC8vIFBhcnNlIHRoZSAjdGV4dCBwYXJ0IG9mIHRoZSBnaXZlbiB0ZXh0CgoKICBmdW5jdGlvbiBwYXJzZVRleHQoKSB7CiAgICAvLyBUZXh0IHNlY3Rpb24gc3RhcnRzIHdpdGggJyN0ZXh0JwogICAgaWYgKCFjaGVja1Rva2VuVHlwZShUb2tlbi50eXBlcy5rZXl3b3JkKSkgdG9rZW5UeXBlRXJyb3IoIkV4cGVjdGVkIGtleXdvcmQsIHN0YXJ0aW5nIHdpdGggIyIpOwogICAgaWYgKCFjaGVja1Rva2VuVmFsdWUoIiN0ZXh0IikpIHRva2VuVmFsdWVFcnJvcigiRXhwZWN0ZWQgI3RleHQga2V5d29yZCIpOwogICAgaSsrOyAvLyBNb3ZlIHRvIG5leHQgdG9rZW4KCiAgICBza2lwU3BhY2VzKCk7IC8vIEFwcGVuZCB0ZXh0IHVudGlsIHRoZSBuZXh0IGtleXdvcmQKCiAgICB3aGlsZSAoIWNoZWNrRW5kT2ZJbnB1dCgpICYmICFjaGVja1Rva2VuVHlwZShUb2tlbi50eXBlcy5rZXl3b3JkKSkgewogICAgICAvLyBTYXZlIHZhcmlhYmxlIHdoZW4gZW5jb3VudGVyZWQKICAgICAgaWYgKGNoZWNrVG9rZW5UeXBlKFRva2VuLnR5cGVzLnZhcmlhYmxlKSkgewogICAgICAgIHRhc2suYWRkTmV3VmFyaWFibGUodG9rZW5zW2ldLnZhbHVlKTsKICAgICAgfQoKICAgICAgdGFzay5hZGRUYXNrVGV4dCh0b2tlbnNbaV0udmFsdWUpOwogICAgICBpKys7IC8vIE1vdmUgdG8gbmV4dCB0b2tlbgoKICAgICAgc2tpcFNwYWNlcygpOwogICAgfQogIH0gLy8gUGFyc2UgdGhlICNxdWVzdGlvbiBwYXJ0cyBvZiB0aGUgdGV4dAoKCiAgZnVuY3Rpb24gcGFyc2VRdWVzdGlvbnMoKSB7CiAgICAvLyBGb3IgZWFjaCBxdWVzdGlvbiBpbiB0aGUgdGV4dAogICAgZG8gewogICAgICAvLyBDaGVjayBrZXl3b3JkIHZhbGlkaXR5CiAgICAgIGlmICghY2hlY2tUb2tlblR5cGUoVG9rZW4udHlwZXMua2V5d29yZCkpIHRva2VuVHlwZUVycm9yKCJFeHBlY3RlZCBrZXl3b3JkLCBzdGFydGluZyB3aXRoICMiKTsKICAgICAgaWYgKCFjaGVja1Rva2VuVmFsdWUoIiNxdWVzdGlvbiIpKSB0b2tlblZhbHVlRXJyb3IoIkV4cGVjdGVkICcjcXVlc3Rpb24nIGtleXdvcmQiKTsKICAgICAgdGFzay5hZGROZXdRdWVzdGlvbigpOwogICAgICBpKys7IC8vIE1vdmUgdG8gbmV4dCB0b2tlbgoKICAgICAgc2tpcFNwYWNlcygpOyAvLyBBZGQgcXVlc3Rpb24gY29udGVudAoKICAgICAgd2hpbGUgKCFjaGVja1Rva2VuVHlwZShUb2tlbi50eXBlcy5rZXl3b3JkKSkgewogICAgICAgIGlmIChjaGVja1Rva2VuVHlwZShUb2tlbi50eXBlcy5hbnN3ZXIpKSB7CiAgICAgICAgICB0YXNrLmFkZE5ld0Fuc3dlcih0b2tlbnNbaV0udmFsdWUpOwogICAgICAgIH0gLy8gU2F2ZSB2YXJpYWJsZSB3aGVuIGVuY291bnRlcmVkCgoKICAgICAgICBpZiAoY2hlY2tUb2tlblR5cGUoVG9rZW4udHlwZXMudmFyaWFibGUpKSB7CiAgICAgICAgICB0YXNrLmFkZE5ld1ZhcmlhYmxlKHRva2Vuc1tpXS52YWx1ZSk7CiAgICAgICAgfQoKICAgICAgICB0YXNrLmFkZFF1ZXN0aW9uVGV4dCh0b2tlbnNbaV0udmFsdWUpOwogICAgICAgIGkrKzsgLy8gTW92ZSB0byBuZXh0IHRva2VuCgogICAgICAgIHNraXBTcGFjZXMoKTsKICAgICAgfQogICAgfSB3aGlsZSAoY2hlY2tUb2tlblR5cGUoVG9rZW4udHlwZXMua2V5d29yZCkgJiYgY2hlY2tUb2tlblZhbHVlKCIjcXVlc3Rpb24iKSk7CiAgfSAvLyBQYXJzZSB0aGUgI2RlZmludGlvbiBwYXJ0IG9mIHRoZSB0ZXh0CgoKICBmdW5jdGlvbiBwYXJzZURlZmluaXRpb25zKCkgewogICAgaWYgKCFjaGVja1Rva2VuVHlwZShUb2tlbi50eXBlcy5rZXl3b3JkKSkgdG9rZW5UeXBlRXJyb3IoIkV4cGVjdGVkIGtleXdvcmQsIHN0YXJ0aW5nIHdpdGggIyIpOwogICAgaWYgKCFjaGVja1Rva2VuVmFsdWUoIiNkZWZpbml0aW9ucyIpKSB0b2tlblZhbHVlRXJyb3IoIkV4cGVjdGVkICcjZGVmaW5pdGlvbnMnIGtleXdvcmQiKTsKICAgIGkrKzsgLy8gTW92ZSB0byBuZXh0IHRva2VuCgogICAgc2tpcFNwYWNlcygpOyAvLyBVbnRpbCB0aGUgbmV4dCBrZXl3b3JkCgogICAgd2hpbGUgKCFjaGVja1Rva2VuVHlwZShUb2tlbi50eXBlcy5rZXl3b3JkKSkgewogICAgICAvLyBIYW5kbGUgdmFyaWFibGUgZGVmaW5pdGlvbiBvciBkZWNsYXJhdGlvbgogICAgICBpZiAoY2hlY2tUb2tlblR5cGUoVG9rZW4udHlwZXMudmFyaWFibGUpKSB7CiAgICAgICAgLy8gSWYgdmFyaWFibGUgd2FzIG5vdCBhZGRlZCB5ZXQKICAgICAgICBpZiAodGFzay52YXJpYWJsZXMuZmluZChmdW5jdGlvbiAodikgewogICAgICAgICAgcmV0dXJuIHYubmFtZSA9PSB0b2tlbnNbaV0udmFsdWU7CiAgICAgICAgfSkgPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICB0YXNrLmFkZE5ld1ZhcmlhYmxlKHRva2Vuc1tpXS52YWx1ZSk7CiAgICAgICAgICB0YXNrLnZhcmlhYmxlcy5hdCgtMSkuYWRkZWQgPSB0cnVlOwogICAgICAgIH0gLy8gRmluZCBpbmRleCBvZiBjdXJyZW50IHZhcmlhYmxlIHRvIHByb2Nlc3MKCgogICAgICAgIHRhc2suc2V0VmFyaWFibGVJbmRleCh0b2tlbnNbaV0udmFsdWUpOwogICAgICAgIGkrKzsgLy8gTW92ZSB0byBuZXh0IHRva2VuCgogICAgICAgIHNraXBTcGFjZXMoKTsgLy8gVmFyaWFibGUgZGVmaW5pdGlvbgoKICAgICAgICBpZiAoY2hlY2tUb2tlblR5cGUoVG9rZW4udHlwZXMub3BlcmF0b3IuZXEpKSB7CiAgICAgICAgICBpKys7IC8vIE1vdmUgdG8gbmV4dCB0b2tlbgoKICAgICAgICAgIHNraXBTcGFjZXMoKTsKICAgICAgICAgIHZhciB0ZW1wX2RlZiA9ICIiOwoKICAgICAgICAgIHdoaWxlICghY2hlY2tUb2tlblR5cGUoVG9rZW4udHlwZXMud2hpdGVzcGFjZS5uZXdsaW5lKSkgewogICAgICAgICAgICAvLyBDb2xsZWN0IHZhcmlhYmxlIGRlZmluaXRpb24KICAgICAgICAgICAgdGVtcF9kZWYgKz0gIiAiICsgdG9rZW5zW2ldLnZhbHVlOwogICAgICAgICAgICBpKys7IC8vIE1vdmUgdG8gbmV4dCB0b2tlbgoKICAgICAgICAgICAgc2tpcFNwYWNlcygpOwogICAgICAgICAgfQoKICAgICAgICAgIHRhc2suYWRkVmFyaWFibGVEZWZpbml0aW9uKHRlbXBfZGVmLnRyaW0oKSk7CiAgICAgICAgICBpKys7IC8vIE1vdmUgdG8gbmV4dCB0b2tlbgoKICAgICAgICAgIHNraXBTcGFjZXMoKTsKICAgICAgICB9IC8vIFZhcmlhYmxlIGRlY2xhcmF0aW9uCiAgICAgICAgZWxzZSBpZiAoIWNoZWNrVG9rZW5UeXBlKFRva2VuLnR5cGVzLndoaXRlc3BhY2UubmV3bGluZSkpIHsKICAgICAgICAgIHRva2VuVHlwZUVycm9yKCJFeHBlY3RlZCBhIG5ld2xpbmUgY2hhcmFjdGVyICdcXG4nIik7CiAgICAgICAgfQogICAgICB9IC8vIEFuc3dlciBhc3NpZ25tZW50CgoKICAgICAgaWYgKGNoZWNrVG9rZW5UeXBlKFRva2VuLnR5cGVzLmFuc3dlcikpIHsKICAgICAgICAvLyBGaW5kIGFuc3dlciBpbiBxdWVzdGlvbnMgYW5zd2VyCiAgICAgICAgdmFyIGFuc3dlciA9IHRhc2suZmluZEFuc3dlcih0b2tlbnNbaV0udmFsdWUpOwogICAgICAgIGlmIChhbnN3ZXIgPT0gdW5kZWZpbmVkKSBzZW1hbnRpY0Vycm9yKCJBbnN3ZXIgIiArIHRva2Vuc1tpXS52YWx1ZSArICIgaXMgdW5kZWZpbmVkLiIpOwogICAgICAgIGNvbnNvbGUubG9nKCJBTlNXIiwgYW5zd2VyLm5hbWUpOwogICAgICAgIGkrKzsgLy8gTW92ZSB0byBuZXh0IHRva2VuCgogICAgICAgIHNraXBTcGFjZXMoKTsgLy8gTG9vayBmb3IgJy5jb3JyZWN0JyBvciAnLmluY29ycmVjdCcKCiAgICAgICAgaWYgKCFjaGVja1Rva2VuVHlwZShUb2tlbi50eXBlcy5zcGVjaWFsLmFjY2Vzc29yKSkgdG9rZW5UeXBlRXJyb3IoIkV4cGVjdGVkIGFjY2Vzc29yIC5jb3JyZWN0IG9yIC5pbmNvcnJlY3QiKTsgLy8gU2F2ZSBhbnN3ZXIgYWNjZXNzb3IgdHlwZQoKICAgICAgICB2YXIgYW5zd2VyVHlwZSA9IHRva2Vuc1tpXS52YWx1ZTsKICAgICAgICBpKys7IC8vIE1vdmUgdG8gbmV4dCB0b2tlbgoKICAgICAgICBza2lwU3BhY2VzKCk7IC8vIExvb2sgZm9yID0KCiAgICAgICAgaWYgKCFjaGVja1Rva2VuVHlwZShUb2tlbi50eXBlcy5vcGVyYXRvci5lcSkpIHRva2VuVHlwZUVycm9yKCJFeHBlY3RlZCBhbiBlcXVhbCBzaWduID0iKTsKICAgICAgICBpKys7IC8vIE1vdmUgdG8gbmV4dCB0b2tlbgoKICAgICAgICBza2lwU3BhY2VzKCk7IC8vIExvb2sgZm9yIFsKCiAgICAgICAgaWYgKCFjaGVja1Rva2VuVHlwZShUb2tlbi50eXBlcy5zcGVjaWFsLmxCcmFja2V0KSkgdG9rZW5UeXBlRXJyb3IoIkV4cGVjdGVkIGFuIG9wZW5pbmcgYnJhY2tldCBbIik7CiAgICAgICAgaSsrOyAvLyBNb3ZlIHRvIG5leHQgdG9rZW4KCiAgICAgICAgc2tpcFNwYWNlcygpOyAvLyBMb29rIGZvciBuZXdsaW5lCgogICAgICAgIGlmICghY2hlY2tUb2tlblR5cGUoVG9rZW4udHlwZXMud2hpdGVzcGFjZS5uZXdsaW5lKSkgdG9rZW5UeXBlRXJyb3IoIkV4cGVjdGVkIGEgbmV3bGluZSBjaGFyYWN0ZXIgJ1xcbiciKTsKICAgICAgICBpKys7IC8vIE1vdmUgdG8gbmV4dCB0b2tlbgoKICAgICAgICBza2lwU3BhY2VzKCk7IC8vIEV4Y2x1ZGUgXQoKICAgICAgICBpZiAoY2hlY2tUb2tlblR5cGUoVG9rZW4udHlwZXMuc3BlY2lhbC5yQnJhY2tldCkpIHRva2VuVHlwZUVycm9yKCJFeHBlY3RlZCBhIHZhbHVlIGJldHdlZW4gWyBdIGJyYWNrZXRzIik7CiAgICAgICAgY29uc29sZS5sb2coYW5zd2VyVHlwZSk7IC8vIEZvciBlYWNoIGFuc3dlciBkZWZpbml0aW9uCgogICAgICAgIHdoaWxlICghY2hlY2tUb2tlblR5cGUoVG9rZW4udHlwZXMuc3BlY2lhbC5yQnJhY2tldCkpIHsKICAgICAgICAgIC8vIENvbGxlY3QgZGVmaW5pdGlvbgogICAgICAgICAgdmFyIGFuc3dlckRlZmluaXRpb24gPSAiIjsKCiAgICAgICAgICB3aGlsZSAoIWNoZWNrVG9rZW5UeXBlKFRva2VuLnR5cGVzLnNwZWNpYWwuY29tbWEpICYmICFjaGVja1Rva2VuVHlwZShUb2tlbi50eXBlcy53aGl0ZXNwYWNlLm5ld2xpbmUpKSB7CiAgICAgICAgICAgIGFuc3dlckRlZmluaXRpb24gKz0gdG9rZW5zW2ldLnZhbHVlOwogICAgICAgICAgICBpKys7IC8vIE1vdmUgdG8gbmV4dCB0b2tlbgogICAgICAgICAgfQoKICAgICAgICAgIGlmIChjaGVja1Rva2VuVHlwZShUb2tlbi50eXBlcy5zcGVjaWFsLmNvbW1hKSkgaSsrOyAvLyBNb3ZlIHRvIG5leHQgdG9rZW4KICAgICAgICAgIC8vIFNhdmUgZGVmaW5pdGlvbiBiYXNlZCBvbiBhY2Nlc3NvciB0eXBlCgogICAgICAgICAgaWYgKGFuc3dlclR5cGUgPT0gIi5jb3JyZWN0IiAmJiBhbnN3ZXJEZWZpbml0aW9uICE9ICIiKSB7CiAgICAgICAgICAgIGFuc3dlci5jb3JyZWN0LnB1c2goYW5zd2VyRGVmaW5pdGlvbik7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKGFuc3dlclR5cGUgPT0gIi5pbmNvcnJlY3QiICYmIGFuc3dlckRlZmluaXRpb24gIT0gIiIpIHsKICAgICAgICAgICAgYW5zd2VyLmluY29ycmVjdC5wdXNoKGFuc3dlckRlZmluaXRpb24pOwogICAgICAgICAgfQoKICAgICAgICAgIGkrKzsgLy8gTW92ZSB0byBuZXh0IHRva2VuCgogICAgICAgICAgc2tpcFNwYWNlcygpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgaSsrOyAvLyBNb3ZlIHRvIG5leHQgdG9rZW4KCiAgICAgIGNvbnNvbGUubG9nKCFjaGVja1Rva2VuVHlwZShUb2tlbi50eXBlcy5rZXl3b3JkKSk7CiAgICB9CiAgfSAvLyBQYXJzZXMgdGhlICNyYW5nZXMgcGFydCBvZiB0aGUgdGV4dAoKCiAgZnVuY3Rpb24gcGFyc2VSYW5nZXMoKSB7CiAgICBpZiAoIWNoZWNrVG9rZW5UeXBlKFRva2VuLnR5cGVzLmtleXdvcmQpKSB0b2tlblR5cGVFcnJvcigiRXhwZWN0ZWQga2V5d29yZCwgc3RhcnRpbmcgd2l0aCAjIik7CiAgICBpZiAoIWNoZWNrVG9rZW5WYWx1ZSgiI3JhbmdlcyIpKSB0b2tlblZhbHVlRXJyb3IoIkV4cGVjdGVkICcjcmFuZ2VzJyBrZXl3b3JkIik7CiAgICBpKys7IC8vIE1vdmUgdG8gbmV4dCB0b2tlbgoKICAgIHNraXBOZXdMaW5lcygpOwogICAgc2tpcFNwYWNlcygpOwoKICAgIHdoaWxlIChpIDwgdG9rZW5zLmxlbmd0aCkgewogICAgICBpZiAoIWNoZWNrVG9rZW5UeXBlKFRva2VuLnR5cGVzLnZhcmlhYmxlKSAmJiAhY2hlY2tUb2tlblR5cGUoVG9rZW4udHlwZXMuYW5zd2VyKSkgdG9rZW5UeXBlRXJyb3IoIkV4cGV0ZWN0ZWQgdmFyaWFibGUgb3IgYW5zd2VyIik7IC8vIExvYWQgdmFyaWFibGUgKG9yIGFuc3dlcikKCiAgICAgIHZhciB2YXJpYWJsZSA9IHZvaWQgMDsKCiAgICAgIGlmIChjaGVja1Rva2VuVHlwZShUb2tlbi50eXBlcy52YXJpYWJsZSkpIHsKICAgICAgICB2YXJpYWJsZSA9IHRhc2suZmluZFZhcmlhYmxlKHRva2Vuc1tpXS52YWx1ZSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyaWFibGUgPSB0YXNrLmZpbmRBbnN3ZXIodG9rZW5zW2ldLnZhbHVlKTsKICAgICAgfQoKICAgICAgaWYgKHZhcmlhYmxlID09IHVuZGVmaW5lZCkgc2VtYW50aWNFcnJvcigiVmFyaWFibGUgIiArIHRva2Vuc1tpXS52YWx1ZSArICIgaXMgdW5kZWZpbmVkLiIpOwogICAgICBpKys7IC8vIE1vdmUgdG8gbmV4dCB0b2tlbgoKICAgICAgc2tpcFNwYWNlcygpOwogICAgICBpZiAoIWNoZWNrVG9rZW5UeXBlKFRva2VuLnR5cGVzLm9wZXJhdG9yLmVxKSkgdG9rZW5UeXBlRXJyb3IoIkV4cGVjdGVkIG9wZWF0b3IgPSIpOwogICAgICBpKys7IC8vIE1vdmUgdG8gbmV4dCB0b2tlbgoKICAgICAgc2tpcFNwYWNlcygpOwoKICAgICAgaWYgKCFjaGVja1Rva2VuVHlwZShUb2tlbi50eXBlcy50ZXh0KSkgewogICAgICAgIHRva2VuVHlwZUVycm9yKCJFeHBlY3RlZCB0ZXh0IHR5cGUiKTsKICAgICAgfQoKICAgICAgaWYgKCFjaGVja1Rva2VuVmFsdWUoInJhbmdlIikpIHsKICAgICAgICB0b2tlblZhbHVlRXJyb3IoIkV4cGVjdGVkICdyYW5nZScgdGV4dCIpOwogICAgICB9CgogICAgICBpKys7IC8vIE1vdmUgdG8gbmV4dCB0b2tlbgoKICAgICAgc2tpcFNwYWNlcygpOyAvLyAoCgogICAgICBpZiAoIWNoZWNrVG9rZW5UeXBlKFRva2VuLnR5cGVzLnNwZWNpYWwubFBhcmVudGgpKSB0b2tlblR5cGVFcnJvcigiRXhwZWN0ZWQgbGVmdCBwYXJlbnRoZXNpcyAoIik7CiAgICAgIGkrKzsgLy8gTW92ZSB0byBuZXh0IHRva2VuCgogICAgICBza2lwU3BhY2VzKCk7IC8vIHN0YXJ0CgogICAgICBpZiAoIWNoZWNrVG9rZW5UeXBlKFRva2VuLnR5cGVzLm51bWJlcikpIHRva2VuVHlwZUVycm9yKCJFeHBlY3RlZCBhIG51bWJlciIpOwogICAgICB2YXJpYWJsZS5yYW5nZS5zdGFydCA9IHRva2Vuc1tpXS52YWx1ZTsKICAgICAgaSsrOyAvLyBNb3ZlIHRvIG5leHQgdG9rZW4KCiAgICAgIHNraXBTcGFjZXMoKTsKICAgICAgaWYgKCFjaGVja1Rva2VuVHlwZShUb2tlbi50eXBlcy5zcGVjaWFsLmNvbW1hKSkgdG9rZW5UeXBlRXJyb3IoIkV4cGVjdGVkIGNvbW1hIHNlcGFyYXRvciAsIik7CiAgICAgIGkrKzsgLy8gTW92ZSB0byBuZXh0IHRva2VuCgogICAgICBza2lwU3BhY2VzKCk7IC8vIGVuZAoKICAgICAgaWYgKCFjaGVja1Rva2VuVHlwZShUb2tlbi50eXBlcy5udW1iZXIpKSB0b2tlblR5cGVFcnJvcigiRXhwZWN0ZWQgYSBudW1iZXIiKTsKICAgICAgdmFyaWFibGUucmFuZ2UuZW5kID0gdG9rZW5zW2ldLnZhbHVlOwogICAgICBpKys7IC8vIE1vdmUgdG8gbmV4dCB0b2tlbgoKICAgICAgc2tpcFNwYWNlcygpOwogICAgICBpZiAoIWNoZWNrVG9rZW5UeXBlKFRva2VuLnR5cGVzLnNwZWNpYWwuY29tbWEpKSB0b2tlblR5cGVFcnJvcigiRXhwZWN0ZWQgY29tbWEgc2VwYXJhdG9yICwiKTsKICAgICAgaSsrOyAvLyBNb3ZlIHRvIG5leHQgdG9rZW4KCiAgICAgIHNraXBTcGFjZXMoKTsgLy8gc3RlcAoKICAgICAgaWYgKCFjaGVja1Rva2VuVHlwZShUb2tlbi50eXBlcy5udW1iZXIpKSB0b2tlblR5cGVFcnJvcigiRXhwZWN0ZWQgYSBudW1iZXIiKTsKICAgICAgdmFyaWFibGUucmFuZ2Uuc3RlcCA9IHRva2Vuc1tpXS52YWx1ZTsKICAgICAgaSsrOyAvLyBNb3ZlIHRvIG5leHQgdG9rZW4KCiAgICAgIHNraXBTcGFjZXMoKTsgLy8gKQoKICAgICAgaWYgKCFjaGVja1Rva2VuVHlwZShUb2tlbi50eXBlcy5zcGVjaWFsLnJQYXJlbnRoKSkgdG9rZW5UeXBlRXJyb3IoIkV4cGVjdGVkIGNsb3NpbmcgcmlnaHQgcGFyZW50aGVzaXMgKSIpOwogICAgICBpKys7IC8vIE1vdmUgdG8gbmV4dCB0b2tlbgoKICAgICAgc2tpcFNwYWNlcygpOwogICAgICBza2lwTmV3TGluZXMoKTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIHNraXBOZXdMaW5lcygpIHsKICAgIHdoaWxlIChpIDwgdG9rZW5zLmxlbmd0aCAmJiAoY2hlY2tUb2tlblR5cGUoVG9rZW4udHlwZXMud2hpdGVzcGFjZS5uZXdsaW5lKSB8fCBjaGVja1Rva2VuVHlwZShUb2tlbi50eXBlcy53aGl0ZXNwYWNlLnNwYWNlKSkpIHsKICAgICAgaSsrOwogICAgfQogIH0KCiAgZnVuY3Rpb24gc2tpcFNwYWNlcygpIHsKICAgIHdoaWxlIChpIDwgdG9rZW5zLmxlbmd0aCAmJiBjaGVja1Rva2VuVHlwZShUb2tlbi50eXBlcy53aGl0ZXNwYWNlLnNwYWNlKSkgewogICAgICBpKys7CiAgICB9CiAgfQogIC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi8KICAvLyBDaGVja2VycwoKCiAgZnVuY3Rpb24gY2hlY2tUb2tlblR5cGUodHlwZSkgewogICAgaWYgKGkgPj0gdG9rZW5zLmxlbmd0aCkgcmV0dXJuIGZhbHNlOwogICAgcmV0dXJuIHRva2Vuc1tpXS50eXBlID09IHR5cGUgPyB0cnVlIDogZmFsc2U7CiAgfQoKICBmdW5jdGlvbiBjaGVja1Rva2VuVmFsdWUodmFsdWUpIHsKICAgIGlmIChpID49IHRva2Vucy5sZW5ndGgpIHJldHVybiBmYWxzZTsKICAgIHJldHVybiB0b2tlbnNbaV0udmFsdWUgPT0gdmFsdWUgPyB0cnVlIDogZmFsc2U7CiAgfSAvLyBFcnJvcnMKCgogIGZ1bmN0aW9uIHRva2VuVHlwZUVycm9yKCkgewogICAgdmFyIF9lcnJNc2cgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6ICJUeXBlIGVycm9yIG1lc3NhZ2UuLi4iOwoKICAgIHRocm93IHsKICAgICAgdHlwZTogIlRva2VuIFR5cGUgRXJyb3IiLAogICAgICBtZXNzYWdlOiBfZXJyTXNnCiAgICB9OwogIH0KCiAgZnVuY3Rpb24gdG9rZW5WYWx1ZUVycm9yKCkgewogICAgdmFyIF9lcnJNc2cgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6ICJWYWx1ZSBlcnJvciBtZXNzYWdlLi4uIjsKCiAgICB0aHJvdyB7CiAgICAgIHR5cGU6ICJUb2tlbiBWYWx1ZSBFcnJvciIsCiAgICAgIG1lc3NhZ2U6IF9lcnJNc2cKICAgIH07CiAgfQoKICBmdW5jdGlvbiBzZW1hbnRpY0Vycm9yKF9lcnJNc2cpIHsKICAgIHRocm93IHsKICAgICAgdHlwZTogIlNlbWFudGljIEVycm9yIiwKICAgICAgbWVzc2FnZTogX2Vyck1zZwogICAgfTsKICB9Cn0KLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICov"},{"version":3,"sources":["/home/dc/Documents/BP/vue-bp-web/src/myfiles/taskHandler.js"],"names":["tokenize","Token","math","require","ConcreteTask","text","questions","answers","Map","variables","Question","Answer","_name","name","correct","incorrect","range","Range","visible","Variable","definition","added","start","end","step","fullRange","trim","Task","qIndex","vIndex","_text","toString","push","find","a","v","findIndex","_definition","parseMathLang","console","log","tokens","lineNumber","i","task","checkEndOfInput","parseText","error","parseQuestions","parseDefinitions","parseRanges","forEach","q","length","errMsg","checkTokenType","types","keyword","tokenTypeError","checkTokenValue","tokenValueError","skipSpaces","variable","addNewVariable","value","addTaskText","addNewQuestion","answer","addNewAnswer","addQuestionText","undefined","at","setVariableIndex","operator","eq","temp_def","whitespace","newline","addVariableDefinition","findAnswer","semanticError","special","accessor","answerType","lBracket","rBracket","answerDefinition","comma","skipNewLines","findVariable","lParenth","number","rParenth","space","type","_errMsg","message"],"mappings":"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","sourcesContent":["import { tokenize, Token } from \"./tokenizer\";\n\nconst math = require(\"mathjs\");\n\n// Task with concrete values\nexport class ConcreteTask {\n  constructor() {\n    this.text = \"\";\n    this.questions = [];\n    this.answers = new Map();\n    this.variables = new Map();\n  }\n}\n\n// Class that represents the questions\n// of the given task\nexport class Question {\n  constructor() {\n    this.text = \"\";\n  }\n}\n\n// Answer structure\nexport class Answer {\n  constructor(_name) {\n    this.name = _name;\n    this.correct = [];\n    this.incorrect = [];\n\n    this.range = new Range();\n\n    this.visible = true;\n  }\n}\n\n// Variable structure\nexport class Variable {\n  constructor(_name) {\n    this.name = _name;\n    this.definition = \"\";\n    this.range = new Range();\n\n    this.visible = true;\n    this.added = false;\n  }\n}\n\n// Represents the range of the\n// variable\nexport class Range {\n  constructor() {\n    this.start = \"\";\n    this.end = \"\";\n    this.step = \"\";\n\n    this.fullRange = function () {\n      if (\n        this.start.trim() == \"\" ||\n        this.end.trim() == \"\" ||\n        this.step.trim() == \"\"\n      ) {\n        return \"\";\n      }\n\n      return \"(\" + this.start + \",\" + this.end + \",\" + this.step + \")\";\n    };\n  }\n}\n\n// Class that represents the task\n// this will be saved in the database\nexport class Task {\n  constructor() {\n    // Content\n    this.text = \"\";\n\n    this.qIndex = -1;\n    this.questions = [];\n\n    this.vIndex = -1;\n    this.variables = [];\n\n    this.answers = [];\n  }\n\n  // Adding text to task\n  addTaskText(_text) {\n    this.text += \" \" + _text.toString();\n  }\n\n  // Add new question\n  addNewQuestion() {\n    this.questions.push(new Question());\n    this.qIndex++;\n  }\n\n  // Add question text\n  addQuestionText(_text) {\n    this.questions[this.qIndex].text += \" \" + _text.trim(\"\\n\");\n  }\n\n  // Find answer by name\n  findAnswer(_name) {\n    return this.answers.find((a) => a.name == _name);\n  }\n\n  // Add new answer\n  addNewAnswer(_name) {\n    this.answers.push(new Answer(_name));\n  }\n\n  // Add new variable to task if not already in array\n  addNewVariable(_name) {\n    if (!this.variables.find((v) => v.name == _name)) {\n      this.variables.push(new Variable(_name));\n      this.vIndex++;\n    }\n  }\n\n  setVariableIndex(_name) {\n    this.vIndex = this.variables.findIndex((v) => v.name == _name);\n  }\n\n  addVariableDefinition(_definition) {\n    this.variables[this.vIndex].definition = _definition;\n  }\n\n  findVariable(_name) {\n    return this.variables.find((v) => v.name == _name);\n  }\n}\n\n// Parses the markup language\nexport function parseMathLang(text) {\n  console.log(text); // Logging\n\n  // First, tokenize the input file\n  let tokens = tokenize(text);\n  let lineNumber = 0;\n  let i = 0;\n\n  console.log(tokens); // Logging\n\n  // Create task object where the new task will be saved\n  let task = new Task();\n\n  // Error checking\n  if (checkEndOfInput()) return task;\n\n  parseText();\n  if (task.error) return task;\n  parseQuestions();\n  if (task.error) return task;\n  parseDefinitions();\n  if (task.error) return task;\n  parseRanges();\n\n  // Trim whitespaces in question text\n  task.questions.forEach((q) => (q.text = q.text.trim()));\n\n  console.log(task);\n\n  return task;\n\n  /* ------------------------------ */\n\n  // Check end of input error\n  function checkEndOfInput() {\n    if (i == tokens.length) {\n      task.error = true;\n      task.errMsg = \"Parser error: Unexpected end of input.\";\n    }\n\n    return task.error;\n  }\n\n  // Parse the #text part of the given text\n  function parseText() {\n    // Text section starts with '#text'\n    if (!checkTokenType(Token.types.keyword))\n      tokenTypeError(\"Expected keyword, starting with #\");\n    if (!checkTokenValue(\"#text\")) tokenValueError(\"Expected #text keyword\");\n\n    i++; // Move to next token\n    skipSpaces();\n\n    // Append text until the next keyword\n    while (!checkEndOfInput() && !checkTokenType(Token.types.keyword)) {\n      // Save variable when encountered\n      if (checkTokenType(Token.types.variable)) {\n        task.addNewVariable(tokens[i].value);\n      }\n\n      task.addTaskText(tokens[i].value);\n\n      i++; // Move to next token\n      skipSpaces();\n    }\n  }\n\n  // Parse the #question parts of the text\n  function parseQuestions() {\n    // For each question in the text\n    do {\n      // Check keyword validity\n      if (!checkTokenType(Token.types.keyword))\n        tokenTypeError(\"Expected keyword, starting with #\");\n      if (!checkTokenValue(\"#question\"))\n        tokenValueError(\"Expected '#question' keyword\");\n\n      task.addNewQuestion();\n\n      i++; // Move to next token\n      skipSpaces();\n\n      // Add question content\n      while (!checkTokenType(Token.types.keyword)) {\n        if (checkTokenType(Token.types.answer)) {\n          task.addNewAnswer(tokens[i].value);\n        }\n\n        // Save variable when encountered\n        if (checkTokenType(Token.types.variable)) {\n          task.addNewVariable(tokens[i].value);\n        }\n\n        task.addQuestionText(tokens[i].value);\n\n        i++; // Move to next token\n        skipSpaces();\n      }\n    } while (\n      checkTokenType(Token.types.keyword) &&\n      checkTokenValue(\"#question\")\n    );\n  }\n\n  // Parse the #defintion part of the text\n  function parseDefinitions() {\n    if (!checkTokenType(Token.types.keyword))\n      tokenTypeError(\"Expected keyword, starting with #\");\n    if (!checkTokenValue(\"#definitions\"))\n      tokenValueError(\"Expected '#definitions' keyword\");\n\n    i++; // Move to next token\n    skipSpaces();\n\n    // Until the next keyword\n    while (!checkTokenType(Token.types.keyword)) {\n      // Handle variable definition or declaration\n      if (checkTokenType(Token.types.variable)) {\n        // If variable was not added yet\n        if (\n          task.variables.find((v) => v.name == tokens[i].value) == undefined\n        ) {\n          task.addNewVariable(tokens[i].value);\n          task.variables.at(-1).added = true;\n        }\n\n        // Find index of current variable to process\n        task.setVariableIndex(tokens[i].value);\n\n        i++; // Move to next token\n        skipSpaces();\n\n        // Variable definition\n        if (checkTokenType(Token.types.operator.eq)) {\n          i++; // Move to next token\n          skipSpaces();\n\n          let temp_def = \"\";\n          while (!checkTokenType(Token.types.whitespace.newline)) {\n            // Collect variable definition\n            temp_def += \" \" + tokens[i].value;\n            i++; // Move to next token\n            skipSpaces();\n          }\n\n          task.addVariableDefinition(temp_def.trim());\n          i++; // Move to next token\n          skipSpaces();\n        }\n        // Variable declaration\n        else if (!checkTokenType(Token.types.whitespace.newline)) {\n          tokenTypeError(\"Expected a newline character '\\\\n'\");\n        }\n      }\n\n      // Answer assignment\n      if (checkTokenType(Token.types.answer)) {\n        // Find answer in questions answer\n        let answer = task.findAnswer(tokens[i].value);\n        if (answer == undefined)\n          semanticError(\"Answer \" + tokens[i].value + \" is undefined.\");\n\n        console.log(\"ANSW\", answer.name);\n        i++; // Move to next token\n        skipSpaces();\n\n        // Look for '.correct' or '.incorrect'\n        if (!checkTokenType(Token.types.special.accessor))\n          tokenTypeError(\"Expected accessor .correct or .incorrect\");\n\n        // Save answer accessor type\n        let answerType = tokens[i].value;\n        i++; // Move to next token\n        skipSpaces();\n\n        // Look for =\n        if (!checkTokenType(Token.types.operator.eq))\n          tokenTypeError(\"Expected an equal sign =\");\n\n        i++; // Move to next token\n        skipSpaces();\n\n        // Look for [\n        if (!checkTokenType(Token.types.special.lBracket))\n          tokenTypeError(\"Expected an opening bracket [\");\n\n        i++; // Move to next token\n        skipSpaces();\n\n        // Look for newline\n        if (!checkTokenType(Token.types.whitespace.newline))\n          tokenTypeError(\"Expected a newline character '\\\\n'\");\n\n        i++; // Move to next token\n        skipSpaces();\n\n        // Exclude ]\n        if (checkTokenType(Token.types.special.rBracket))\n          tokenTypeError(\"Expected a value between [ ] brackets\");\n\n        console.log(answerType);\n\n        // For each answer definition\n        while (!checkTokenType(Token.types.special.rBracket)) {\n          // Collect definition\n          let answerDefinition = \"\";\n\n          while (\n            !checkTokenType(Token.types.special.comma) &&\n            !checkTokenType(Token.types.whitespace.newline)\n          ) {\n            answerDefinition += tokens[i].value;\n            i++; // Move to next token\n          }\n\n          if (checkTokenType(Token.types.special.comma)) i++; // Move to next token\n\n          // Save definition based on accessor type\n          if (answerType == \".correct\" && answerDefinition != \"\") {\n            answer.correct.push(answerDefinition);\n          }\n          if (answerType == \".incorrect\" && answerDefinition != \"\") {\n            answer.incorrect.push(answerDefinition);\n          }\n\n          i++; // Move to next token\n          skipSpaces();\n        }\n      }\n\n      i++; // Move to next token\n\n      console.log(!checkTokenType(Token.types.keyword));\n    }\n  }\n\n  // Parses the #ranges part of the text\n  function parseRanges() {\n    if (!checkTokenType(Token.types.keyword))\n      tokenTypeError(\"Expected keyword, starting with #\");\n    if (!checkTokenValue(\"#ranges\"))\n      tokenValueError(\"Expected '#ranges' keyword\");\n\n    i++; // Move to next token\n    skipNewLines();\n    skipSpaces();\n\n    while (i < tokens.length) {\n      if (\n        !checkTokenType(Token.types.variable) &&\n        !checkTokenType(Token.types.answer)\n      )\n        tokenTypeError(\"Expetected variable or answer\");\n\n      // Load variable (or answer)\n      let variable;\n      if (checkTokenType(Token.types.variable)) {\n        variable = task.findVariable(tokens[i].value);\n      } else {\n        variable = task.findAnswer(tokens[i].value);\n      }\n      if (variable == undefined)\n        semanticError(\"Variable \" + tokens[i].value + \" is undefined.\");\n\n      i++; // Move to next token\n      skipSpaces();\n\n      if (!checkTokenType(Token.types.operator.eq))\n        tokenTypeError(\"Expected opeator =\");\n      i++; // Move to next token\n      skipSpaces();\n\n      if (!checkTokenType(Token.types.text)) {\n        tokenTypeError(\"Expected text type\");\n      }\n      if (!checkTokenValue(\"range\")) {\n        tokenValueError(\"Expected 'range' text\");\n      }\n      i++; // Move to next token\n      skipSpaces();\n\n      // (\n      if (!checkTokenType(Token.types.special.lParenth))\n        tokenTypeError(\"Expected left parenthesis (\");\n      i++; // Move to next token\n      skipSpaces();\n\n      // start\n      if (!checkTokenType(Token.types.number))\n        tokenTypeError(\"Expected a number\");\n      variable.range.start = tokens[i].value;\n      i++; // Move to next token\n      skipSpaces();\n\n      if (!checkTokenType(Token.types.special.comma))\n        tokenTypeError(\"Expected comma separator ,\");\n      i++; // Move to next token\n      skipSpaces();\n\n      // end\n      if (!checkTokenType(Token.types.number))\n        tokenTypeError(\"Expected a number\");\n      variable.range.end = tokens[i].value;\n      i++; // Move to next token\n      skipSpaces();\n\n      if (!checkTokenType(Token.types.special.comma))\n        tokenTypeError(\"Expected comma separator ,\");\n      i++; // Move to next token\n      skipSpaces();\n\n      // step\n      if (!checkTokenType(Token.types.number))\n        tokenTypeError(\"Expected a number\");\n      variable.range.step = tokens[i].value;\n      i++; // Move to next token\n      skipSpaces();\n\n      // )\n      if (!checkTokenType(Token.types.special.rParenth))\n        tokenTypeError(\"Expected closing right parenthesis )\");\n      i++; // Move to next token\n      skipSpaces();\n\n      skipNewLines();\n    }\n  }\n\n  function skipNewLines() {\n    while (\n      i < tokens.length &&\n      ( checkTokenType(Token.types.whitespace.newline) || checkTokenType(Token.types.whitespace.space) )\n    ) {\n      i++;\n    }\n  }\n\n  function skipSpaces() {\n    while (\n      i < tokens.length &&\n      checkTokenType(Token.types.whitespace.space)\n    ) {\n      i++;\n    }\n  }\n\n  /* ------------------------------------------------- */\n  // Checkers\n  function checkTokenType(type) {\n    if (i >= tokens.length) return false;\n    return tokens[i].type == type ? true : false;\n  }\n\n  function checkTokenValue(value) {\n    if (i >= tokens.length) return false;\n    return tokens[i].value == value ? true : false;\n  }\n\n  // Errors\n  function tokenTypeError(_errMsg = \"Type error message...\") {\n    throw { type: \"Token Type Error\", message: _errMsg };\n  }\n  function tokenValueError(_errMsg = \"Value error message...\") {\n    throw { type: \"Token Value Error\", message: _errMsg };\n  }\n\n  function semanticError(_errMsg) {\n    throw { type: \"Semantic Error\", message: _errMsg };\n  }\n}\n\n/* --------------------------------- */\n"]}]}
{"remainingRequest":"/home/dc/Documents/BP/vue-bp-web/node_modules/babel-loader/lib/index.js!/home/dc/Documents/BP/vue-bp-web/node_modules/eslint-loader/index.js??ref--14-0!/home/dc/Documents/BP/vue-bp-web/src/myfiles/taskHandler.js","dependencies":[{"path":"/home/dc/Documents/BP/vue-bp-web/src/myfiles/taskHandler.js","mtime":1645079635683},{"path":"/home/dc/Documents/BP/vue-bp-web/babel.config.js","mtime":1642185636988},{"path":"/home/dc/Documents/BP/vue-bp-web/node_modules/cache-loader/dist/cjs.js","mtime":1642114936856},{"path":"/home/dc/Documents/BP/vue-bp-web/node_modules/babel-loader/lib/index.js","mtime":1642114938312},{"path":"/home/dc/Documents/BP/vue-bp-web/node_modules/eslint-loader/index.js","mtime":1642114937120}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9zbGljZWRUb0FycmF5IGZyb20gIi9ob21lL2RjL0RvY3VtZW50cy9CUC92dWUtYnAtd2ViL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9zbGljZWRUb0FycmF5LmpzIjsKaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICIvaG9tZS9kYy9Eb2N1bWVudHMvQlAvdnVlLWJwLXdlYi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2suanMiOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIi9ob21lL2RjL0RvY3VtZW50cy9CUC92dWUtYnAtd2ViL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuYXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuYXQtYWx0ZXJuYXRpdmUuanMiOwovLyBjb25zdCB0ZXggPSByZXF1aXJlKCd0ZXgtbWF0aC1wYXJzZXInKTsKLy8gaW1wb3J0IHsgcGFyc2VUZXgsIGV2YWx1YXRlVGV4IH0gZnJvbSAgLy8gRVM2IG1vZHVsZQppbXBvcnQgeyBTVEFSVCwgVEVYVCwgVkFSSUFCTEUsIEFOU1dFUiwgdG9rZW5pemUgfSBmcm9tICIuL3Rva2VuaXplciI7CmV4cG9ydCB2YXIgRklMRU5BTUUxID0gInRlc3QudHh0IjsKZXhwb3J0IHZhciBGSUxFTkFNRTIgPSAidGVzdDQudHh0IjsgLy9jb25zb2xlLmRpcih0b2tlbml6ZShGSUxFTkFNRTEpLCB7J21heEFycmF5TGVuZ3RoJzogbnVsbH0pOwoKZXhwb3J0IHZhciBRVUVTVElPTiA9IDIsCiAgICBERUZJTklUSU9OUyA9IDMsCiAgICBSQU5HRVMgPSA0LAogICAgU0VUX1JBTkdFID0gNiwKICAgIENPUlJFQ1QgPSA3LAogICAgSU5DT1JSRUNUID0gODsKZXhwb3J0IHZhciBSYW5nZSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgZnVuY3Rpb24gUmFuZ2UoKSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmFuZ2UpOwoKICAgIHRoaXMuc3RhcnQgPSAiIjsKICAgIHRoaXMuZW5kID0gIiI7CiAgICB0aGlzLnN0ZXAgPSAiIjsKCiAgICB0aGlzLmZ1bGxSYW5nZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuICIoIiArIHRoaXMuc3RhcnQgKyAiLCIgKyB0aGlzLmVuZCArICIsIiArIHRoaXMuc3RlcCArICIpIjsKICAgIH07CiAgfQoKICBfY3JlYXRlQ2xhc3MoUmFuZ2UsIFt7CiAgICBrZXk6ICJnZXRGdWxsUmFuZ2UiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldEZ1bGxSYW5nZSgpIHsKICAgICAgcmV0dXJuICIoIiArIHRoaXMuc3RhcnQgKyAiLCIgKyB0aGlzLmVuZCArICIsIiArIHRoaXMuc3RlcCArICIpIjsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJzZXRGdWxsUmFuZ2UiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHNldEZ1bGxSYW5nZShyYW5nZSkgewogICAgICB2YXIgX3JhbmdlJHNwbGl0ID0gcmFuZ2Uuc3BsaXQoIiwiLCAzKSwKICAgICAgICAgIF9yYW5nZSRzcGxpdDIgPSBfc2xpY2VkVG9BcnJheShfcmFuZ2Ukc3BsaXQsIDMpLAogICAgICAgICAgcyA9IF9yYW5nZSRzcGxpdDJbMF0sCiAgICAgICAgICBlID0gX3JhbmdlJHNwbGl0MlsxXSwKICAgICAgICAgIHAgPSBfcmFuZ2Ukc3BsaXQyWzJdOwoKICAgICAgcyA9IHMuc3Vic3RyaW5nKDEpOwogICAgICBwID0gcC5zbGljZSgwLCAtMSk7CiAgICAgIHRoaXMuc3RhcnQgPSBzOwogICAgICB0aGlzLmVuZCA9IGU7CiAgICAgIHRoaXMuc3RlcCA9IHA7CiAgICB9CiAgfSwgewogICAga2V5OiAidXBkYXRlUmFuZ2UiLAogICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZVJhbmdlKCkgewogICAgICB0aGlzLmZ1bGxSYW5nZSA9ICIoIiArIHRoaXMuc3RhcnQgKyAiLCIgKyB0aGlzLmVuZCArICIsIiArIHRoaXMuc3RlcCArICIpIjsKICAgIH0KICB9XSk7CgogIHJldHVybiBSYW5nZTsKfSgpOyAvLyBDbGFzcyB0aGF0IHJlcHJlc2VudHMgdGhlCi8vIHZhcmlhYmxlIHR5cGUgdmFyaWFibGUgZm9yIHRhc2tzCgpleHBvcnQgdmFyIHZhcmlhYmxlSW5mbyA9IC8qI19fUFVSRV9fKi9fY3JlYXRlQ2xhc3MoZnVuY3Rpb24gdmFyaWFibGVJbmZvKG5hbWUpIHsKICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgdmFyaWFibGVJbmZvKTsKCiAgdGhpcy5uYW1lID0gbmFtZTsKICB0aGlzLmRlZmluaXRpb24gPSAiIjsKICB0aGlzLnJhbmdlID0gIiI7CiAgdGhpcy52YWx1ZSA9IDA7IC8vIHZhbHVlCgogIHRoaXMudGVzdFJhbmdlID0gbmV3IFJhbmdlKCk7CiAgdGhpcy52aXNpYmxlID0gdHJ1ZTsKfSk7IC8vIENsYXNzIHRoYXQgcmVwcmVzZW50cyB0aGUKLy8gYW5zd2VyIHR5cGUgdmFyaWFibGUgZm9yIHRhc2tzCgpleHBvcnQgdmFyIGFuc3dlckluZm8gPSAvKiNfX1BVUkVfXyovX2NyZWF0ZUNsYXNzKGZ1bmN0aW9uIGFuc3dlckluZm8obmFtZSkgewogIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBhbnN3ZXJJbmZvKTsKCiAgdGhpcy5uYW1lID0gbmFtZTsKICB0aGlzLmNvcnJlY3QgPSBbXTsKICB0aGlzLmluY29ycmVjdCA9IFtdOyAvLyB2YWx1ZXMKCiAgdGhpcy5jb3JyZWN0X3ZhbHVlcyA9IFtdOwogIHRoaXMuaW5jb3JyZWN0X3ZhbHVlcyA9IFtdOwp9KTsgLy8gQ2xhc3MgdGhhdCByZXByZXNlbnRzIHRoZQovLyBxdWVzdGlvbnMgZm9yIGEgdGFzawoKZXhwb3J0IHZhciB0YXNrUXVlc3Rpb24gPSAvKiNfX1BVUkVfXyovX2NyZWF0ZUNsYXNzKGZ1bmN0aW9uIHRhc2tRdWVzdGlvbigpIHsKICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgdGFza1F1ZXN0aW9uKTsKCiAgdGhpcy50ZXh0ID0gIiI7CiAgdGhpcy5hbnN3ZXJzID0gbmV3IE1hcCgpOwp9KTsgLy8gQ2xhc3MgdGhhdCByZXByZXNlbnRzIHRoZSB0YXNrCi8vIHRoaXMgd2lsbCBiZSBzYXZlZCBpbiB0aGUgZGF0YWJhc2UKCi8qIApjbGFzcyBUYXNrIAp7CiAgICBjb25zdHJ1Y3RvcigpIAogICAgewogICAgICAgIHRoaXMudGFza190ZXh0ID0gIiI7CiAgICAgICAgdGhpcy5xdWVzdGlvbnMgPSBbXQogICAgICAgIHRoaXMudmFyaWFibGVzID0gW10KICAgIH0KfSAKKi8KLy8gUGFyc2VzIHRoZSBtYXJrdXAgbGFuZ3VhZ2UKCmV4cG9ydCBmdW5jdGlvbiBwYXJzZU1hdGhNYXJrdXAoZmlsZV9uYW1lKSB7CiAgLy8gRmlyc3QsIHRva2VuaXplIHRoZSBpbnB1dCBmaWxlCiAgdmFyIHRva2VucyA9IHRva2VuaXplKGZpbGVfbmFtZSk7IC8vIENyZWF0ZSB2YXJpYWJsZSB3aGVyZSB0aGUgbmV3IHRhc2sKICAvLyB3aWxsIGJlIHNhdmVkCiAgLy9jdXJyZW50X3Rhc2sgPSBuZXcgVGFzaygpCgogIHZhciB2YXJpYWJsZXMgPSBuZXcgTWFwKCk7CiAgdmFyaWFibGVzLnNldCgidGFzay10ZXh0IiwgIiIpOwogIHZhciBjX25hbWUgPSAiIjsKICB2YXIgcV9udW0gPSAwOwogIHZhciBQQVJUID0gU1RBUlQ7CgogIGZvciAodmFyIGkgPSAwOyBpIDwgdG9rZW5zLmxlbmd0aDsgaSsrKSB7CiAgICB2YXIgdG9rZW4gPSB0b2tlbnNbaV07CiAgICB2YXIgdG9rZW4yID0gaSArIDEgPT0gdG9rZW5zLmxlbmd0aCA/IHRva2Vuc1tpXSA6IHRva2Vuc1tpICsgMV07CgogICAgc3dpdGNoIChQQVJUKSB7CiAgICAgIGNhc2UgU1RBUlQ6CiAgICAgICAgewogICAgICAgICAgaWYgKHRva2VuLnR5cGUgPT0gImtleXdvcmQiICYmIHRva2VuLnZhbHVlID09ICIjdGV4dCIpIHsKICAgICAgICAgICAgUEFSVCA9IFRFWFQ7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQoKICAgICAgICAgIGlmICh0b2tlbi50eXBlID09ICJrZXl3b3JkIiAmJiB0b2tlbi52YWx1ZSA9PSAiI3F1ZXN0aW9uIikgewogICAgICAgICAgICBQQVJUID0gUVVFU1RJT047CiAgICAgICAgICAgIHFfbnVtKys7CiAgICAgICAgICAgIHZhcmlhYmxlcy5zZXQoInEiICsgcV9udW0udG9TdHJpbmcoKSwgbmV3IHRhc2tRdWVzdGlvbigpKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHRva2VuLnR5cGUgPT0gImtleXdvcmQiICYmIHRva2VuLnZhbHVlID09ICIjZGVmaW5pdGlvbnMiKSB7CiAgICAgICAgICAgIFBBUlQgPSBERUZJTklUSU9OUzsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHRva2VuLnR5cGUgPT0gImtleXdvcmQiICYmIHRva2VuLnZhbHVlID09ICIjcmFuZ2VzIikgewogICAgICAgICAgICBQQVJUID0gUkFOR0VTOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAodG9rZW4udHlwZSA9PSAibmV3bGluZSIpIGJyZWFrOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQoKICAgICAgY2FzZSBURVhUOgogICAgICAgIHsKICAgICAgICAgIGlmICh0b2tlbi50eXBlICE9ICJuZXdsaW5lIikgewogICAgICAgICAgICB2YXIgdHh0ID0gdmFyaWFibGVzLmdldCgidGFzay10ZXh0Iik7CiAgICAgICAgICAgIHR4dCArPSB0b2tlbi52YWx1ZSArICIgIjsKICAgICAgICAgICAgdmFyaWFibGVzLnNldCgidGFzay10ZXh0IiwgdHh0KTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAodG9rZW4yLnR5cGUgPT0gImtleXdvcmQiKSB7CiAgICAgICAgICAgIFBBUlQgPSBTVEFSVDsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CgogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQoKICAgICAgY2FzZSBRVUVTVElPTjoKICAgICAgICB7CiAgICAgICAgICAvLyBhZGQgdG9rZW4gdG8gcXVlc3Rpb24gdGV4dAogICAgICAgICAgdmFyIHEgPSB2YXJpYWJsZXMuZ2V0KCJxIiArIHFfbnVtLnRvU3RyaW5nKCkpOwoKICAgICAgICAgIGlmICh0b2tlbi50eXBlICE9ICJuZXdsaW5lIikgewogICAgICAgICAgICBxLnRleHQgKz0gdG9rZW4udmFsdWUgKyAiICI7CiAgICAgICAgICB9CgogICAgICAgICAgdmFyaWFibGVzLnNldCgicSIgKyBxX251bS50b1N0cmluZygpLCBxKTsKCiAgICAgICAgICBpZiAodG9rZW4yLnR5cGUgPT0gImtleXdvcmQiKSB7CiAgICAgICAgICAgIFBBUlQgPSBTVEFSVDsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CgogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQoKICAgICAgY2FzZSBERUZJTklUSU9OUzoKICAgICAgICB7CiAgICAgICAgICBpZiAodG9rZW4udHlwZSA9PSAidmFyIiAmJiB0b2tlbjIudHlwZSA9PSAiZXEiKSB7CiAgICAgICAgICAgIHZhcmlhYmxlcy5zZXQodG9rZW4udmFsdWUsIG5ldyB2YXJpYWJsZUluZm8odG9rZW4udmFsdWUpKTsKICAgICAgICAgICAgY19uYW1lID0gdG9rZW4udmFsdWU7CiAgICAgICAgICAgIFBBUlQgPSBWQVJJQUJMRTsKICAgICAgICAgICAgaSA9IGkgKyAxOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAodG9rZW4udHlwZSA9PSAidmFyIiAmJiB0b2tlbjIudHlwZSA9PSAibmV3bGluZSIpIHsKICAgICAgICAgICAgdmFyaWFibGVzLnNldCh0b2tlbi52YWx1ZSwgbmV3IHZhcmlhYmxlSW5mbyh0b2tlbi52YWx1ZSkpOwogICAgICAgICAgICBpID0gaSArIDE7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQoKICAgICAgICAgIGlmICh0b2tlbi50eXBlID09ICJhbnN3ZXIiKSB7CiAgICAgICAgICAgIHZhciBfcSA9IHZhcmlhYmxlcy5nZXQoInEiICsgcV9udW0udG9TdHJpbmcoKSk7CgogICAgICAgICAgICBjX25hbWUgPSB0b2tlbi52YWx1ZTsKCiAgICAgICAgICAgIGlmIChfcS5hbnN3ZXJzLmdldCh0b2tlbi52YWx1ZSkgPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgICAgX3EuYW5zd2Vycy5zZXQodG9rZW4udmFsdWUsIG5ldyBhbnN3ZXJJbmZvKHRva2VuLnZhbHVlKSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHZhcmlhYmxlcy5zZXQoInEiICsgcV9udW0udG9TdHJpbmcoKSwgX3EpOwogICAgICAgICAgICBjX25hbWUgPSB0b2tlbi52YWx1ZTsKICAgICAgICAgICAgUEFSVCA9IEFOU1dFUjsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHRva2VuMi50eXBlID09ICJrZXl3b3JkIikgewogICAgICAgICAgICBQQVJUID0gU1RBUlQ7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQoKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KCiAgICAgIGNhc2UgVkFSSUFCTEU6CiAgICAgICAgewogICAgICAgICAgdmFyIGluZm8gPSB2YXJpYWJsZXMuZ2V0KGNfbmFtZSk7CiAgICAgICAgICBpbmZvLmRlZmluaXRpb24gKz0gdG9rZW4udmFsdWU7CiAgICAgICAgICB2YXJpYWJsZXMuc2V0KGNfbmFtZSwgaW5mbyk7CgogICAgICAgICAgaWYgKHRva2VuMi50eXBlID09ICJuZXdsaW5lIikgewogICAgICAgICAgICBQQVJUID0gREVGSU5JVElPTlM7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQoKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KCiAgICAgIGNhc2UgQU5TV0VSOgogICAgICAgIHsKICAgICAgICAgIGlmICh0b2tlbjIudHlwZSA9PSAibmV3bGluZSIpIHsKICAgICAgICAgICAgUEFSVCA9IERFRklOSVRJT05TOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAodG9rZW4udHlwZSA9PSAiYWNjZXNzb3IiICYmIHRva2VuLnZhbHVlID09ICIuY29ycmVjdCIpIHsKICAgICAgICAgICAgUEFSVCA9IENPUlJFQ1Q7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfSBlbHNlIGlmICh0b2tlbi50eXBlID09ICJhY2Nlc3NvciIgJiYgdG9rZW4udmFsdWUgPT0gIi5pbmNvcnJlY3QiKSB7CiAgICAgICAgICAgIFBBUlQgPSBJTkNPUlJFQ1Q7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQoKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KCiAgICAgIGNhc2UgQ09SUkVDVDoKICAgICAgICB7CiAgICAgICAgICBpZiAodG9rZW4yLnR5cGUgPT0gInItYnJhY2tldCIpIHsKICAgICAgICAgICAgUEFSVCA9IERFRklOSVRJT05TOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAodG9rZW4udHlwZSA9PSAiZXEiIHx8IHRva2VuLnR5cGUgPT0gIm5ld2xpbmUiKSBicmVhazsKCiAgICAgICAgICB2YXIgX3EyID0gdmFyaWFibGVzLmdldCgicSIgKyBxX251bS50b1N0cmluZygpKTsKCiAgICAgICAgICB2YXIgYW5zID0gX3EyLmFuc3dlcnMuZ2V0KGNfbmFtZSk7CgogICAgICAgICAgaWYgKHRva2VuLnR5cGUgPT0gImwtYnJhY2tldCIgfHwgdG9rZW4udHlwZSA9PSAiY29tbWEiKSB7CiAgICAgICAgICAgIGFucy5jb3JyZWN0LnB1c2goIiIpOwoKICAgICAgICAgICAgX3EyLmFuc3dlcnMuc2V0KGNfbmFtZSwgYW5zKTsKCiAgICAgICAgICAgIHZhcmlhYmxlcy5zZXQoInEiICsgcV9udW0udG9TdHJpbmcoKSwgX3EyKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CgogICAgICAgICAgdmFyIHZhbCA9IGFucy5jb3JyZWN0LmF0KC0xKTsKICAgICAgICAgIHZhbCArPSB0b2tlbi52YWx1ZTsKICAgICAgICAgIGFucy5jb3JyZWN0W2Fucy5jb3JyZWN0Lmxlbmd0aCAtIDFdID0gdmFsOwoKICAgICAgICAgIF9xMi5hbnN3ZXJzLnNldChjX25hbWUsIGFucyk7CgogICAgICAgICAgdmFyaWFibGVzLnNldCgicSIgKyBxX251bS50b1N0cmluZygpLCBfcTIpOwoKICAgICAgICAgIGlmICh0b2tlbjIudHlwZSA9PSAici1icmFja2V0IikgewogICAgICAgICAgICBQQVJUID0gREVGSU5JVElPTlM7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQoKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KCiAgICAgIGNhc2UgSU5DT1JSRUNUOgogICAgICAgIHsKICAgICAgICAgIGlmICh0b2tlbjIudmFsdWUgPT0gIl0iKSB7CiAgICAgICAgICAgIFBBUlQgPSBERUZJTklUSU9OUzsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHRva2VuLnR5cGUgPT0gImVxIiB8fCB0b2tlbi50eXBlID09ICJuZXdsaW5lIikgewogICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KCiAgICAgICAgICB2YXIgX3EzID0gdmFyaWFibGVzLmdldCgicSIgKyBxX251bS50b1N0cmluZygpKTsKCiAgICAgICAgICB2YXIgX2FucyA9IF9xMy5hbnN3ZXJzLmdldChjX25hbWUpOwoKICAgICAgICAgIGlmICh0b2tlbi50eXBlID09ICJsLWJyYWNrZXQiIHx8IHRva2VuLnR5cGUgPT0gImNvbW1hIikgewogICAgICAgICAgICBfYW5zLmluY29ycmVjdC5wdXNoKCIiKTsKCiAgICAgICAgICAgIF9xMy5hbnN3ZXJzLnNldChjX25hbWUsIF9hbnMpOwoKICAgICAgICAgICAgdmFyaWFibGVzLnNldCgicSIgKyBxX251bS50b1N0cmluZygpLCBfcTMpOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KCiAgICAgICAgICB2YXIgX3ZhbCA9IF9hbnMuaW5jb3JyZWN0LmF0KC0xKTsKCiAgICAgICAgICBfdmFsICs9IHRva2VuLnZhbHVlOwogICAgICAgICAgX2Fucy5pbmNvcnJlY3RbX2Fucy5pbmNvcnJlY3QubGVuZ3RoIC0gMV0gPSBfdmFsOwoKICAgICAgICAgIF9xMy5hbnN3ZXJzLnNldChjX25hbWUsIF9hbnMpOwoKICAgICAgICAgIHZhcmlhYmxlcy5zZXQoInEiICsgcV9udW0udG9TdHJpbmcoKSwgX3EzKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KCiAgICAgIGNhc2UgUkFOR0VTOgogICAgICAgIHsKICAgICAgICAgIGlmICh0b2tlbi50eXBlID09ICJ2YXIiKSB7CiAgICAgICAgICAgIGNfbmFtZSA9IHRva2VuLnZhbHVlOwogICAgICAgICAgICBQQVJUID0gU0VUX1JBTkdFOwogICAgICAgICAgICBpID0gaSArIDI7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQoKICAgICAgICAgIGlmICh0b2tlbjIudHlwZSA9PSAibmV3bGluZSIpIHsKICAgICAgICAgICAgUEFSVCA9IFNUQVJUOwogICAgICAgICAgfQoKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KCiAgICAgIGNhc2UgU0VUX1JBTkdFOgogICAgICAgIHsKICAgICAgICAgIHZhciBfaW5mbyA9IHZhcmlhYmxlcy5nZXQoY19uYW1lKTsKCiAgICAgICAgICBfaW5mby5yYW5nZSArPSB0b2tlbi52YWx1ZTsKICAgICAgICAgIHZhcmlhYmxlcy5zZXQoY19uYW1lLCBfaW5mbyk7CgogICAgICAgICAgaWYgKHRva2VuMi50eXBlID09ICJuZXdsaW5lIikgewogICAgICAgICAgICBQQVJUID0gUkFOR0VTOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KCiAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICB9CiAgfQoKICByZXR1cm4gdmFyaWFibGVzOwp9Ci8qdGFzazEgPSBwYXJzZShGSUxFTkFNRTEpOwp0YXNrMiA9IHBhcnNlKEZJTEVOQU1FMik7Cgpjb25zb2xlLmRpcih0b2tlbml6ZShGSUxFTkFNRTEpLCB7J21heEFycmF5TGVuZ3RoJzogbnVsbH0pOwovL2NvbnNvbGUuZGlyKHRhc2sxLCB7J21heEFycmF5TGVuZ3RoJzogbnVsbH0pOwovL2NvbnNvbGUuZGlyKHRhc2sxLmdldCgncTEnKS5hbnN3ZXJzKQovL2NvbnNvbGUuZGlyKHRva2VuaXplKEZJTEVOQU1FMiksIHsnbWF4QXJyYXlMZW5ndGgnOiBudWxsfSk7CmNvbnNvbGUubG9nKCI9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Iik7CmNvbnNvbGUuZGlyKHRhc2syLCB7J21heEFycmF5TGVuZ3RoJzogbnVsbH0pOwoKLy8gSXRlcmF0ZSBvdmVyIGFsbCB2YWx1ZXMgaW4gdGhlIG1hcApmb3IgKGxldCBbXywgdmFsdWVdIG9mIHRhc2syLmVudHJpZXMoKSApIAp7CiAgICAvLyBGb3IgYWxsIHZhcmlhYmxlcwogICAgaWYgKCB2YWx1ZSBpbnN0YW5jZW9mIHZhcmlhYmxlSW5mbyApCiAgICB7CiAgICAgICAgLy8gR2V0IHJhbmdlIGFuZCBzdGVwCiAgICAgICAgbGV0IFtzdGFydCwgZW5kLCBzdGVwXSA9IHZhbHVlLnJhbmdlLnN1YnN0cigxLCB2YWx1ZS5yYW5nZS5sZW5ndGgtMikuc3BsaXQoJywnKTsKCiAgICAgICAgLy8gR2V0IGFjdHVhbCB2YWx1ZQogICAgICAgIGlmKHN0ZXAgPT0gMSkgCiAgICAgICAgICAgIHZhbHVlLnZhbHVlID0gbWF0aC5yYW5kb21JbnQocGFyc2VJbnQoc3RhcnQpLCBwYXJzZUludChlbmQpKS50b1N0cmluZygpOwogICAgICAgIGVsc2UgCiAgICAgICAgICAgIHZhbHVlLnZhbHVlID0gbWF0aC5yYW5kb20ocGFyc2VJbnQoc3RhcnQpLCBwYXJzZUludChlbmQpKS50b1N0cmluZygpOwoKICAgICAgICAvLyBSZXBsYWNlIHZhcmlhYmxlIG5hbWUgd2l0aCB2YWx1ZSBpbiB0YXNrIHRleHQKICAgICAgICBsZXQgcSA9IHRhc2syLmdldCgncTEnKTsKCiAgICAgICAgY29uc29sZS5sb2cocS50ZXh0KTsKCiAgICAgICAgcS50ZXh0ID0gcS50ZXh0LnJlcGxhY2UodmFsdWUubmFtZSwgdmFsdWUudmFsdWUpOwoKICAgICAgICAvLyBSZXBsYWNlIHZhcmlhYmxlIG5hbWUgd2l0aCB2YWx1ZSBpbiBhbnN3ZXIgdGV4dCBhbmQgCiAgICAgICAgLy8gY29ycmVjdCBhbmQgaW5jb3JyZWN0IGFuc3dlcnMKICAgICAgICBmb3IgKGxldCBbaywgYV0gb2YgcS5hbnN3ZXJzLmVudHJpZXMoKSApCiAgICAgICAgewogICAgICAgICAgICBjb25zb2xlLmxvZyhrLCBhKTsKCiAgICAgICAgICAgIC8vIFJlcGxhY2UgaW4gY29ycmVjdAogICAgICAgICAgICBhLmNvcnJlY3QuZm9yRWFjaCgoYW5zLCBpbmQpID0+IHsKICAgICAgICAgICAgICAgIGEuY29ycmVjdFtpbmRdID0gYW5zLnJlcGxhY2UodmFsdWUubmFtZSwgdmFsdWUudmFsdWUpOwogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIC8vIFJlcGxhY2UgaW4gaW5jb3JyZWN0CiAgICAgICAgICAgIGEuaW5jb3JyZWN0LmZvckVhY2goKGFucywgaW5kKSA9PiB7CiAgICAgICAgICAgICAgICBhLmluY29ycmVjdFtpbmRdID0gYW5zLnJlcGxhY2UodmFsdWUubmFtZSwgdmFsdWUudmFsdWUpOwogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNvbnNvbGUubG9nKGEuY29ycmVjdCwgYS5pbmNvcnJlY3QpOwoKICAgICAgICAgICAgLy8gVXBkYXRlIHZhbHVlcwogICAgICAgICAgICBxLmFuc3dlcnMuc2V0KGssIGEpOwogICAgICAgIH0gICAgICAgCiAgICAgICAgCiAgICAgICAgLy8gVXBkYXRlIHZhbHVlcwogICAgICAgIHRhc2syLnNldCgncTEnLCBxKTsKICAgIH0KfQoKLy8gRm9yIGVhY2ggYW5zd2VyCi8vIGV2YWx1YXRlIGNvcnJlY3QgYW5kIGluY29ycmVjdCB2YWx1ZXMKLy8gZnJvbSB0aGUgc3RyaW5nIGV4cHJlc3Npb25zCmZvciAobGV0IFtrZXksIHZhbHVlXSBvZiB0YXNrMi5lbnRyaWVzKCkgKQp7CiAgICBpZiAoIHZhbHVlIGluc3RhbmNlb2YgdGFza1F1ZXN0aW9uICkKICAgIHsKICAgICAgICAvLyBGb3IgZWFjaCBxdWVzdGlvbgogICAgICAgIGZvciAobGV0IFtrLCBhXSBvZiB2YWx1ZS5hbnN3ZXJzLmVudHJpZXMoKSApCiAgICAgICAgewogICAgICAgICAgICAvL2EudGV4dCA9IGEudGV4dC5yZXBsYWNlKGEubmFtZSwgIl9fIik7CgogICAgICAgICAgICAvLyBFdmFsIGNvcnJlY3QgYW5zd2VycwogICAgICAgICAgICBhLmNvcnJlY3QuZm9yRWFjaCgodmFsdWUpID0+IHsKICAgICAgICAgICAgICAgIGEuY29ycmVjdF92YWx1ZXMucHVzaChtYXRoLmV2YWx1YXRlKHZhbHVlKSk7CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgLy8gRXZhbCBpbmNvcnJlY3QgYW5zd2VycwogICAgICAgICAgICBhLmluY29ycmVjdC5mb3JFYWNoKCh2YWx1ZSkgPT4gewogICAgICAgICAgICAgICAgYS5pbmNvcnJlY3RfdmFsdWVzLnB1c2gobWF0aC5ldmFsdWF0ZSh2YWx1ZSkpOwogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIC8vIFVwZGF0ZQogICAgICAgICAgICB0YXNrMi5zZXQoa2V5LCB2YWx1ZSk7CiAgICAgICAgfQogICAgfQp9Cgpjb25zb2xlLmxvZyh0YXNrMi5nZXQoJ3Rhc2stdGV4dCcpKTsKY29uc29sZS5sb2codGFzazIuZ2V0KCdxMScpLnRleHQpOwp0YXNrMi5nZXQoJ3ExJykuYW5zd2Vycy5nZXQoJ0ByJykuY29ycmVjdF92YWx1ZXMuZm9yRWFjaCh2ID0+IGNvbnNvbGUubG9nKHYpKTsKdGFzazIuZ2V0KCdxMScpLmFuc3dlcnMuZ2V0KCdAcicpLmluY29ycmVjdF92YWx1ZXMuZm9yRWFjaCh2ID0+IGNvbnNvbGUubG9nKHYpKTsKCgpjb25zb2xlLmRpcih0YXNrMSwgeydtYXhBcnJheUxlbmd0aCc6IG51bGx9KTsgKi8="},{"version":3,"sources":["/home/dc/Documents/BP/vue-bp-web/src/myfiles/taskHandler.js"],"names":["START","TEXT","VARIABLE","ANSWER","tokenize","FILENAME1","FILENAME2","QUESTION","DEFINITIONS","RANGES","SET_RANGE","CORRECT","INCORRECT","Range","start","end","step","fullRange","range","split","s","e","p","substring","slice","variableInfo","name","definition","value","testRange","visible","answerInfo","correct","incorrect","correct_values","incorrect_values","taskQuestion","text","answers","Map","parseMathMarkup","file_name","tokens","variables","set","c_name","q_num","PART","i","length","token","token2","type","toString","txt","get","q","undefined","info","ans","push","val","at"],"mappings":"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","sourcesContent":["// const tex = require('tex-math-parser');\n// import { parseTex, evaluateTex } from  // ES6 module\n\nimport { START, TEXT, VARIABLE, ANSWER, tokenize } from \"./tokenizer\";\n\nexport const FILENAME1 = \"test.txt\";\nexport const FILENAME2 = \"test4.txt\";\n\n//console.dir(tokenize(FILENAME1), {'maxArrayLength': null});\n\nexport const QUESTION = 2,\n  DEFINITIONS = 3,\n  RANGES = 4,\n  SET_RANGE = 6,\n  CORRECT = 7,\n  INCORRECT = 8;\n\nexport class Range {\n  constructor() {\n    this.start = \"\";\n    this.end = \"\";\n    this.step = \"\";\n    this.fullRange = function () {\n      return \"(\" + this.start + \",\" + this.end + \",\" + this.step + \")\";\n    };\n  }\n\n  getFullRange() {\n    return \"(\" + this.start + \",\" + this.end + \",\" + this.step + \")\";\n  }\n\n  setFullRange(range) {\n    let [s, e, p] = range.split(\",\", 3);\n    s = s.substring(1);\n    p = p.slice(0, -1);\n\n    this.start = s;\n    this.end = e;\n    this.step = p;\n  }\n\n  updateRange() {\n    this.fullRange = \"(\" + this.start + \",\" + this.end + \",\" + this.step + \")\";\n  }\n}\n\n// Class that represents the\n// variable type variable for tasks\nexport class variableInfo {\n  constructor(name) {\n    this.name = name;\n    this.definition = \"\";\n    this.range = \"\";\n\n    this.value = 0; // value\n\n    this.testRange = new Range();\n    this.visible = true;\n  }\n}\n\n// Class that represents the\n// answer type variable for tasks\nexport class answerInfo {\n  constructor(name) {\n    this.name = name;\n    this.correct = [];\n    this.incorrect = [];\n\n    // values\n    this.correct_values = [];\n    this.incorrect_values = [];\n  }\n}\n\n// Class that represents the\n// questions for a task\nexport class taskQuestion {\n  constructor() {\n    this.text = \"\";\n    this.answers = new Map();\n  }\n}\n\n// Class that represents the task\n// this will be saved in the database\n/* \nclass Task \n{\n    constructor() \n    {\n        this.task_text = \"\";\n        this.questions = []\n        this.variables = []\n    }\n} \n*/\n\n// Parses the markup language\nexport function parseMathMarkup(file_name) {\n  // First, tokenize the input file\n  let tokens = tokenize(file_name);\n\n  // Create variable where the new task\n  // will be saved\n  //current_task = new Task()\n\n  let variables = new Map();\n  variables.set(\"task-text\", \"\");\n  let c_name = \"\";\n  let q_num = 0;\n\n  var PART = START;\n\n  for (let i = 0; i < tokens.length; i++) {\n    let token = tokens[i];\n    let token2 = i + 1 == tokens.length ? tokens[i] : tokens[i + 1];\n\n    switch (PART) {\n      case START: {\n        if (token.type == \"keyword\" && token.value == \"#text\") {\n          PART = TEXT;\n          break;\n        }\n\n        if (token.type == \"keyword\" && token.value == \"#question\") {\n          PART = QUESTION;\n          q_num++;\n          variables.set(\"q\" + q_num.toString(), new taskQuestion());\n          break;\n        }\n\n        if (token.type == \"keyword\" && token.value == \"#definitions\") {\n          PART = DEFINITIONS;\n          break;\n        }\n\n        if (token.type == \"keyword\" && token.value == \"#ranges\") {\n          PART = RANGES;\n          break;\n        }\n\n        if (token.type == \"newline\") break;\n\n        break;\n      }\n\n      case TEXT: {\n        if (token.type != \"newline\") {\n          let txt = variables.get(\"task-text\");\n          txt += token.value + \" \";\n          variables.set(\"task-text\", txt);\n        }\n\n        if (token2.type == \"keyword\") {\n          PART = START;\n          break;\n        }\n        break;\n      }\n\n      case QUESTION: {\n        // add token to question text\n        let q = variables.get(\"q\" + q_num.toString());\n        if (token.type != \"newline\") {\n          q.text += token.value + \" \";\n        }\n        variables.set(\"q\" + q_num.toString(), q);\n\n        if (token2.type == \"keyword\") {\n          PART = START;\n          break;\n        }\n\n        break;\n      }\n\n      case DEFINITIONS: {\n        if (token.type == \"var\" && token2.type == \"eq\") {\n          variables.set(token.value, new variableInfo(token.value));\n          c_name = token.value;\n          PART = VARIABLE;\n          i = i + 1;\n          break;\n        }\n\n        if (token.type == \"var\" && token2.type == \"newline\") {\n          variables.set(token.value, new variableInfo(token.value));\n          i = i + 1;\n          break;\n        }\n\n        if (token.type == \"answer\") {\n          let q = variables.get(\"q\" + q_num.toString());\n          c_name = token.value;\n\n          if (q.answers.get(token.value) == undefined) {\n            q.answers.set(token.value, new answerInfo(token.value));\n          }\n\n          variables.set(\"q\" + q_num.toString(), q);\n          c_name = token.value;\n          PART = ANSWER;\n          break;\n        }\n\n        if (token2.type == \"keyword\") {\n          PART = START;\n          break;\n        }\n\n        break;\n      }\n\n      case VARIABLE: {\n        let info = variables.get(c_name);\n        info.definition += token.value;\n        variables.set(c_name, info);\n\n        if (token2.type == \"newline\") {\n          PART = DEFINITIONS;\n          break;\n        }\n\n        break;\n      }\n\n      case ANSWER: {\n        if (token2.type == \"newline\") {\n          PART = DEFINITIONS;\n          break;\n        }\n\n        if (token.type == \"accessor\" && token.value == \".correct\") {\n          PART = CORRECT;\n          break;\n        } else if (token.type == \"accessor\" && token.value == \".incorrect\") {\n          PART = INCORRECT;\n          break;\n        }\n\n        break;\n      }\n\n      case CORRECT: {\n        if (token2.type == \"r-bracket\") {\n          PART = DEFINITIONS;\n          break;\n        }\n\n        if (token.type == \"eq\" || token.type == \"newline\") break;\n\n        let q = variables.get(\"q\" + q_num.toString());\n        let ans = q.answers.get(c_name);\n\n        if (token.type == \"l-bracket\" || token.type == \"comma\") {\n          ans.correct.push(\"\");\n          q.answers.set(c_name, ans);\n          variables.set(\"q\" + q_num.toString(), q);\n          break;\n        }\n\n        let val = ans.correct.at(-1);\n        val += token.value;\n        ans.correct[ans.correct.length - 1] = val;\n\n        q.answers.set(c_name, ans);\n        variables.set(\"q\" + q_num.toString(), q);\n\n        if (token2.type == \"r-bracket\") {\n          PART = DEFINITIONS;\n          break;\n        }\n\n        break;\n      }\n\n      case INCORRECT: {\n        if (token2.value == \"]\") {\n          PART = DEFINITIONS;\n          break;\n        }\n\n        if (token.type == \"eq\" || token.type == \"newline\") {\n          break;\n        }\n\n        let q = variables.get(\"q\" + q_num.toString());\n        let ans = q.answers.get(c_name);\n\n        if (token.type == \"l-bracket\" || token.type == \"comma\") {\n          ans.incorrect.push(\"\");\n          q.answers.set(c_name, ans);\n          variables.set(\"q\" + q_num.toString(), q);\n          break;\n        }\n\n        let val = ans.incorrect.at(-1);\n        val += token.value;\n\n        ans.incorrect[ans.incorrect.length - 1] = val;\n\n        q.answers.set(c_name, ans);\n        variables.set(\"q\" + q_num.toString(), q);\n\n        break;\n      }\n\n      case RANGES: {\n        if (token.type == \"var\") {\n          c_name = token.value;\n          PART = SET_RANGE;\n          i = i + 2;\n          break;\n        }\n\n        if (token2.type == \"newline\") {\n          PART = START;\n        }\n        break;\n      }\n\n      case SET_RANGE: {\n        let info = variables.get(c_name);\n        info.range += token.value;\n        variables.set(c_name, info);\n\n        if (token2.type == \"newline\") {\n          PART = RANGES;\n          break;\n        }\n\n        break;\n      }\n    }\n  }\n\n  return variables;\n}\n\n/*task1 = parse(FILENAME1);\ntask2 = parse(FILENAME2);\n\nconsole.dir(tokenize(FILENAME1), {'maxArrayLength': null});\n//console.dir(task1, {'maxArrayLength': null});\n//console.dir(task1.get('q1').answers)\n//console.dir(tokenize(FILENAME2), {'maxArrayLength': null});\nconsole.log(\"=================================================\");\nconsole.dir(task2, {'maxArrayLength': null});\n\n// Iterate over all values in the map\nfor (let [_, value] of task2.entries() ) \n{\n    // For all variables\n    if ( value instanceof variableInfo )\n    {\n        // Get range and step\n        let [start, end, step] = value.range.substr(1, value.range.length-2).split(',');\n\n        // Get actual value\n        if(step == 1) \n            value.value = math.randomInt(parseInt(start), parseInt(end)).toString();\n        else \n            value.value = math.random(parseInt(start), parseInt(end)).toString();\n\n        // Replace variable name with value in task text\n        let q = task2.get('q1');\n\n        console.log(q.text);\n\n        q.text = q.text.replace(value.name, value.value);\n\n        // Replace variable name with value in answer text and \n        // correct and incorrect answers\n        for (let [k, a] of q.answers.entries() )\n        {\n            console.log(k, a);\n\n            // Replace in correct\n            a.correct.forEach((ans, ind) => {\n                a.correct[ind] = ans.replace(value.name, value.value);\n            });\n\n            // Replace in incorrect\n            a.incorrect.forEach((ans, ind) => {\n                a.incorrect[ind] = ans.replace(value.name, value.value);\n            });\n\n            console.log(a.correct, a.incorrect);\n\n            // Update values\n            q.answers.set(k, a);\n        }       \n        \n        // Update values\n        task2.set('q1', q);\n    }\n}\n\n// For each answer\n// evaluate correct and incorrect values\n// from the string expressions\nfor (let [key, value] of task2.entries() )\n{\n    if ( value instanceof taskQuestion )\n    {\n        // For each question\n        for (let [k, a] of value.answers.entries() )\n        {\n            //a.text = a.text.replace(a.name, \"__\");\n\n            // Eval correct answers\n            a.correct.forEach((value) => {\n                a.correct_values.push(math.evaluate(value));\n            });\n\n            // Eval incorrect answers\n            a.incorrect.forEach((value) => {\n                a.incorrect_values.push(math.evaluate(value));\n            });\n\n            // Update\n            task2.set(key, value);\n        }\n    }\n}\n\nconsole.log(task2.get('task-text'));\nconsole.log(task2.get('q1').text);\ntask2.get('q1').answers.get('@r').correct_values.forEach(v => console.log(v));\ntask2.get('q1').answers.get('@r').incorrect_values.forEach(v => console.log(v));\n\n\nconsole.dir(task1, {'maxArrayLength': null}); */\n"]}]}
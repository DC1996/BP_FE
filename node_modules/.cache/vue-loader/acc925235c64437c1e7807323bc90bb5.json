{"remainingRequest":"/home/dc/Documents/BP/vue-bp-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/dc/Documents/BP/vue-bp-web/src/components/modifyTestPage.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/dc/Documents/BP/vue-bp-web/src/components/modifyTestPage.vue","mtime":1649000749961},{"path":"/home/dc/Documents/BP/vue-bp-web/node_modules/cache-loader/dist/cjs.js","mtime":1642114936856},{"path":"/home/dc/Documents/BP/vue-bp-web/node_modules/babel-loader/lib/index.js","mtime":1642114938312},{"path":"/home/dc/Documents/BP/vue-bp-web/node_modules/cache-loader/dist/cjs.js","mtime":1642114936856},{"path":"/home/dc/Documents/BP/vue-bp-web/node_modules/vue-loader/lib/index.js","mtime":1642114938760}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBUYXNrRGF0YVNlcnZpY2UgZnJvbSAiLi4vc2VydmljZXMvdGFza0RhdGFTZXJ2aWNlIjsKaW1wb3J0IENhdGVnb3J5RGF0YVNlcnZpY2UgZnJvbSAiLi4vc2VydmljZXMvY2F0ZWdvcnlEYXRhU2VydmljZSI7CmltcG9ydCBHZW5lcmF0b3JTZXJ2aWNlIGZyb20gIi4uL3NlcnZpY2VzL2dlbmVyYXRvclNlcnZpY2UiOwppbXBvcnQgeyBwYXJzZU1hdGhMYW5nIH0gZnJvbSAiLi4vbXlmaWxlcy90YXNrSGFuZGxlciI7CgppbXBvcnQgeyBpbml0TWF0aEpheCwgcmVuZGVyQnlNYXRoamF4IH0gZnJvbSAnbWF0aGpheC12dWUnOwppbXBvcnQgVGVzdERhdGFTZXJ2aWNlIGZyb20gJy4uL3NlcnZpY2VzL3Rlc3REYXRhU2VydmljZSc7CgpleHBvcnQgZGVmYXVsdCB7CiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIC8vIHN0ZXBwZXIgY29tcGxldGlvbiBhbmQgbGlzdCBpdGVtcyBvbiBlYWNoIHBhZ2UKICAgICAgICAgICAgZTE6IDEsCiAgICAgICAgICAgIHNlbGVjdGVkR3JhZGU6IFtmYWxzZSxmYWxzZSxmYWxzZSxmYWxzZSxmYWxzZSxmYWxzZSxmYWxzZSxmYWxzZSxmYWxzZSxmYWxzZV0sCiAgICAgICAgICAgIHNlbGVjdGVkQ2F0ZWdvcnk6IFtmYWxzZSxmYWxzZSxmYWxzZSxmYWxzZSxmYWxzZSxmYWxzZSxmYWxzZSxmYWxzZSxmYWxzZSxmYWxzZV0sCiAgICAgICAgICAgIHNlbGVjdGVkVGFzazogW2ZhbHNlLGZhbHNlLGZhbHNlLGZhbHNlLGZhbHNlLGZhbHNlLGZhbHNlLGZhbHNlLGZhbHNlLGZhbHNlXSwKICAgICAgICAgICAgc2VsZWN0ZWRUYXNrTnVtYmVyOiAtMSwKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIHRhc2sgaGFuZGxpbmcKICAgICAgICAgICAgdGFza3M6IFtdLAogICAgICAgICAgICBjb25jcmV0ZVRhc2tzOiBbXSwKICAgICAgICAgICAgY2F0ZWdvcmllczogW10sCgogICAgICAgICAgICAvLyBhbnN3ZXIgdHlwZXMgYW5kIHJlbmRlcmluZwogICAgICAgICAgICBhbnN3ZXJUeXBlczogWyAndGV4dCcsICdyYWRpbycsICdzZWxlY3QnLCAnY2hlY2tib3gnIF0sCiAgICAgICAgICAgIGFuc3dlck9wdGlvbnM6IFtdLAogICAgICAgICAgICBzZWxlY3RlZEFuc3dlclR5cGU6ICd0ZXh0JywKICAgICAgICAgICAgc2V0QW5zd2VyT3B0aW9uRGlhbG9nOiBmYWxzZSwKCiAgICAgICAgICAgIC8vIHJlbW92ZSB0YXNrIGRpYWxvZwogICAgICAgICAgICByZW1vdmVEaWFsb2c6IGZhbHNlLAogICAgICAgICAgICAKICAgICAgICAgICAgCiAgICAgICAgICAgIHBsYWNlaG9sZGVyTW9kZWw6IFswLDAsMCwwLDAsMF0sCgogICAgICAgICAgICB0ZXN0TmFtZTogJ1Rlc3QgbmFtZScsCiAgICAgICAgfQogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgICBzZXRUZXN0TmFtZShldmVudCkgewogICAgICAgICAgICB0aGlzLnRlc3ROYW1lID0gZXZlbnQudGFyZ2V0LmlubmVySFRNTDsKICAgICAgICB9LAoKICAgICAgICAvLyBzZXQgQW5zd2VyIFR5cGUgb3B0aW9uCiAgICAgICAgc2V0QW5zd2VyT3B0aW9uKGksIG9wdGlvbikgewogICAgICAgICAgdGhpcy5hbnN3ZXJPcHRpb25zLnNwbGljZShpLCAxLCB0aGlzLmFuc3dlclR5cGVzW29wdGlvbl0pOwogICAgICAgICAgdGhpcy5zZXRBbnN3ZXJPcHRpb25EaWFsb2cgPSBmYWxzZTsKICAgICAgICAgIHRoaXMuc2VsZWN0ZWRBbnN3ZXJUeXBlID0gJ3RleHQnOwogICAgICAgICAgY29uc29sZS5sb2codGhpcy5hbnN3ZXJPcHRpb25zW2ldKQoKICAgICAgICAgIGluaXRNYXRoSmF4KHt9KQoKICAgICAgICAgIGZ1bmN0aW9uIG9uTWF0aEpheFJlYWR5KCkgewogICAgICAgICAgICBjb25zdCBlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhbnN3ZXJzIik7CiAgICAgICAgICAgIHJlbmRlckJ5TWF0aGpheChlbCk7CiAgICAgICAgICB9CgogICAgICAgICAgaW5pdE1hdGhKYXgoe30sIG9uTWF0aEpheFJlYWR5KTsKICAgICAgICB9LAoKICAgICAgICAvLyByZW1vdmUgc2VsZWN0ZWQgdGFzawogICAgICAgIHJlbW92ZVRhc2soaSkgewogICAgICAgICAgdGhpcy5yZW1vdmVEaWFsb2cgPSBmYWxzZTsKICAgICAgICAgIHRoaXMuY29uY3JldGVUYXNrcy5zcGxpY2UoaSwgMSk7CiAgICAgICAgfSwKCiAgICAgICAgLy8gY2hvb3NlIGZyb20gaXRlbXMgaW4gdGhlIGxpc3QKICAgICAgICBzZXRTZWxlY3RlZChzZWxlY3Rpb24sIGkpIHsKICAgICAgICAgICAgc2VsZWN0aW9uLnNwbGljZShpLCAxLCAhc2VsZWN0aW9uW2ldKTsKICAgICAgICB9LAoKICAgICAgICAvLyBzZXR1cCBtYXBwaW5nIG9mIHRhc2tzCiAgICAgICAgZ2V0RGlzcGxheVRhc2sodGFzaykgewogICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgaWQ6IHRhc2suaWQsCiAgICAgICAgICAgICAgICBuYW1lOiB0YXNrLm5hbWUsCiAgICAgICAgICAgICAgICBjb250ZW50OiB0YXNrLmNvbnRlbnQsCiAgICAgICAgICAgICAgICBsYXN0X21vZDogdGFzay51cGRhdGVkQXQsCiAgICAgICAgICAgICAgICByZW5kZXJPcHRpb246IHRhc2sudGVzdFRhc2tzLnJlbmRlck9wdGlvbiwKICAgICAgICAgICAgfTsKICAgICAgICB9LAoKICAgICAgICAvLyBzZXR1cCBtYXBwaW5nIG9mIGNhdGVnb3JpZXMKICAgICAgICBnZXREaXNwbGF5Q2F0ZWdvcnkoY2F0ZWdvcnkpIHsKICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgIGlkOiBjYXRlZ29yeS5pZCwKICAgICAgICAgICAgICAgIG5hbWU6IGNhdGVnb3J5Lm5hbWUKICAgICAgICAgICAgfTsKICAgICAgICB9LAoKICAgICAgICBhc3luYyByZXRyaWV2ZVRlc3RBbmRUYXNrcygpIHsKICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBUZXN0RGF0YVNlcnZpY2UuZ2V0KHRoaXMuJHJvdXRlLnBhcmFtcy5pZCk7CgogICAgICAgICAgICB0aGlzLnRhc2tzID0gcmVzcG9uc2UuZGF0YS50YXNrcy5tYXAodGhpcy5nZXREaXNwbGF5VGFzayk7CgogICAgICAgICAgICAvLyBHZW5lcmF0ZSBwcmV2aWV3IGZvciBlYWNoIHRhc2sgdGhhdCB3YXMgbG9hZGVkCiAgICAgICAgICAgICAgdGhpcy50YXNrcy5mb3JFYWNoKHRhc2sgPT4gewogICAgICAgICAgICAgICAgbGV0IGFic3RyYWN0VGFzayA9IHBhcnNlTWF0aExhbmcodGFzay5jb250ZW50KTsKCiAgICAgICAgICAgICAgICBHZW5lcmF0b3JTZXJ2aWNlLmdlbmVyYXRlKHtjb250ZW50OiBhYnN0cmFjdFRhc2t9KS50aGVuKChyZXMpID0+IHsKICAgICAgICAgICAgICAgICAgLy8gU2F2ZSBpZCBvZiB0YXNrIGFuZCBhZGQgdG8gY29uY3JldGVUYXNrcyBhcnJheQogICAgICAgICAgICAgICAgICB0aGlzLmNvbmNyZXRlVGFza3MucHVzaCh7aWQ6IHRhc2suaWQsIGNvbnRlbnQ6IHJlcy5kYXRhLmNvbnRlbnR9KTsKICAgICAgICAgICAgICAgICAgdGhpcy5hbnN3ZXJPcHRpb25zLnB1c2godGFzay5yZW5kZXJPcHRpb24pOwoKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2codGFzay5yZW5kZXJPcHRpb24pOwogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICB9KTsKICAgICAgICB9LAoKICAgICAgICAvLyBnZXQgQ2F0ZWdvcmllcyBmcm9tIGRhdGFiYXNlCiAgICAgICAgcmV0cmlldmVDYXRlZ29yaWVzKCkgewogICAgICAgICAgQ2F0ZWdvcnlEYXRhU2VydmljZS5nZXRBbGwoKQogICAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgICAgICB0aGlzLmNhdGVnb3JpZXMgPSByZXNwb25zZS5kYXRhLm1hcCh0aGlzLmdldERpc3BsYXlDYXRlZ29yeSk7CiAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIC5jYXRjaCgoZSkgPT4gewogICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgICB9KTsKICAgICAgICB9LAoKICAgICAgICAvLyBDcmVhdGUgbmV3IHRlc3QgYW5kIGFkZCB0YXNrcyB0aGF0IHRoZSB1c2VyIHNlbGVjdGVkCiAgICAgICAgY3JlYXRlQW5kU2F2ZVRlc3QoKSB7CiAgICAgICAgICBUZXN0RGF0YVNlcnZpY2UuY3JlYXRlKHtuYW1lOiAiVGVzdCBuYW1lIn0pLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICAgIGxldCB0ZXN0SWQgPSByZXNwb25zZS5kYXRhLmlkOwoKICAgICAgICAgICAgLy8gRGVsZXRlIHRhc2tzIGluIGRiCiAgICAgICAgICAgIFRlc3REYXRhU2VydmljZS5kZWxldGVUYXNrcygpLnRoZW4oKCkgPT4gewogICAgICAgICAgICAgICAgLy8gQWRkIG5ldyB0YXNrcwogICAgICAgICAgICAgICAgdGhpcy5jb25jcmV0ZVRhc2tzLmZvckVhY2goKHRhc2spID0+IHsKICAgICAgICAgICAgICAgICAgICBUZXN0RGF0YVNlcnZpY2UuYWRkVGFzayh7dGVzdElkOiB0ZXN0SWQsIHRhc2tJZDogdGFzay5pZH0pCiAgICAgICAgICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOyAKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBuYW1lOiAieW91clRlc3RzIiB9KTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICB9LAoKICAgIC8vIFRoaXMgZnVuY3Rpb24gcnVucyBiZWZvcmUgdGhlIFVJIGxvYWRzCiAgICBiZWZvcmVNb3VudCgpIHsKICAgICAgICAvLyBMb2FkIGNhdGVnb3JpZXMgYW5kIHRhc2tzIGZyb20gdGhlIGRhdGFiYXNlCiAgICAgICAgdGhpcy5yZXRyaWV2ZUNhdGVnb3JpZXMoKTsKICAgICAgICB0aGlzLnJldHJpZXZlVGVzdEFuZFRhc2tzKCk7CiAgICB9LAogICAgc2V0dXAoKSB7CiAgICAgICAgCiAgICB9LAp9Cg=="},{"version":3,"sources":["modifyTestPage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkKA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"modifyTestPage.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <!-- See preview of each task, modify render options -->\n    <v-container class=\"d-flex flex-column\">\n        <!-- Test name -->\n        <p class=\"text-h4 align-self-center mt-2\" @blur=\"setTestName($event)\" contenteditable=\"true\" > {{ testName }} </p>\n\n        <v-card hover outlined class=\"my-2 mx-6\" v-for=\"(task, t_index) in concreteTasks\" :key=\"t_index\">\n        \n        <v-card-title class=\"d-flex justify-space-between\"> \n            Task #{{ t_index + 1 }} \n        <!-- buttons in top right corner on card -->\n        <v-card-actions>\n            <!-- Edit answer rendering type button -->\n            <v-tooltip bottom>\n                <template v-slot:activator=\"{ on, attrs }\">\n                    <v-btn @click=\"selectedTaskNumber = t_index; setAnswerOptionDialog = true\" icon v-bind=\"attrs\" v-on=\"on\">\n                        <v-icon color=\"primary\"> mdi-tune </v-icon>\n                    </v-btn>\n                </template>\n                <span class=\"font-weight-light\">Edit answer type</span>\n            </v-tooltip>\n            <!-- Edit task button -->\n            <v-tooltip bottom>\n            <template v-slot:activator=\"{ on, attrs }\">\n                <v-btn @click=\"modifyTask(task)\" icon v-bind=\"attrs\" v-on=\"on\">\n                <v-icon color=\"var(--main-text-color)\">\n                    mdi-pencil-outline\n                </v-icon>\n                </v-btn>\n            </template>\n            <span class=\"font-weight-light\">Edit task</span>\n            </v-tooltip>\n            <!-- change task answer type -->\n            <v-tooltip bottom>\n            <template v-slot:activator=\"{ on, attrs }\">\n                <v-btn \n                @click.stop=\"selectedTaskNumber = t_index; removeDialog = true\" \n                icon v-bind=\"attrs\" v-on=\"on\">\n                <v-icon color=\"error\">\n                    mdi-close-circle-outline\n                </v-icon>\n                </v-btn>\n            </template>\n            <span class=\"font-weight-light\">Remove task</span>\n            </v-tooltip>\n        </v-card-actions>\n        </v-card-title>\n        \n        <v-card-subtitle class=\"mt-1 text-body-1\"> <p> {{ task.content.text }} </p> </v-card-subtitle>\n        \n        <v-card-text>\n            <div \n            class=\"d-flex flex-column justify-center align-start\"  \n            v-for=\"(q, q_i) in task.content.questions\" :key=\"q_i\">\n\n            <!-- Question -->\n            <div class=\"d-flex flex-row justify-flex-start align-center mb-2\">\n                <p class=\"font-weight-light align-self-center ma-0 pl-2 text-body-1\"> \n                    <span class=\"font-weight-medium\"> Question #{{ q_i+1 }} </span>\n                    : {{ q.text }}\n                </p>\n            </div>\n\n            <!-- Answers -->\n            <!-- type == 'select' -->\n            <div class=\"d-flex flex-row justify-space-between mb-1\" v-if=\"answerOptions[t_index] == 'select'\"> \n                <div class=\"d-flex flex-column py-1 px-2\" v-for=\"(answer, index) in q.answers\" :key=\"index\">\n                    <v-select :items=\"answer.correct.concat(answer.incorrect)\" :label=\"answer.name\" outlined dense></v-select>\n                </div>\n            </div>\n\n            <!-- type == 'radio' -->\n            <div class=\"d-flex flex-row justify-space-between mb-1\" v-if=\"answerOptions[t_index] == 'radio'\">  \n                <div class=\"d-flex flex-column py-1 px-2\" v-for=\"(answer, a_index) in q.answers\" :key=\"a_index\">\n                <p> {{ answer.name }} </p>\n                <v-radio-group>\n                    <v-radio class=\"py-1\"\n                    v-for=\"(value, i) in answer.correct.concat(answer.incorrect)\"\n                    :key=\"value\" :label=\"value.toString()\" :value=\"i\" dense>\n                    </v-radio>\n                </v-radio-group>\n                </div>\n            </div>\n\n            <!-- type == 'checkbox' -->\n            <div class=\"d-flex flex-row justify-space-between mb-1\" v-if=\"answerOptions[t_index] == 'checkbox'\"> \n                <div class=\"d-flex flex-column py-1 px-2\" v-for=\"(answer, index) in q.answers\" :key=\"index\">\n                <p> {{ answer.name }} </p>\n                    <v-checkbox class=\"pa-0 ma-0\" v-for=\"(value, i) in answer.correct.concat(answer.incorrect)\"\n                    :key=\"value\" :label=\"value.toString()\" :value=\"i\" dense>\n                    </v-checkbox>\n                </div>\n            </div>\n\n            <!-- type == 'text' -->\n            <div class=\"d-flex flex-row justify-space-between mb-1\" v-if=\"answerOptions[t_index] == 'text'\"> \n                <div class=\"dflex flex-column py-1 px-2\" v-for=\"(answer, index) in q.answers\" :key=\"index\">\n                    <v-text-field\n                    :label=\"answer.name\"\n                    outlined dense hide-details\n                    ></v-text-field>\n                </div>\n            </div>\n\n            </div>\n        </v-card-text>\n\n    </v-card>\n\n    <v-row class=\"d-flex justify-center align-center pa-2 px-6 mt-2\">\n        <v-btn outlined class=\"my-2 mb-4 mx-2 align-self-end\" text> Cancel </v-btn>\n        <v-btn class=\"my-2 mb-4 mx-2 align-self-end\" color=\"primary\" @click=\"createAndSaveTest()\"> Finish & Save</v-btn>\n    </v-row>\n\n    <v-dialog v-model=\"removeDialog\" width=\"350\" :retain-focus=\"false\">\n            <v-card>\n                <v-card-title class=\"text-h5 lighten-2\"> Remove Task #{{selectedTaskNumber+1}} from test </v-card-title>\n\n                <v-card-text> Are you sure you want to remove this task? </v-card-text>\n\n                <v-divider></v-divider>\n\n                <v-card-actions>\n                    <v-spacer></v-spacer>\n                    <v-btn color=\"black\" outlined text @click=\"removeDialog = false\"> Cancel </v-btn>\n                    <v-btn dark color=\"red\" @click=\"removeTask(selectedTaskNumber)\"> Delete </v-btn>\n                </v-card-actions>\n                \n            </v-card>\n        </v-dialog>\n\n\n        <!-- Answer type options dialog -->\n        <v-dialog v-model=\"setAnswerOptionDialog\" width=\"500\" :retain-focus=\"false\">\n            <v-card>\n                <v-card-title class=\"text-h5 lighten-2\"> Task #{{selectedTaskNumber+1}} answer options </v-card-title>\n\n                <v-card-text> \n                <p>Select answer type</p>\n                <v-slider \n                    v-model=\"selectedAnswerType\" \n                    :tick-labels=\"answerTypes\" :max=\"3\"\n                    step=\"1\" ticks=\"always\" tick-size=\"6\"\n                    >\n                </v-slider>\n                </v-card-text>\n\n                <v-divider></v-divider>\n\n                <v-card-actions>\n                    <v-spacer></v-spacer>\n                    <v-btn color=\"black\" outlined text @click=\"setAnswerOptionDialog = false\"> Cancel </v-btn>\n                    <v-btn dark color=\"primary\" @click=\"setAnswerOption(selectedTaskNumber, selectedAnswerType)\"> Save </v-btn>\n                </v-card-actions>\n                \n            </v-card>\n        </v-dialog>\n\n    </v-container>\n</template>\n\n<script>\nimport TaskDataService from \"../services/taskDataService\";\nimport CategoryDataService from \"../services/categoryDataService\";\nimport GeneratorService from \"../services/generatorService\";\nimport { parseMathLang } from \"../myfiles/taskHandler\";\n\nimport { initMathJax, renderByMathjax } from 'mathjax-vue';\nimport TestDataService from '../services/testDataService';\n\nexport default {\n    data() {\n        return {\n            // stepper completion and list items on each page\n            e1: 1,\n            selectedGrade: [false,false,false,false,false,false,false,false,false,false],\n            selectedCategory: [false,false,false,false,false,false,false,false,false,false],\n            selectedTask: [false,false,false,false,false,false,false,false,false,false],\n            selectedTaskNumber: -1,\n            \n            // task handling\n            tasks: [],\n            concreteTasks: [],\n            categories: [],\n\n            // answer types and rendering\n            answerTypes: [ 'text', 'radio', 'select', 'checkbox' ],\n            answerOptions: [],\n            selectedAnswerType: 'text',\n            setAnswerOptionDialog: false,\n\n            // remove task dialog\n            removeDialog: false,\n            \n            \n            placeholderModel: [0,0,0,0,0,0],\n\n            testName: 'Test name',\n        }\n    },\n    methods: {\n        setTestName(event) {\n            this.testName = event.target.innerHTML;\n        },\n\n        // set Answer Type option\n        setAnswerOption(i, option) {\n          this.answerOptions.splice(i, 1, this.answerTypes[option]);\n          this.setAnswerOptionDialog = false;\n          this.selectedAnswerType = 'text';\n          console.log(this.answerOptions[i])\n\n          initMathJax({})\n\n          function onMathJaxReady() {\n            const el = document.getElementById(\"answers\");\n            renderByMathjax(el);\n          }\n\n          initMathJax({}, onMathJaxReady);\n        },\n\n        // remove selected task\n        removeTask(i) {\n          this.removeDialog = false;\n          this.concreteTasks.splice(i, 1);\n        },\n\n        // choose from items in the list\n        setSelected(selection, i) {\n            selection.splice(i, 1, !selection[i]);\n        },\n\n        // setup mapping of tasks\n        getDisplayTask(task) {\n            return {\n                id: task.id,\n                name: task.name,\n                content: task.content,\n                last_mod: task.updatedAt,\n                renderOption: task.testTasks.renderOption,\n            };\n        },\n\n        // setup mapping of categories\n        getDisplayCategory(category) {\n            return {\n                id: category.id,\n                name: category.name\n            };\n        },\n\n        async retrieveTestAndTasks() {\n            const response = await TestDataService.get(this.$route.params.id);\n\n            this.tasks = response.data.tasks.map(this.getDisplayTask);\n\n            // Generate preview for each task that was loaded\n              this.tasks.forEach(task => {\n                let abstractTask = parseMathLang(task.content);\n\n                GeneratorService.generate({content: abstractTask}).then((res) => {\n                  // Save id of task and add to concreteTasks array\n                  this.concreteTasks.push({id: task.id, content: res.data.content});\n                  this.answerOptions.push(task.renderOption);\n\n                  console.log(task.renderOption);\n                })\n              });\n        },\n\n        // get Categories from database\n        retrieveCategories() {\n          CategoryDataService.getAll()\n            .then((response) => {\n              this.categories = response.data.map(this.getDisplayCategory);\n              console.log(response.data);\n            })\n            .catch((e) => {\n              console.log(e);\n            });\n        },\n\n        // Create new test and add tasks that the user selected\n        createAndSaveTest() {\n          TestDataService.create({name: \"Test name\"}).then((response) => {\n            let testId = response.data.id;\n\n            // Delete tasks in db\n            TestDataService.deleteTasks().then(() => {\n                // Add new tasks\n                this.concreteTasks.forEach((task) => {\n                    TestDataService.addTask({testId: testId, taskId: task.id})\n                    .then((res) => {\n                        console.log(res); \n                        this.$router.push({ name: \"yourTests\" });\n                    });\n                });\n            });\n          });\n        },\n    },\n\n    // This function runs before the UI loads\n    beforeMount() {\n        // Load categories and tasks from the database\n        this.retrieveCategories();\n        this.retrieveTestAndTasks();\n    },\n    setup() {\n        \n    },\n}\n</script>"]}]}
{"remainingRequest":"/home/dc/Documents/BP/vue-bp-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/dc/Documents/BP/vue-bp-web/src/components/yourtests.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/dc/Documents/BP/vue-bp-web/src/components/yourtests.vue","mtime":1649987524154},{"path":"/home/dc/Documents/BP/vue-bp-web/node_modules/cache-loader/dist/cjs.js","mtime":1642114936856},{"path":"/home/dc/Documents/BP/vue-bp-web/node_modules/babel-loader/lib/index.js","mtime":1642114938312},{"path":"/home/dc/Documents/BP/vue-bp-web/node_modules/cache-loader/dist/cjs.js","mtime":1642114936856},{"path":"/home/dc/Documents/BP/vue-bp-web/node_modules/vue-loader/lib/index.js","mtime":1642114938760}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcEFjdGlvbnMgfSBmcm9tICd2dWV4JzsKaW1wb3J0IGNvbmNyZXRlVGVzdERhdGFTZXJ2aWNlIGZyb20gJy4uL3NlcnZpY2VzL2NvbmNyZXRlVGVzdERhdGFTZXJ2aWNlJzsKaW1wb3J0IGdlbmVyYXRvclNlcnZpY2UgZnJvbSAiLi4vc2VydmljZXMvZ2VuZXJhdG9yU2VydmljZSI7CmltcG9ydCBUZXN0RGF0YVNlcnZpY2UgZnJvbSAiLi4vc2VydmljZXMvdGVzdERhdGFTZXJ2aWNlIjsKaW1wb3J0IHVzZXJEYXRhU2VydmljZSBmcm9tICcuLi9zZXJ2aWNlcy91c2VyRGF0YVNlcnZpY2UnOwoKICAgIGV4cG9ydCBkZWZhdWx0IHsKICAgICAgICBkYXRhKCkgewogICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgc2VsZWN0ZWRUZXN0SWQ6IC0xLCAvLyBXaGljaCB0YXNrIHdhcyBzZWxlY3RlZCB0byBtb2RpZnkgb3IgZGVsZXRlIGZyb20gdGhlIHRhYmxlCgogICAgICAgICAgICAgICAgZGVsZXRlRGlhbG9nOiBmYWxzZSwgLy8gU2hvdyAnQXJlIHlvdSBzdXJlJyBkaWFsb2cgZm9yIGRlbGV0aW9uCiAgICAgICAgICAgICAgICBzZWFyY2g6ICIiLAogICAgICAgICAgICAgICAgaGVhZGVyczogWwogICAgICAgICAgICAgICAgICAgIHt0ZXh0OiAiVGVzdCBuYW1lIiwgdmFsdWU6ICJuYW1lIiwgd2lkdGg6ICI1MGNoIn0sCiAgICAgICAgICAgICAgICAgICAge3RleHQ6ICJMYXN0IE1vZGlmaWVkIiwgdmFsdWU6ICJsYXN0X21vZCIsIHdpZHRoOiAiNDVjaCJ9LAogICAgICAgICAgICAgICAgICAgIHt0ZXh0OiAiSGFuZCBvdXQiLCB2YWx1ZTogImRlbGV0ZSIsIGFsaWduOiAiY2VudGVyIiwgc29ydGFibGU6IGZhbHNlLCB3aWR0aDogIjVjaCJ9LAogICAgICAgICAgICAgICAgICAgIHt0ZXh0OiAiTW9kaWZ5IiwgdmFsdWU6ICJtb2RpZnkiLCBhbGlnbjogImNlbnRlciIsIHNvcnRhYmxlOiBmYWxzZSwgd2lkdGg6ICIxY2giIH0sCiAgICAgICAgICAgICAgICAgICAge3RleHQ6ICJEZWxldGUiLCB2YWx1ZTogImRlbGV0ZSIsIGFsaWduOiAiY2VudGVyIiwgc29ydGFibGU6IGZhbHNlLCB3aWR0aDogIjFjaCIgfSwKICAgICAgICAgICAgICAgIF0sCgogICAgICAgICAgICAgICAgdGVzdHM6IFsgXSwKCiAgICAgICAgICAgICAgICBoYW5kb3V0RGlhbG9nOiBmYWxzZSwKICAgICAgICAgICAgICAgIHN0dWRlbnRzOiBbXSwKICAgICAgICAgICAgICAgIHNlbGVjdGVkU3R1ZGVudHM6IFtdLAoKICAgICAgICAgICAgICAgIGxvYWRTdHVkZW50czogZmFsc2UKICAgICAgICAgICAgfTsKICAgICAgICB9LAoKICAgICAgICBiZWZvcmVSb3V0ZUVudGVyKHRvLCBmcm9tLCBuZXh0KSB7CiAgICAgICAgICAgIG5leHQoKCkgPT4gewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coZnJvbSk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0sCgogICAgICAgIGNvbXB1dGVkOiB7IH0sCgogICAgICAgIGNyZWF0ZWQoKSB7IH0sCgogICAgICAgIC8vIFRoaXMgZnVuY3Rpb24gcnVucyBiZWZvcmUgdGhlIFVJIGxvYWRzCiAgICAgICAgYmVmb3JlTW91bnQoKSB7CiAgICAgICAgICAgIC8vIExvYWQgdGFza3MgZnJvbSB0aGUgZGF0YWJhc2UKICAgICAgICAgICAgdGhpcy5yZXRyaWV2ZVRlc3RzKCk7CiAgICAgICAgfSwKCiAgICAgICAgbWV0aG9kczogeyAKCiAgICAgICAgICAgIC4uLm1hcEFjdGlvbnMoewogICAgICAgICAgICAgICAgc3RhcnRUZXN0TW9kaWZpY2F0aW9uOiAndGVzdC9zdGFydFRlc3RNb2RpZmljYXRpb24nCiAgICAgICAgICAgIH0pLAoKICAgICAgICAgICAgLy8gSGFuZCBvdXQgdGVzdCB0byBzdHVkZW50cwogICAgICAgICAgICBhc3luYyBoYW5kb3V0VGVzdCgpIHsKCiAgICAgICAgICAgICAgICAvLyBHZXQgc2VsZWN0ZWQgQWJzdHJhY3RUZXN0CiAgICAgICAgICAgICAgICBsZXQgYWJzdHJhY3RUZXN0ID0gYXdhaXQgVGVzdERhdGFTZXJ2aWNlLmdldCh0aGlzLnNlbGVjdGVkVGVzdElEKTsKCiAgICAgICAgICAgICAgICAvLyBFeHRyYWN0IGFic3RyYWN0VGFza3MKICAgICAgICAgICAgICAgIGxldCBhYnN0cmFjdFRhc2tzID0gYWJzdHJhY3RUZXN0LmRhdGEudGFza3MubWFwKCh0YXNrKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogdGFzay5jb250ZW50LAogICAgICAgICAgICAgICAgICAgICAgICByZW5kZXJPcHRpb246IHRhc2sudGVzdFRhc2tzLnJlbmRlck9wdGlvbgogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIC8vIEZvciBlYWNoIHNlbGVjdGVkIHN0dWRlbnQKICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRTdHVkZW50cy5mb3JFYWNoKGFzeW5jIChzdHVkZW50KSA9PiB7CgogICAgICAgICAgICAgICAgICAgIC8vIEdlbmVyYXRlIENvbmNyZXRlVGFza3MgZnJvbSBBYnN0cmFjdFRhc2tzCiAgICAgICAgICAgICAgICAgICAgbGV0IGdlbmVyYXRlZCA9IGF3YWl0IGdlbmVyYXRvclNlcnZpY2UuZ2VuZXJhdGVNdWx0aXBsZSh7IGFic3RyYWN0VGFza3MgfSk7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0hFUkUgSVMgVEhFIENPTkNSRVRFIFRBU0tTJywgZ2VuZXJhdGVkLmRhdGEuY29uY3JldGVUYXNrcyk7CgogICAgICAgICAgICAgICAgICAgIC8vIFNhdmUgZXhwZWN0ZWQgYW5zd2VycwogICAgICAgICAgICAgICAgICAgIGxldCBleHBlY3RlZEFuc3dlcnMgPSBbXTsKICAgICAgICAgICAgICAgICAgICBmb3IobGV0IGNvbmNyZXRlVGFzayBvZiBnZW5lcmF0ZWQuZGF0YS5jb25jcmV0ZVRhc2tzKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGNvbmNyZXRlVGFzay5jb250ZW50LmV4cGVjdGVkQW5zd2Vycyk7CiAgICAgICAgICAgICAgICAgICAgICAgIGV4cGVjdGVkQW5zd2VycyA9IGV4cGVjdGVkQW5zd2Vycy5jb25jYXQoWy4uLmNvbmNyZXRlVGFzay5jb250ZW50LmV4cGVjdGVkQW5zd2Vyc10pOwogICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgY29uY3JldGVUYXNrLmNvbnRlbnQuZXhwZWN0ZWRBbnN3ZXJzCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIAoKICAgICAgICAgICAgICAgICAgICAvLyBDcmVhdGUgYSBuZXcgQ29uY3JldGVUZXN0CiAgICAgICAgICAgICAgICAgICAgY29uY3JldGVUZXN0RGF0YVNlcnZpY2UuY3JlYXRlKHsKICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogYWJzdHJhY3RUZXN0LmRhdGEubmFtZSwKICAgICAgICAgICAgICAgICAgICAgICAgdGltZUxpbWl0OiBhYnN0cmFjdFRlc3QuZGF0YS50aW1lTGltaXQsCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRhc2tzIHtjb250ZW50LCByZW5kZXJPcHRpb259CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IGdlbmVyYXRlZC5kYXRhLmNvbmNyZXRlVGFza3MsCiAgICAgICAgICAgICAgICAgICAgICAgIGV4cGVjdGVkQW5zd2VyczogZXhwZWN0ZWRBbnN3ZXJzLAogICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVkRnJvbTogdGhpcy5zZWxlY3RlZFRlc3RJRCwKICAgICAgICAgICAgICAgICAgICAgICAgYXNzaWduZWRUbzogc3R1ZGVudCwKICAgICAgICAgICAgICAgICAgICAgICAgYXNzaWduZWRCeTogdGhpcy4kc3RvcmUuc3RhdGUuYXBwLnVzZXJJRCAKICAgICAgICAgICAgICAgICAgICB9KS50aGVuKCh7ZGF0YX0pID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGFuZG91dERpYWxvZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKChlcnIpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyLmRhdGEubWVzc2FnZSk7CiAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0sCgogICAgICAgICAgICBhc3luYyBvcGVuSGFuZE91dERpYWxvZyh0ZXN0KSB7CiAgICAgICAgICAgICAgICB0aGlzLnN0dWRlbnRzID0gW107CiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkU3R1ZGVudHMgPSBbXTsKCiAgICAgICAgICAgICAgICAvLyBHZXQgYWxsIHVzZXJzIGFuZCBmaWx0ZXIgc3R1ZGVudHMKICAgICAgICAgICAgICAgIHVzZXJEYXRhU2VydmljZS5nZXRBbGwoKS50aGVuKCh7ZGF0YX0pID0+IHsKICAgICAgICAgICAgICAgICAgICB0aGlzLnN0dWRlbnRzID0gZGF0YS5maWx0ZXIoKHt0eXBlfSkgPT4gdHlwZSA9PSAic3R1ZGVudCIpLm1hcCgoc3R1ZGVudCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IHN0dWRlbnQuaWQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBzdHVkZW50Lm5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdXJuYW1lOiBzdHVkZW50LnN1cm5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB0aGlzLmhhbmRvdXREaWFsb2cgPSB0cnVlOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgLy8gU2F2ZSBoYW5kIG91dCB0ZXN0SUQKICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRUZXN0SUQgPSB0ZXN0LmlkOwoKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuJHN0b3JlLnN0YXRlLmFwcC51c2VySUQpOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5zZWxlY3RlZFRlc3RJRCk7CiAgICAgICAgICAgIH0sCgogICAgICAgICAgICAvLyBNb2RpZnkgc2VsZWN0ZWQgdGFzayBpbiBuZXh0IHdpbmRvdwogICAgICAgICAgICBtb2RpZnlUZXN0KGl0ZW0pIHsKICAgICAgICAgICAgICAgIC8vIFBhc3MgaWQgcGFyYW10ZXIgdG8gdGhlIHJvdXRlcgogICAgICAgICAgICAgICAgdGhpcy5zdGFydFRlc3RNb2RpZmljYXRpb24oe3Rlc3RJZDogaXRlbS5pZH0pOwogICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goe25hbWU6ICJjcmVhdGVUZXN0IiwgcGFyYW1zOiB7dGVzdElkOiBpdGVtLmlkfX0pOwogICAgICAgICAgICB9LAogICAgICAgICAgICAKICAgICAgICAgICAgLy8gU2hvdyBkZWxldGUgZGlhbG9nCiAgICAgICAgICAgIHNob3dEZWxldGVEaWFsb2coaXRlbSkgewogICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFRlc3RJRCA9IGl0ZW0uaWQ7CiAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZURpYWxvZyA9IHRydWU7CiAgICAgICAgICAgIH0sCgogICAgICAgICAgICAvLyBEZWxldGUgc2VsZWN0ZWQgdGFzawogICAgICAgICAgICBkZWxldGVUZXN0KGlkKSB7CiAgICAgICAgICAgICAgICBUZXN0RGF0YVNlcnZpY2UuZGVsZXRlKGlkKQogICAgICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgICAgICAgICAgIHRoaXMucmV0cmlldmVUZXN0cygpOwogICAgICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdzaG93TWVzc2FnZScsIHttZXNzYWdlOiByZXMuZGF0YS5tZXNzYWdlfSk7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxldGVEaWFsb2cgPSBmYWxzZTsKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAuY2F0Y2goKGVycikgPT4gewogICAgICAgICAgICAgICAgICAgIHRoaXMucmV0cmlldmVUZXN0cygpOwogICAgICAgICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdzaG93TWVzc2FnZScsIHttZXNzYWdlOiBlcnIucmVzcG9uc2UuZGF0YS5tZXNzYWdlLCBzdWNjZXNzOiBmYWxzZX0pOwogICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlRGlhbG9nID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9LAoKICAgICAgICAgICAgLy8gU2V0dXAgbWFwcGluZyBvZiB0YXNrcwogICAgICAgICAgICBnZXREaXNwbGF5VGVzdCh0ZXN0KSB7CiAgICAgICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgICAgIGlkOiB0ZXN0LmlkLAogICAgICAgICAgICAgICAgICAgIG5hbWU6IHRlc3QubmFtZSwKICAgICAgICAgICAgICAgICAgICBsYXN0X21vZDogdGVzdC51cGRhdGVkQXQKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIC8vIEdldCB0YXNrcyBmcm9tIGRhdGFiYXNlCiAgICAgICAgICAgIHJldHJpZXZlVGVzdHMoKSB7CiAgICAgICAgICAgICAgVGVzdERhdGFTZXJ2aWNlLmdldEFsbCgpCiAgICAgICAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgICAgICAgICAgdGhpcy50ZXN0cyA9IHJlc3BvbnNlLmRhdGEubWFwKHRoaXMuZ2V0RGlzcGxheVRlc3QpOwogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKTsKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAuY2F0Y2goKGUpID0+IHsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSwKICAgICAgICB9LAogICAgfQo="},{"version":3,"sources":["yourtests.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuHA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"yourtests.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <v-container \n        class=\"d-flex flex-column justify-start align-center mt-5 rounded-lg\">\n\n        <v-card elevation=\"0\" class=\"ml-0\">\n            <v-card-title class=\"d-flex flex-row justify-space-between align-center\">\n            <h3 class=\"t-t-color text-h5 pt-3 font-weight-medium\"> Your tests </h3>\n            <v-spacer></v-spacer>\n            <v-spacer></v-spacer>\n            <v-spacer></v-spacer>\n            <v-text-field\n                label=\"Search\" append-icon=\"mdi-magnify\" \n                v-model=\"search\" single-line hide-details\n            ></v-text-field>\n            </v-card-title>\n            \n            <v-data-table\n                :headers=\"headers\" :items=\"tests\" :items-per-page=\"7\" :search=\"search\" width=\"80%\">\n                <template v-slot:item=\"row\">\n                    <tr>\n                        <td>{{ row.item.name }}</td>\n                        <td>{{ getHumanReadableTimestamp(row.item.last_mod) }}</td>\n\n                        <td class=\"px-12\">\n                        <v-btn plain class=\"pa-0\" :ripple=\"false\" @click.stop=\"openHandOutDialog(row.item)\">\n                            <v-icon class=\"pa-0 ma-0\" color=\"primary\">\n                                mdi-clipboard-arrow-up-outline\n                            </v-icon>\n                        </v-btn>\n                        </td>\n                        <td class=\"px-0\">\n                        <v-btn plain class=\"pa-1\" :ripple=\"false\" @click=\"modifyTest(row.item)\">\n                            <v-icon color=\"var(--main-text-color)\">\n                                mdi-pencil-outline\n                            </v-icon>\n                        </v-btn>\n                        </td>\n                        <td class=\"px-0\">\n                        <v-btn plain class=\"pa-0\" :ripple=\"false\" @click.stop=\"showDeleteDialog(row.item)\">\n                            <v-icon class=\"pa-0\" color=\"orange\">\n                                mdi-close-circle-outline\n                            </v-icon>\n                        </v-btn>\n                        </td>                        \n                    </tr>\n                </template>\n\n        </v-data-table>\n\n        </v-card>\n\n        <v-dialog v-model=\"deleteDialog\" width=\"325\">\n            <v-card>\n                <v-card-title class=\"text-h5 lighten-2\"> Delete task? </v-card-title>\n\n                <v-card-text>\n                    Are you sure you want to delete this task?\n                </v-card-text>\n\n                <v-divider></v-divider>\n\n                <v-card-actions>\n                <v-spacer></v-spacer>\n                <v-btn color=\"black\" text @click=\"deleteDialog = false\">\n                    Cancel\n                </v-btn>\n                <v-btn color=\"red\" text @click=\"deleteTest(selectedTestID)\">\n                    Delete\n                </v-btn>\n                </v-card-actions>\n            </v-card>\n        </v-dialog>\n\n        <v-dialog v-model=\"handoutDialog\" width=\"550\">\n            <v-card>\n                <v-card-title class=\"text-h5 lighten-2\"> Hand Out Test </v-card-title>\n\n                <v-card-text class=\"text-body-1 font-weight-medium\">\n                    Select students to assign the test to\n                </v-card-text>\n\n                <v-virtual-scroll :items=\"students\" :item-height=\"40\" height=\"350\">\n                    <template v-slot:default=\"{ item }\">\n                        <v-list-item class=\"px-5\">\n                            <v-list-item-avatar>\n                                <v-avatar color=\"primary\" size=\"32\" class=\"white--text\">\n                                {{ item.name[0] + item.surname[0] }}\n                                </v-avatar>\n                            </v-list-item-avatar>\n\n                            <v-list-item-content>\n                                <v-list-item-title>{{ item.name + \" \" + item.surname }}</v-list-item-title>\n                            </v-list-item-content>\n\n                            <v-list-item-action>\n                                <v-checkbox v-model=\"selectedStudents\" :value=\"item.id\"></v-checkbox>\n                            </v-list-item-action>\n                        </v-list-item>\n                    </template>\n                    </v-virtual-scroll>\n\n                <v-divider></v-divider>\n\n                <v-card-actions>\n                    <v-spacer></v-spacer>\n                    <v-btn text outlined @click=\"handoutDialog = false\">\n                        Cancel\n                    </v-btn>\n                    <v-btn :disabled=\"!selectedStudents.length\" color=\"primary\" @click=\"handoutTest()\">\n                        Hand out\n                    </v-btn>\n                </v-card-actions>\n            </v-card>\n        </v-dialog>\n\n    </v-container>\n</template>\n\n<script>\nimport { mapActions } from 'vuex';\nimport concreteTestDataService from '../services/concreteTestDataService';\nimport generatorService from \"../services/generatorService\";\nimport TestDataService from \"../services/testDataService\";\nimport userDataService from '../services/userDataService';\n\n    export default {\n        data() {\n            return {\n                selectedTestId: -1, // Which task was selected to modify or delete from the table\n\n                deleteDialog: false, // Show 'Are you sure' dialog for deletion\n                search: \"\",\n                headers: [\n                    {text: \"Test name\", value: \"name\", width: \"50ch\"},\n                    {text: \"Last Modified\", value: \"last_mod\", width: \"45ch\"},\n                    {text: \"Hand out\", value: \"delete\", align: \"center\", sortable: false, width: \"5ch\"},\n                    {text: \"Modify\", value: \"modify\", align: \"center\", sortable: false, width: \"1ch\" },\n                    {text: \"Delete\", value: \"delete\", align: \"center\", sortable: false, width: \"1ch\" },\n                ],\n\n                tests: [ ],\n\n                handoutDialog: false,\n                students: [],\n                selectedStudents: [],\n\n                loadStudents: false\n            };\n        },\n\n        beforeRouteEnter(to, from, next) {\n            next(() => {\n                console.log(from);\n            });\n        },\n\n        computed: { },\n\n        created() { },\n\n        // This function runs before the UI loads\n        beforeMount() {\n            // Load tasks from the database\n            this.retrieveTests();\n        },\n\n        methods: { \n\n            ...mapActions({\n                startTestModification: 'test/startTestModification'\n            }),\n\n            // Hand out test to students\n            async handoutTest() {\n\n                // Get selected AbstractTest\n                let abstractTest = await TestDataService.get(this.selectedTestID);\n\n                // Extract abstractTasks\n                let abstractTasks = abstractTest.data.tasks.map((task) => {\n                    return {\n                        content: task.content,\n                        renderOption: task.testTasks.renderOption\n                    }\n                });\n\n                // For each selected student\n                this.selectedStudents.forEach(async (student) => {\n\n                    // Generate ConcreteTasks from AbstractTasks\n                    let generated = await generatorService.generateMultiple({ abstractTasks });\n                    console.log('HERE IS THE CONCRETE TASKS', generated.data.concreteTasks);\n\n                    // Save expected answers\n                    let expectedAnswers = [];\n                    for(let concreteTask of generated.data.concreteTasks) {\n                        console.log(concreteTask.content.expectedAnswers);\n                        expectedAnswers = expectedAnswers.concat([...concreteTask.content.expectedAnswers]);\n                        delete concreteTask.content.expectedAnswers\n                    }\n                    \n\n                    // Create a new ConcreteTest\n                    concreteTestDataService.create({\n                        name: abstractTest.data.name,\n                        timeLimit: abstractTest.data.timeLimit,\n                        // tasks {content, renderOption}\n                        content: generated.data.concreteTasks,\n                        expectedAnswers: expectedAnswers,\n                        createdFrom: this.selectedTestID,\n                        assignedTo: student,\n                        assignedBy: this.$store.state.app.userID \n                    }).then(({data}) => {\n                        console.log(data);\n                        this.handoutDialog = false;\n                    }).catch((err) => {\n                        console.log(err.data.message);\n                    });\n\n                });\n            },\n\n            async openHandOutDialog(test) {\n                this.students = [];\n                this.selectedStudents = [];\n\n                // Get all users and filter students\n                userDataService.getAll().then(({data}) => {\n                    this.students = data.filter(({type}) => type == \"student\").map((student) => {\n                        return {\n                            id: student.id,\n                            name: student.name,\n                            surname: student.surname,\n                        }\n                    });\n                    this.handoutDialog = true;\n                });\n\n                // Save hand out testID\n                this.selectedTestID = test.id;\n\n                console.log(this.$store.state.app.userID);\n                console.log(this.selectedTestID);\n            },\n\n            // Modify selected task in next window\n            modifyTest(item) {\n                // Pass id paramter to the router\n                this.startTestModification({testId: item.id});\n                this.$router.push({name: \"createTest\", params: {testId: item.id}});\n            },\n            \n            // Show delete dialog\n            showDeleteDialog(item) {\n                this.selectedTestID = item.id;\n                this.deleteDialog = true;\n            },\n\n            // Delete selected task\n            deleteTest(id) {\n                TestDataService.delete(id)\n                .then((res) => {\n                    this.retrieveTests();\n                    this.$store.dispatch('showMessage', {message: res.data.message});\n                    this.deleteDialog = false;\n                })\n                .catch((err) => {\n                    this.retrieveTests();\n                    this.$store.dispatch('showMessage', {message: err.response.data.message, success: false});\n                    this.deleteDialog = false;\n                })\n            },\n\n            // Setup mapping of tasks\n            getDisplayTest(test) {\n                return {\n                    id: test.id,\n                    name: test.name,\n                    last_mod: test.updatedAt\n                };\n            },\n            // Get tasks from database\n            retrieveTests() {\n              TestDataService.getAll()\n                .then((response) => {\n                  this.tests = response.data.map(this.getDisplayTest);\n                  console.log(response.data);\n                })\n                .catch((e) => {\n                  console.log(e);\n                });\n            },\n        },\n    }\n</script>\n\n<style>\n    .b-g {\n        background-color: var(--green-background-color);\n        height: 90%;\n    }\n    .r-g {\n        height: 90%;\n    }\n    .h-g {\n        border: solid 2px hotpink;\n    }\n\n    [text-narrow] {\n        line-height: 1.1 !important;\n        font-size: 1rem;\n    }\n\n    .pointer {\n        cursor: pointer !important;\n    }\n</style>"]}]}
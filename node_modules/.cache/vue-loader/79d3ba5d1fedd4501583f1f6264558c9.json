{"remainingRequest":"/home/dc/Documents/BP/vue-bp-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/dc/Documents/BP/vue-bp-web/src/components/yourAssignments.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/dc/Documents/BP/vue-bp-web/src/components/yourAssignments.vue","mtime":1649025543732},{"path":"/home/dc/Documents/BP/vue-bp-web/node_modules/cache-loader/dist/cjs.js","mtime":1642114936856},{"path":"/home/dc/Documents/BP/vue-bp-web/node_modules/babel-loader/lib/index.js","mtime":1642114938312},{"path":"/home/dc/Documents/BP/vue-bp-web/node_modules/cache-loader/dist/cjs.js","mtime":1642114936856},{"path":"/home/dc/Documents/BP/vue-bp-web/node_modules/vue-loader/lib/index.js","mtime":1642114938760}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBjb25jcmV0ZVRlc3REYXRhU2VydmljZSBmcm9tICcuLi9zZXJ2aWNlcy9jb25jcmV0ZVRlc3REYXRhU2VydmljZSc7CiAgICBpbXBvcnQgVGFza0RhdGFTZXJ2aWNlIGZyb20gIi4uL3NlcnZpY2VzL3Rhc2tEYXRhU2VydmljZSI7CmltcG9ydCB1c2VyRGF0YVNlcnZpY2UgZnJvbSAnLi4vc2VydmljZXMvdXNlckRhdGFTZXJ2aWNlJzsKCiAgICBleHBvcnQgZGVmYXVsdCB7CiAgICAgICAgZGF0YSgpIHsKICAgICAgICAgICAgcmV0dXJuIHsgCiAgICAgICAgICAgICAgICBzZWxlY3RlZFRlc3Q6IHt9LCAvLyBXaGljaCB0ZXN0IHdhcyBzZWxlY3RlZCB0byBiZWdpbiBvciB2aWV3IHJlc3VsdCBvZgogICAgICAgICAgICAgICAgc3RhcnREaWFsb2c6IGZhbHNlLCAvLyBTaG93ICdBcmUgeW91IHN1cmUnIGRpYWxvZyBiZWZvcmUgc3RhcnRpbmcgdGVzdAogICAgICAgICAgICAgICAgcmVzdWx0c0RpYWxvZzogZmFsc2UsCiAgICAgICAgICAgICAgICBjYWxjdWxhdGVkRnJhY3Rpb246ICcnLAogICAgICAgICAgICAgICAgY2FsY3VsYXRlZFBlcmNlbnRhZ2U6ICcnLAogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBzZWFyY2g6ICIiLAogICAgICAgICAgICAgICAgaGVhZGVyczogWwogICAgICAgICAgICAgICAgICAgIHt0ZXh0OiAiVGVzdCBuYW1lIiwgdmFsdWU6ICJ0ZXN0X25hbWUiLCB3aWR0aDogIjQ1Y2gifSwKICAgICAgICAgICAgICAgICAgICB7dGV4dDogIkFzc2lnbmVkIGJ5IiwgdmFsdWU6ICJhc3NpZ25lZEJ5Iiwgd2lkdGg6ICI1MGNoIn0sCiAgICAgICAgICAgICAgICAgICAge3RleHQ6ICJUaW1lIGxpbWl0IiwgdmFsdWU6ICJ0aW1lX2xpbWl0Iiwgd2lkdGg6ICIyNWNoIn0sCiAgICAgICAgICAgICAgICAgICAge3RleHQ6ICJBY3Rpb24iLCB2YWx1ZTogImFjdGlvbiIsIGFsaWduOiAiY2VudGVyIiwgc29ydGFibGU6IGZhbHNlLCB3aWR0aDogIjEwY2gifSwKICAgICAgICAgICAgICAgIF0sCiAgICAgICAgICAgICAgICBhc3NpZ25tZW50czogWyBdCiAgICAgICAgICAgIH07CiAgICAgICAgfSwKCiAgICAgICAgY29tcHV0ZWQ6IHsgfSwKCiAgICAgICAgY3JlYXRlZCgpIHsgfSwKCiAgICAgICAgLy8gVGhpcyBmdW5jdGlvbiBydW5zIGJlZm9yZSB0aGUgVUkgbG9hZHMKICAgICAgICBiZWZvcmVNb3VudCgpIHsKICAgICAgICAgICAgLy8gTG9hZCB0YXNrcyBmcm9tIHRoZSBkYXRhYmFzZQogICAgICAgICAgICB0aGlzLnJldHJpZXZlVGFza3MoKTsKICAgICAgICB9LAoKICAgICAgICBtZXRob2RzOiB7IAogICAgICAgICAgICB0ZXN0UmVzdWx0KCkgewogICAgICAgICAgICAgICAgLy8gSWYgYSB0ZXN0IGlzIHNlbGVjdGVkCiAgICAgICAgICAgICAgICBpZiggdGhpcy5zZWxlY3RlZFRlc3QgKSB7CiAgICAgICAgICAgICAgICAgICAgbGV0IGFuc3dlcnNUb3RhbCA9IDA7CiAgICAgICAgICAgICAgICAgICAgbGV0IGNvcnJlY3RBbnN3ZXJzID0gMDsKICAgICAgICAgICAgICAgICAgICBmb3IobGV0IHRhc2sgb2YgdGhpcy5zZWxlY3RlZFRlc3QuY29udGVudCkgewogICAgICAgICAgICAgICAgICAgICAgICBmb3IobGV0IHF1ZXN0aW9uIG9mIHRhc2suY29udGVudC5xdWVzdGlvbnMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcihsZXQgYW5zd2VyIG9mIHF1ZXN0aW9uLmFuc3dlcnMpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJbmNyZW1lbnQgdG90YWwgYW5zd2VyIGNvdW50CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5zd2Vyc1RvdGFsID0gYW5zd2Vyc1RvdGFsICsgMTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgYW5zd2VyIGlzIGNvcnJlY3QKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihhbnN3ZXIuY29ycmVjdFswXSA9PSBhbnN3ZXIuc2VsZWN0ZWQpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvcnJlY3RBbnN3ZXJzID0gY29ycmVjdEFuc3dlcnMgKyAxOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZWRQZXJjZW50YWdlID0gKGNvcnJlY3RBbnN3ZXJzL2Fuc3dlcnNUb3RhbCkgKiAxMDA7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGVkRnJhY3Rpb24gPSBgJHtjb3JyZWN0QW5zd2Vyc30vJHthbnN3ZXJzVG90YWx9YDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKCiAgICAgICAgICAgIHN0YXJ0VGVzdChpZCkgewogICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goe25hbWU6ICJ0YWtlVGVzdCIsIHBhcmFtczoge2lkOiBpZH19KQogICAgICAgICAgICB9LAoKICAgICAgICAgICAgdmlld1Jlc3VsdHModGVzdCkgewogICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFRlc3QgPSB0ZXN0OwogICAgICAgICAgICAgICAgdGhpcy50ZXN0UmVzdWx0KCk7CiAgICAgICAgICAgICAgICB0aGlzLnJlc3VsdHNEaWFsb2cgPSB0cnVlOwogICAgICAgICAgICB9LAoKICAgICAgICAgICAgLy8gZGVsZXRlIHNlbGVjdGVkIHRhc2sKICAgICAgICAgICAgc2hvd0RlbGV0ZURpYWxvZyhpdGVtKSB7CiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRJZCA9IGl0ZW0uaWQ7CiAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZURpYWxvZyA9IHRydWU7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGRlbGV0ZVRhc2soaWQpIHsKICAgICAgICAgICAgICAgIFRhc2tEYXRhU2VydmljZS5kZWxldGUoaWQpCiAgICAgICAgICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlID0gcmVzLmRhdGEubWVzc2FnZTsKICAgICAgICAgICAgICAgICAgICB0aGlzLnN1Y2Nlc3MgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIHRoaXMuaW5mb01lc3NhZ2UgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIHRoaXMucmV0cmlldmVUYXNrcygpOwogICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlRGlhbG9nID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHsKICAgICAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2UgPSBlcnIucmVzcG9uc2UuZGF0YS5tZXNzYWdlOwogICAgICAgICAgICAgICAgICAgIHRoaXMuc3VjY2VzcyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIHRoaXMuaW5mb01lc3NhZ2UgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIHRoaXMucmV0cmlldmVUYXNrcygpOwogICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlRGlhbG9nID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9LAoKICAgICAgICAgICAgLy8gU2V0dXAgbWFwcGluZyBvZiB0YXNrcwogICAgICAgICAgICBnZXREaXNwbGF5VGFzayh0YXNrKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgICAgIGlkOiB0YXNrLmlkLAogICAgICAgICAgICAgICAgICAgIG5hbWU6IHRhc2submFtZSwKICAgICAgICAgICAgICAgICAgICBsYXN0X21vZDogdGFzay51cGRhdGVkQXQKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIC8vIEdldCB0YXNrcyBmcm9tIGRhdGFiYXNlCiAgICAgICAgICAgIHJldHJpZXZlVGFza3MoKSB7CiAgICAgICAgICAgICAgICB1c2VyRGF0YVNlcnZpY2UuZ2V0U3R1ZGVudEFzc2lnbm1lbnRzKHRoaXMuJHN0b3JlLnN0YXRlLmFwcC51c2VySUQpLnRoZW4oKHtkYXRhfSkgPT4geyAgICAKCiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coIkNPTlRFTlQ6ICIsIGRhdGEpOwoKICAgICAgICAgICAgICAgICAgICB0aGlzLmFzc2lnbm1lbnRzID0gZGF0YS5hc3NpZ25tZW50cy5tYXAoKHRlc3QpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiB0ZXN0LmlkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogdGVzdC5uYW1lLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgYXNzaWduZWRCeTogYCR7dGVzdC5hc3NpZ25lZEJ5Lm5hbWV9ICAke3Rlc3QuYXNzaWduZWRCeS5zdXJuYW1lfWAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lTGltaXQ6IHRlc3QudGltZUxpbWl0LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiB0ZXN0LnN0YXR1cywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IHRlc3QuY29udGVudAogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSwKICAgICAgICB9LAogICAgfQo="},{"version":3,"sources":["yourAssignments.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwHA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"yourAssignments.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <v-container \n        class=\"d-flex flex-column justify-start align-center mt-5 rounded-lg\">\n\n        <v-card elevation=\"0\" class=\"ml-0\">\n            <v-card-title class=\"d-flex flex-row justify-space-between align-center\">\n            <h3 class=\"t-t-color text-h5 pt-3 font-weight-medium\"> Your assignments </h3>\n            <v-spacer></v-spacer>\n            <v-spacer></v-spacer>\n            <v-spacer></v-spacer>\n            <v-text-field\n                v-model=\"search\"\n                append-icon=\"mdi-magnify\"\n                label=\"Search\"\n                single-line\n                hide-details\n            ></v-text-field>\n            </v-card-title>\n            \n            <v-data-table\n            :headers=\"headers\"\n            :items=\"assignments\"\n            :items-per-page=\"7\"\n            :search=\"search\"\n            width=\"80%\"\n        >\n             <template v-slot:item=\"row\">\n                <tr>\n                    <td>{{ row.item.name }}</td>\n                    <td>{{ row.item.assignedBy }}</td>\n                    <td>{{ row.item.timeLimit }} minutes </td>\n\n                    <td>\n                      <v-tooltip v-if=\"row.item.status == 'Handed Out'\" right>\n                        <template v-slot:activator=\"{ on, attrs }\">\n                          <v-btn v-bind=\"attrs\" v-on=\"on\" plain class=\"pa-1\" \n                          icon :ripple=\"false\" @click=\"startDialog = true; selectedTest = row.item\">\n                              <v-icon color=\"text\">\n                                  mdi-draw\n                              </v-icon>\n                          </v-btn>\n                        </template>\n                        <span> Start Test </span>\n                      </v-tooltip>\n                      <v-tooltip v-if=\"row.item.status == 'In Progress'\" right>\n                        <template v-slot:activator=\"{ on, attrs }\">\n                          <v-btn v-bind=\"attrs\" v-on=\"on\" plain class=\"pa-1\" \n                          icon :ripple=\"false\" @click=\"selectedTest = row.item; startTest(selectedTest.id)\">\n                              <v-icon color=\"primary\">\n                                  mdi-draw\n                              </v-icon>\n                          </v-btn>\n                        </template>\n                        <span> Continue Test </span>\n                      </v-tooltip>\n                      <v-tooltip v-if=\"row.item.status == 'Finished'\" right>\n                        <template v-slot:activator=\"{ on, attrs }\">\n                          <v-btn v-bind=\"attrs\" v-on=\"on\" plain class=\"pa-1\" \n                          icon :ripple=\"false\" @click=\"viewResults(row.item)\">\n                              <v-icon color=\"text\">\n                                  mdi-file-eye-outline\n                              </v-icon>\n                          </v-btn>\n                        </template>\n                        <span> View Result </span>\n                      </v-tooltip>\n                    </td>\n                </tr>\n            </template>\n\n        </v-data-table>\n\n        </v-card>\n\n        <v-dialog v-model=\"startDialog\" width=\"325\">\n            <v-card>\n                <v-card-title class=\"text-h5 lighten-2\"> Start task </v-card-title>\n\n                <v-card-text> You will have exactly \n                    <span class=\"font-weight-medium text-body-1\">\n                        {{ selectedTest.timeLimit }} minutes\n                    </span> \n                    to complete this test. Do not close the browser window during \n                    the test or you will lose your data and will need to start over. \n                </v-card-text>\n\n                <v-divider></v-divider>\n\n                <v-card-actions>\n                    <v-spacer></v-spacer>\n                    <v-btn color=\"black\" outlined text @click=\"startDialog = false\"> Cancel </v-btn>\n                    <v-btn color=\"primary\" @click=\"startTest(selectedTest.id)\"> Start </v-btn>\n                </v-card-actions>\n                \n            </v-card>\n        </v-dialog>\n\n        <v-dialog v-model=\"resultsDialog\" width=\"450\">\n            <v-card>\n                <v-card-title class=\"text-h5 lighten-2\"> Test results </v-card-title>\n\n                <v-card-text class=\"text-body-1\"> \n                    You overall score: {{ calculatedPercentage }} <br>\n                    Correct answers: {{ calculatedFraction }}\n                </v-card-text>\n\n                <v-divider></v-divider>\n\n                <v-card-actions>\n                    <v-spacer></v-spacer>\n                    <v-btn color=\"primary\" outlined text @click=\"resultsDialog = false\"> Close </v-btn>\n                </v-card-actions>\n                \n            </v-card>\n        </v-dialog>\n\n    </v-container>\n</template>\n\n<script>\nimport concreteTestDataService from '../services/concreteTestDataService';\n    import TaskDataService from \"../services/taskDataService\";\nimport userDataService from '../services/userDataService';\n\n    export default {\n        data() {\n            return { \n                selectedTest: {}, // Which test was selected to begin or view result of\n                startDialog: false, // Show 'Are you sure' dialog before starting test\n                resultsDialog: false,\n                calculatedFraction: '',\n                calculatedPercentage: '',\n                \n                search: \"\",\n                headers: [\n                    {text: \"Test name\", value: \"test_name\", width: \"45ch\"},\n                    {text: \"Assigned by\", value: \"assignedBy\", width: \"50ch\"},\n                    {text: \"Time limit\", value: \"time_limit\", width: \"25ch\"},\n                    {text: \"Action\", value: \"action\", align: \"center\", sortable: false, width: \"10ch\"},\n                ],\n                assignments: [ ]\n            };\n        },\n\n        computed: { },\n\n        created() { },\n\n        // This function runs before the UI loads\n        beforeMount() {\n            // Load tasks from the database\n            this.retrieveTasks();\n        },\n\n        methods: { \n            testResult() {\n                // If a test is selected\n                if( this.selectedTest ) {\n                    let answersTotal = 0;\n                    let correctAnswers = 0;\n                    for(let task of this.selectedTest.content) {\n                        for(let question of task.content.questions) {\n                            for(let answer of question.answers) {\n                                // Increment total answer count\n                                answersTotal = answersTotal + 1;\n\n                                // Check if answer is correct\n                                if(answer.correct[0] == answer.selected)\n                                    correctAnswers = correctAnswers + 1;\n                            }\n                        }\n                    }\n\n                    this.calculatedPercentage = (correctAnswers/answersTotal) * 100;\n                    this.calculatedFraction = `${correctAnswers}/${answersTotal}`;\n                }\n            },\n\n            startTest(id) {\n                this.$router.push({name: \"takeTest\", params: {id: id}})\n            },\n\n            viewResults(test) {\n                this.selectedTest = test;\n                this.testResult();\n                this.resultsDialog = true;\n            },\n\n            // delete selected task\n            showDeleteDialog(item) {\n                this.currentId = item.id;\n                this.deleteDialog = true;\n            },\n            deleteTask(id) {\n                TaskDataService.delete(id)\n                .then((res) => {\n                    this.message = res.data.message;\n                    this.success = true;\n                    this.infoMessage = true;\n                    this.retrieveTasks();\n                    this.deleteDialog = false;\n                })\n                .catch((err) => {\n                    this.message = err.response.data.message;\n                    this.success = false;\n                    this.infoMessage = true;\n                    this.retrieveTasks();\n                    this.deleteDialog = false;\n                })\n            },\n\n            // Setup mapping of tasks\n            getDisplayTask(task) {\n                return {\n                    id: task.id,\n                    name: task.name,\n                    last_mod: task.updatedAt\n                };\n            },\n            // Get tasks from database\n            retrieveTasks() {\n                userDataService.getStudentAssignments(this.$store.state.app.userID).then(({data}) => {    \n\n                    console.log(\"CONTENT: \", data);\n\n                    this.assignments = data.assignments.map((test) => {\n                        return {\n                            id: test.id,\n                            name: test.name,\n                            assignedBy: `${test.assignedBy.name}  ${test.assignedBy.surname}`,\n                            timeLimit: test.timeLimit,\n                            status: test.status,\n                            content: test.content\n                        }\n                    });\n                });\n            },\n        },\n    }\n</script>\n\n<style>\n    .b-g {\n        background-color: var(--green-background-color);\n        height: 90%;\n    }\n    .r-g {\n        height: 90%;\n    }\n    .h-g {\n        border: solid 2px hotpink;\n    }\n\n    [text-narrow] {\n        line-height: 1.1 !important;\n        font-size: 1rem;\n    }\n\n    .pointer {\n        cursor: pointer !important;\n    }\n</style>"]}]}
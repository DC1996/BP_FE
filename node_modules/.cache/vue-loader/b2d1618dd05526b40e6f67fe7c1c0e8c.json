{"remainingRequest":"/home/dc/Documents/BP/vue-bp-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/dc/Documents/BP/vue-bp-web/src/components/yourtasks.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/dc/Documents/BP/vue-bp-web/src/components/yourtasks.vue","mtime":1646225222551},{"path":"/home/dc/Documents/BP/vue-bp-web/node_modules/cache-loader/dist/cjs.js","mtime":1642114936856},{"path":"/home/dc/Documents/BP/vue-bp-web/node_modules/babel-loader/lib/index.js","mtime":1642114938312},{"path":"/home/dc/Documents/BP/vue-bp-web/node_modules/cache-loader/dist/cjs.js","mtime":1642114936856},{"path":"/home/dc/Documents/BP/vue-bp-web/node_modules/vue-loader/lib/index.js","mtime":1642114938760}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBUYXNrRGF0YVNlcnZpY2UgZnJvbSAiLi4vc2VydmljZXMvdGFza0RhdGFTZXJ2aWNlIjsKCmV4cG9ydCBkZWZhdWx0IHsKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsgCiAgICAgICAgICAgIG1lc3NhZ2U6ICIiLAogICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSwKICAgICAgICAgICAgaW5mb01lc3NhZ2U6IGZhbHNlLAoKICAgICAgICAgICAgY3VycmVudElkOiAtMSwgLy8gd2hpY2ggdGFzayB3YXMgc2VsZWN0ZWQgdG8gbW9kaWZ5IG9yIGRlbGV0ZSBmcm9tIHRoZSB0YWJsZQoKICAgICAgICAgICAgZGVsZXRlRGlhbG9nOiBmYWxzZSwgLy8gc2hvdyAnQXJlIHlvdSBzdXJlJyBkaWFsb2cgZm9yIGRlbGV0aW9uCiAgICAgICAgICAgIHNlYXJjaDogIiIsCiAgICAgICAgICAgIGhlYWRlcnM6IFsKICAgICAgICAgICAgICAgIHt0ZXh0OiAiVGFzayBuYW1lIiwgdmFsdWU6ICJuYW1lIiwgd2lkdGg6ICI2MGNoIn0sCiAgICAgICAgICAgICAgICB7dGV4dDogIkxhc3QgTW9kaWZpZWQiLCB2YWx1ZTogImxhc3RfbW9kIiwgd2lkdGg6ICI1MGNoIn0sCiAgICAgICAgICAgICAgICB7dGV4dDogIk1vZGlmeSIsIHZhbHVlOiAibW9kaWZ5IiwgYWxpZ246ICJjZW50ZXIiLCBzb3J0YWJsZTogZmFsc2UsIHdpZHRoOiAiMTBjaCJ9LAogICAgICAgICAgICAgICAge3RleHQ6ICJEZWxldGUiLCB2YWx1ZTogImRlbGV0ZSIsIGFsaWduOiAiY2VudGVyIiwgc29ydGFibGU6IGZhbHNlLCB3aWR0aDogIjEwY2gifSwKICAgICAgICAgICAgXSwKCiAgICAgICAgICAgIHRhc2tzOiBbIF0KICAgICAgICB9OwogICAgfSwKICAgIGNvbXB1dGVkOiB7IH0sCgogICAgY3JlYXRlZCgpIHsgfSwKCiAgICBtZXRob2RzOiB7IAoKICAgICAgICAvLyBtb2RpZnkgc2VsZWN0ZWQgdGFzayBpbiBuZXh0IHdpbmRvdwogICAgICAgIG1vZGlmeVRhc2soaXRlbSkgewogICAgICAgICAgICBjb25zb2xlLmxvZygiSVRFTSBEQVRBOiAiLCBpdGVtKTsKICAgICAgICAgICAgLy8gcGFzcyBpZCBwYXJhbXRlciB0byB0aGUgcm91dGVyCiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHtuYW1lOiAiY3JlYXRlVGFzayIsIHBhcmFtczoge3Rhc2tJZDogaXRlbS5pZH19KQogICAgICAgIH0sCiAgICAgICAgCiAgICAgICAgLy8gZGVsZXRlIHNlbGVjdGVkIHRhc2sKICAgICAgICBzaG93RGVsZXRlRGlhbG9nKGl0ZW0pIHsKICAgICAgICAgICAgdGhpcy5jdXJyZW50SWQgPSBpdGVtLmlkCiAgICAgICAgICAgIHRoaXMuZGVsZXRlRGlhbG9nID0gdHJ1ZTsKICAgICAgICB9LAogICAgICAgIGRlbGV0ZVRhc2soaWQpIHsKICAgICAgICAgICAgVGFza0RhdGFTZXJ2aWNlLmRlbGV0ZShpZCkKICAgICAgICAgICAgLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlID0gcmVzLmRhdGEubWVzc2FnZQogICAgICAgICAgICAgICAgdGhpcy5zdWNjZXNzID0gdHJ1ZQogICAgICAgICAgICAgICAgdGhpcy5pbmZvTWVzc2FnZSA9IHRydWUKICAgICAgICAgICAgICAgIC8vdGhpcy5yZXRyaWV2ZVRhc2tzKCkKICAgICAgICAgICAgICAgIHRoaXMuZGVsZXRlRGlhbG9nID0gZmFsc2UKICAgICAgICAgICAgfSkKICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHsKICAgICAgICAgICAgICAgIHRoaXMubWVzc2FnZSA9IGVyci5yZXNwb25zZS5kYXRhLm1lc3NhZ2U7CiAgICAgICAgICAgICAgICB0aGlzLnN1Y2Nlc3MgPSBmYWxzZQogICAgICAgICAgICAgICAgdGhpcy5pbmZvTWVzc2FnZSA9IHRydWUKICAgICAgICAgICAgICAgIHRoaXMucmV0cmlldmVUYXNrcygpCiAgICAgICAgICAgICAgICB0aGlzLmRlbGV0ZURpYWxvZyA9IGZhbHNlCiAgICAgICAgICAgIH0pCiAgICAgICAgfSwKCiAgICAgICAgLy8gc2V0dXAgbWFwcGluZyBvZiB0YXNrcwogICAgICAgIGdldERpc3BsYXlUYXNrKHRhc2spIHsKICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgIGlkOiB0YXNrLmlkLAogICAgICAgICAgICAgICAgbmFtZTogdGFzay5uYW1lLAogICAgICAgICAgICAgICAgbGFzdF9tb2Q6IHRhc2sudXBkYXRlZEF0CiAgICAgICAgICAgIH07CiAgICAgICAgfSwKICAgICAgICAvLyBnZXQgdGFza3MgZnJvbSBkYXRhYmFzZQogICAgICAgIHJldHJpZXZlVGFza3MoKSB7CiAgICAgICAgVGFza0RhdGFTZXJ2aWNlLmdldEFsbCgpCiAgICAgICAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgICAgICAgIHRoaXMudGFza3MgPSByZXNwb25zZS5kYXRhLm1hcCh0aGlzLmdldERpc3BsYXlUYXNrKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC5jYXRjaCgoZSkgPT4gewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICB9LAogICAgYmVmb3JlTW91bnQoKSB7CiAgICAgICAgICAgIHRoaXMucmV0cmlldmVUYXNrcygpOwogICAgfQp9Cg=="},{"version":3,"sources":["yourtasks.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmGA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"yourtasks.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <v-container \n        class=\"d-flex flex-column justify-start align-center mt-5 rounded-lg\">\n\n        <v-card elevation=\"0\" class=\"ml-0\">\n            <v-card-title class=\"d-flex flex-row justify-space-between align-center\">\n            <h3 class=\"t-t-color text-h5 pt-3 font-weight-medium\"> All your tasks </h3>\n            <v-spacer></v-spacer>\n            <v-spacer></v-spacer>\n            <v-spacer></v-spacer>\n            <v-text-field\n                v-model=\"search\"\n                append-icon=\"mdi-magnify\"\n                label=\"Search\"\n                single-line\n                hide-details\n            ></v-text-field>\n            </v-card-title>\n            \n            <v-data-table\n            :headers=\"headers\"\n            :items=\"tasks\"\n            :items-per-page=\"7\"\n            :search=\"search\"\n            width=\"80%\"\n        >\n             <template v-slot:item=\"row\">\n                <tr>\n                    <td>{{ row.item.name }}</td>\n                    <td>{{ row.item.last_mod }}</td>\n\n                    <td>\n                    <v-btn plain class=\"pa-1\" :ripple=\"false\" @click=\"modifyTask(row.item)\">\n                        <v-icon color=\"var(--main-text-color)\">\n                            mdi-pencil-outline\n                        </v-icon>\n                    </v-btn>\n                    </td>\n                    <td>\n                    <v-btn plain class=\"pa-0\" :ripple=\"false\" @click.stop=\"showDeleteDialog(row.item)\">\n                        <v-icon class=\"pa-0\" color=\"orange\">\n                            mdi-close-circle-outline\n                        </v-icon>\n                    </v-btn>\n                    </td>\n                </tr>\n            </template>\n\n        </v-data-table>\n\n        </v-card>\n\n        <!-- Display quick message for the user -->\n            <v-snackbar v-model=\"infoMessage\" :timeout=\"2500\" outlined :color=\"this.success ? 'green' : 'red'\" top>\n                <!-- text message -->\n                {{ message }}\n                <!-- close icon -->\n                <template v-slot:action=\"{ attrs }\">\n                    <v-btn plain v-bind=\"attrs\" @click=\"infoMessage = false\">\n                        <v-icon>mdi-close</v-icon>\n                    </v-btn>\n                </template>\n            </v-snackbar>\n        <!-- Display quick message for the user -->\n\n        <v-dialog v-model=\"deleteDialog\" width=\"325\">\n                        <v-card>\n                            <v-card-title class=\"text-h5 lighten-2\"> Delete task? </v-card-title>\n\n                            <v-card-text>\n                                Are you sure you want to delete this task?\n                            </v-card-text>\n\n                            <v-divider></v-divider>\n\n                            <v-card-actions>\n                            <v-spacer></v-spacer>\n                            <v-btn\n                                color=\"black\"\n                                text\n                                @click=\"deleteDialog = false\"\n                            >\n                                Cancel\n                            </v-btn>\n                            <v-btn\n                                color=\"red\"\n                                text\n                                @click=\"deleteTask(currentId)\"\n                            >\n                                Delete\n                            </v-btn>\n                            </v-card-actions>\n                        </v-card>\n                    </v-dialog>\n\n    </v-container>\n</template>\n\n<script>\n    import TaskDataService from \"../services/taskDataService\";\n\n    export default {\n        data() {\n            return { \n                message: \"\",\n                success: false,\n                infoMessage: false,\n\n                currentId: -1, // which task was selected to modify or delete from the table\n\n                deleteDialog: false, // show 'Are you sure' dialog for deletion\n                search: \"\",\n                headers: [\n                    {text: \"Task name\", value: \"name\", width: \"60ch\"},\n                    {text: \"Last Modified\", value: \"last_mod\", width: \"50ch\"},\n                    {text: \"Modify\", value: \"modify\", align: \"center\", sortable: false, width: \"10ch\"},\n                    {text: \"Delete\", value: \"delete\", align: \"center\", sortable: false, width: \"10ch\"},\n                ],\n\n                tasks: [ ]\n            };\n        },\n        computed: { },\n\n        created() { },\n\n        methods: { \n\n            // modify selected task in next window\n            modifyTask(item) {\n                console.log(\"ITEM DATA: \", item);\n                // pass id paramter to the router\n                this.$router.push({name: \"createTask\", params: {taskId: item.id}})\n            },\n            \n            // delete selected task\n            showDeleteDialog(item) {\n                this.currentId = item.id\n                this.deleteDialog = true;\n            },\n            deleteTask(id) {\n                TaskDataService.delete(id)\n                .then((res) => {\n                    this.message = res.data.message\n                    this.success = true\n                    this.infoMessage = true\n                    //this.retrieveTasks()\n                    this.deleteDialog = false\n                })\n                .catch((err) => {\n                    this.message = err.response.data.message;\n                    this.success = false\n                    this.infoMessage = true\n                    this.retrieveTasks()\n                    this.deleteDialog = false\n                })\n            },\n\n            // setup mapping of tasks\n            getDisplayTask(task) {\n                return {\n                    id: task.id,\n                    name: task.name,\n                    last_mod: task.updatedAt\n                };\n            },\n            // get tasks from database\n            retrieveTasks() {\n            TaskDataService.getAll()\n                    .then((response) => {\n                    this.tasks = response.data.map(this.getDisplayTask);\n                    console.log(response.data);\n                    })\n                    .catch((e) => {\n                    console.log(e);\n                });\n            },\n        },\n        beforeMount() {\n                this.retrieveTasks();\n        }\n    }\n</script>\n\n<style>\n    .b-g {\n        background-color: var(--green-background-color);\n        height: 90%;\n    }\n    .r-g {\n        height: 90%;\n    }\n    .h-g {\n        border: solid 2px hotpink;\n    }\n\n    [text-narrow] {\n        line-height: 1.1 !important;\n        font-size: 1rem;\n    }\n\n    .pointer {\n        cursor: pointer !important;\n    }\n</style>"]}]}